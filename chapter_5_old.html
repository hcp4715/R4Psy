<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>chapter_5_old.knit</title>
    <meta charset="utf-8" />
    <meta name="author" content="" />
    <script src="libs/header-attrs-2.25/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
    <link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding-0.32/datatables.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="css/Font_Style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: center, middle
&lt;span style="font-size: 60px;"&gt;第五章&lt;/span&gt; &lt;br&gt;
&lt;span style="font-size: 50px;"&gt;如何清理数据 二 数据的预处理&lt;/span&gt; &lt;br&gt;
&lt;span style="font-size: 30px;"&gt;如何使用 dplyr 和 tidyr&lt;/span&gt; &lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;span style="font-size: 30px;"&gt;胡传鹏&lt;/span&gt; &lt;br&gt;
&lt;span style="font-size: 30px;"&gt;2024-03-30&lt;/span&gt; &lt;br&gt;

---
# &lt;h1 lang="zh-CN"&gt;回顾&lt;/h1&gt;
# &lt;h2 lang="zh-CN"&gt;了解函数&lt;/h2&gt;
# &lt;h2 lang="zh-CN"&gt;向量类型&lt;/h2&gt;
# &lt;h2 lang="zh-CN"&gt;比较运算&lt;/h2&gt;
# &lt;h2 lang="zh-CN"&gt;数据筛选&lt;/h2&gt;
&lt;br&gt;
# &lt;h1 lang="zh-CN"&gt;本节课内容&lt;/h1&gt;
# &lt;h2 lang="zh-CN"&gt;函数拓展（批量读取数据）&lt;/h2&gt;
# &lt;h2 lang="zh-CN"&gt;dplyr包的函数应用（filter, select, mutate等）&lt;/h2&gt;
# &lt;h2 lang="zh-CN"&gt;tidyr包的函数应用（separate, drop_na等）&lt;/h2&gt;

---
# &lt;h1 lang="zh-CN"&gt;批量读取文件&lt;/h1&gt;
在第二节课中，我们使用了`read.csv()`读取了一个.out文件，&lt;br&gt;
但是一些行为实验中，多个被试的数据存在一个文件夹中，一个一个读取效率就很低了。&lt;br&gt;
这时，我们可以批量读取这些文件。
&lt;br&gt;

# &lt;h2 lang="en"&gt;Plan A: for loop&lt;/h2&gt; 
_思维难度低，书写难度高_&lt;br&gt;
_更好理解，但是代码更长_&lt;br&gt;
_存在中间变量_&lt;br&gt;

# &lt;h2 lang="en"&gt;Plan B: lapply&lt;/h2&gt;
_思维难度高，书写难度低_&lt;br&gt;
_更难理解，但是代码更简洁_&lt;br&gt;
_存在"看不见"的局部变量_&lt;br&gt;

---
## &lt;h1 lang="zh-CN"&gt;什么是通配符&lt;/h1&gt;
&lt;font size=5&gt;
&amp;emsp;&amp;emsp;通配符是一种特殊字符，它可以在匹配文件名或其他文本字符串时代替其他字符。&lt;br&gt;
&lt;br&gt;
&amp;emsp;&amp;emsp;R中常使用的通配符包括"*""?"和"[]"。&lt;br&gt;
&amp;emsp;&amp;emsp;*：代表任意数量的字符，例如*.csv将匹配所有以.csv结尾的文件。&lt;br&gt;
&amp;emsp;&amp;emsp;?：代表单个字符，例如file?.txt将匹配file1.txt，file2.txt等文件，但不会匹配file10.txt。&lt;br&gt;
&amp;emsp;&amp;emsp;[]：用于匹配指定的一组字符。例如，file[123].txt将匹配file1.txt，file2.txt和file3.txt。
&lt;/font&gt;

---
# &lt;h1 lang="zh-CN"&gt;载入包&lt;/h1&gt;

```r
# 所有路径使用相对路径
library(here)
```

```
## here() starts at C:/Users/dazai osamu/Desktop/R 2024/R4Psy
```

```r
# 包含了dplyr和%&gt;%等好用的包的集合
library(tidyverse)
```

```
## Warning: 程辑包'tidyverse'是用R版本4.3.3 来建造的
```

```
## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.4     ✔ readr     2.1.5
## ✔ forcats   1.0.0     ✔ stringr   1.5.1
## ✔ ggplot2   3.5.0     ✔ tibble    3.2.1
## ✔ lubridate 1.9.3     ✔ tidyr     1.3.1
## ✔ purrr     1.0.2
```

```
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors
```

---
# &lt;h1 lang="zh-CN"&gt;设置工作路径&lt;/h1&gt;

```r
# 养成用相对路径的好习惯，便于其他人运行你的代码
WD &lt;-  here::here()
getwd()
```

```
## [1] "C:/Users/dazai osamu/Desktop/R 2024/R4Psy"
```

---
# &lt;h1 lang="zh-CN"&gt;批量读取文件&lt;/h1&gt;
## &lt;h2 lang="en"&gt;for loop&lt;/h2&gt;

```r
# 把所有符合某种标题的文件全部读取到一个list中
files &lt;- list.files(file.path("data/match"), pattern = "data_exp7_rep_match_.*\\.out$")


head(files, n = 10L)
```

```
##  [1] "data_exp7_rep_match_7302.out" "data_exp7_rep_match_7303.out"
##  [3] "data_exp7_rep_match_7304.out" "data_exp7_rep_match_7305.out"
##  [5] "data_exp7_rep_match_7306.out" "data_exp7_rep_match_7307.out"
##  [7] "data_exp7_rep_match_7308.out" "data_exp7_rep_match_7309.out"
##  [9] "data_exp7_rep_match_7310.out" "data_exp7_rep_match_7311.out"
```

```r
str(files)
```

```
##  chr [1:44] "data_exp7_rep_match_7302.out" "data_exp7_rep_match_7303.out" ...
```

*P.S.尽管函数叫list.files，但它得到的变量的属性是value，而不是list*

---
# &lt;h1 lang="zh-CN"&gt;批量读取文件&lt;/h1&gt;
## &lt;h2 lang="en"&gt;for loop&lt;/h2&gt;

```r
# 创建一个空的列表来存储读取的数据框
df_list &lt;- list()
# 循环读取每个文件，处理数据并添加到列表中
for (i in seq_along(files)) { # 重复"读取到的.out个数"的次数
  # 对每个.out，使用read.table
  df &lt;- read.table(file.path("data/match", files[i]), header = TRUE) #read.table似乎比read.csv更聪明，不需要指定分隔符
  # 给读取到的每个.out文件的每个变量统一变量格式
  df &lt;- dplyr::filter(df, Date != "Date") %&gt;% # 因为有些.out文件中部还有变量名，所需需要用filter把这些行过滤掉
    dplyr::mutate(Date = as.character(Date),Prac = as.character(Prac),
                  Sub = as.numeric(Sub),Age = as.numeric(Age),Sex = as.character(Sex),Hand = as.character(Hand),
                  Block = as.numeric(Block),Bin = as.numeric(Bin),Trial = as.numeric(Trial),
                  Shape = as.character(Shape),Label = as.character(Shape),Match = as.character(Match),
                  CorrResp = as.character(CorrResp),Resp = as.character(Resp),
                  ACC = as.numeric(ACC),RT = as.numeric(RT))
  # 将数据框添加到列表中
  df_list[[i]] &lt;- df
}
# 合并所有数据框，只有当变量的属性一致时，才可以bind_rows
# bind_rows 意味着把list中的所有表格整合成一个大表格
df.mt.out.fl &lt;- dplyr::bind_rows(df_list)
# 清除中间变量
rm(df,df_list,files,i)
# 如果你将这个步骤写成函数，则这些变量自然不会出现在全局变量中
```

---
# &lt;h1 lang="zh-CN"&gt;批量读取文件&lt;/h1&gt;
## &lt;h2 lang="en"&gt;for loop&lt;/h2&gt;
_应该是25920 obs 16 variables_
<div class="datatables html-widget html-fill-item" id="htmlwidget-e3aa9b86ec873168e38a" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e3aa9b86ec873168e38a">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],["02-May-2018_14:23:06","02-May-2018_14:23:08","02-May-2018_14:23:10","02-May-2018_14:23:13","02-May-2018_14:23:15","02-May-2018_14:23:17","02-May-2018_14:23:19","02-May-2018_14:23:21","02-May-2018_14:23:24","02-May-2018_14:23:26","02-May-2018_14:23:28","02-May-2018_14:23:30","02-May-2018_14:23:32","02-May-2018_14:23:34","02-May-2018_14:23:36","02-May-2018_14:23:38","02-May-2018_14:23:40","02-May-2018_14:23:42","02-May-2018_14:23:45","02-May-2018_14:23:47","02-May-2018_14:23:49","02-May-2018_14:23:51","02-May-2018_14:23:53","02-May-2018_14:23:55","02-May-2018_14:23:57","02-May-2018_14:24:00","02-May-2018_14:24:02","02-May-2018_14:24:04","02-May-2018_14:24:06","02-May-2018_14:24:08","02-May-2018_14:24:10","02-May-2018_14:24:12","02-May-2018_14:24:15","02-May-2018_14:24:16","02-May-2018_14:24:19","02-May-2018_14:24:21","02-May-2018_14:24:23","02-May-2018_14:24:25","02-May-2018_14:24:27","02-May-2018_14:24:29","02-May-2018_14:24:32","02-May-2018_14:24:34","02-May-2018_14:24:36","02-May-2018_14:24:38","02-May-2018_14:24:40","02-May-2018_14:24:42","02-May-2018_14:24:44","02-May-2018_14:24:46","02-May-2018_14:24:48","02-May-2018_14:24:51","02-May-2018_14:24:53","02-May-2018_14:24:55","02-May-2018_14:24:57","02-May-2018_14:24:59","02-May-2018_14:25:01","02-May-2018_14:25:03","02-May-2018_14:25:05","02-May-2018_14:25:08","02-May-2018_14:25:10","02-May-2018_14:25:12","02-May-2018_14:25:14","02-May-2018_14:25:16","02-May-2018_14:25:19","02-May-2018_14:25:21","02-May-2018_14:25:23","02-May-2018_14:25:25","02-May-2018_14:25:27","02-May-2018_14:25:30","02-May-2018_14:25:32","02-May-2018_14:25:34","02-May-2018_14:25:36","02-May-2018_14:25:38","02-May-2018_14:25:53","02-May-2018_14:25:55","02-May-2018_14:25:57","02-May-2018_14:26:00","02-May-2018_14:26:02","02-May-2018_14:26:04","02-May-2018_14:26:06","02-May-2018_14:26:08","02-May-2018_14:26:10","02-May-2018_14:26:11","02-May-2018_14:26:14","02-May-2018_14:26:16","02-May-2018_14:26:18","02-May-2018_14:26:20","02-May-2018_14:26:22","02-May-2018_14:26:25","02-May-2018_14:26:26","02-May-2018_14:26:28","02-May-2018_14:26:31","02-May-2018_14:26:33","02-May-2018_14:26:35","02-May-2018_14:26:37","02-May-2018_14:26:39","02-May-2018_14:26:41","02-May-2018_14:26:43","02-May-2018_14:26:45","02-May-2018_14:26:47","02-May-2018_14:26:49"],["Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp"],[7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302],[22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22],["female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female"],["R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,1,2,3,4],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralOther","moralOther","moralSelf","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","moralOther","immoralOther","moralSelf","immoralOther","immoralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralSelf","moralSelf","immoralSelf","moralOther","moralOther","immoralSelf","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralOther","moralOther","immoralOther","moralOther","moralSelf","immoralSelf","moralOther","moralOther","immoralOther","moralSelf","immoralOther","moralSelf","immoralSelf","moralSelf","immoralSelf","immoralOther","immoralSelf","moralOther","immoralSelf","moralOther","immoralSelf","immoralOther","moralOther","moralSelf","immoralOther","moralSelf","immoralSelf","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","moralOther","moralOther","moralSelf","immoralSelf","moralSelf","moralOther","immoralOther","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","immoralOther","moralOther","moralOther","immoralOther","immoralSelf","moralOther","moralOther","immoralOther","moralSelf"],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralOther","moralOther","moralSelf","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","moralOther","immoralOther","moralSelf","immoralOther","immoralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralSelf","moralSelf","immoralSelf","moralOther","moralOther","immoralSelf","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralOther","moralOther","immoralOther","moralOther","moralSelf","immoralSelf","moralOther","moralOther","immoralOther","moralSelf","immoralOther","moralSelf","immoralSelf","moralSelf","immoralSelf","immoralOther","immoralSelf","moralOther","immoralSelf","moralOther","immoralSelf","immoralOther","moralOther","moralSelf","immoralOther","moralSelf","immoralSelf","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","moralOther","moralOther","moralSelf","immoralSelf","moralSelf","moralOther","immoralOther","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","immoralOther","moralOther","moralOther","immoralOther","immoralSelf","moralOther","moralOther","immoralOther","moralSelf"],["mismatch","mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch","mismatch","match","match","mismatch","match","mismatch","mismatch","match","match","match","mismatch","match","match","mismatch","match","mismatch","match","mismatch","mismatch","match","match","match","mismatch","match","mismatch","mismatch","match","mismatch","mismatch","match","mismatch","mismatch","match","mismatch","match","match","mismatch","match","match","mismatch","mismatch","mismatch","match","match","mismatch","mismatch","match","mismatch","match","match","match","mismatch","mismatch","match","match","mismatch","mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch","match","match","match","mismatch","match","match","match","mismatch","mismatch","mismatch","mismatch","mismatch","mismatch","mismatch","match","match","mismatch","match","mismatch","match","match","mismatch","match","match","match"],["n","n","n","n","m","m","m","m","n","n","n","m","m","n","m","n","n","m","m","m","n","m","m","n","m","n","m","n","n","m","m","m","n","m","n","n","m","n","n","m","n","n","m","n","m","m","n","m","m","n","n","n","m","m","n","n","m","n","m","m","m","n","n","m","m","n","n","n","n","m","m","m","m","n","n","m","m","m","n","m","m","m","n","n","n","n","n","n","n","m","m","n","m","n","m","m","n","m","m","m"],["m","n","n",null,"m","m","m","m","n","n","n","m","m","m","m","n","n","m","n","m","n","m","m","n","m","m","m","m","n","m","m","m","m","m",null,"m","m","m","n","m","n","m","m","n","m","m","n","m","m","n",null,"n","m","m","n","n","m","n","m","n","m","n","n","m","n","n","n","n","n","m","n","m","m","n","m","n","m","m","n","m","m","m","n","n","n","n","n","n","m","m","m","n","m","n","m","m","n","n","m","m"],[0,1,1,-1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,0,1,0,1,1,1,1,0,1,-1,0,1,0,1,1,1,0,1,1,1,1,1,1,1,1,-1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1],[0.7561,0.7043,0.9903,1.042,0.8207,0.7547,0.5429,0.9009,0.9550999999999999,0.6952,0.7593,0.7135,0.5656,0.5357,0.8078,0.96,0.6661,0.6962,0.8803,0.5785,0.7845,0.8146,0.6548,0.8789,0.7131,0.8211000000000001,0.8033,0.6294,0.8095,0.6176,0.7917,0.5558999999999999,0.96,0.5381,1.042,0.8264,0.7125,0.4609,0.8027,0.7808,0.8749,0.871,0.6512,0.7554,0.6715,0.9076,0.5997,0.5218,0.7319,0.764,1.042,0.7443,0.5104,0.7706,0.6026,0.7648,0.7109,0.827,0.8571,0.8092,0.7213000000000001,0.8195,0.8895999999999999,0.5778,0.8799,0.666,1.0081,0.8562,0.5444,0.6625,0.6846,0.9026999999999999,0.8236,0.6137,0.7338,0.7419,0.6840000000000001,0.6062,0.7842,0.5824,0.4126,0.5006,0.8507,0.9069,0.721,0.6351,0.8552999999999999,0.7194,0.5214,0.6597,0.8097,0.6738,0.534,0.6141,0.6462,0.7763,0.6964,0.8804999999999999,0.5546,0.9747]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Date<\/th>\n      <th>Prac<\/th>\n      <th>Sub<\/th>\n      <th>Age<\/th>\n      <th>Sex<\/th>\n      <th>Hand<\/th>\n      <th>Block<\/th>\n      <th>Bin<\/th>\n      <th>Trial<\/th>\n      <th>Shape<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>CorrResp<\/th>\n      <th>Resp<\/th>\n      <th>ACC<\/th>\n      <th>RT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":7,"columnDefs":[{"className":"dt-right","targets":[3,4,7,8,9,15,16]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Date","targets":1},{"name":"Prac","targets":2},{"name":"Sub","targets":3},{"name":"Age","targets":4},{"name":"Sex","targets":5},{"name":"Hand","targets":6},{"name":"Block","targets":7},{"name":"Bin","targets":8},{"name":"Trial","targets":9},{"name":"Shape","targets":10},{"name":"Label","targets":11},{"name":"Match","targets":12},{"name":"CorrResp","targets":13},{"name":"Resp","targets":14},{"name":"ACC","targets":15},{"name":"RT","targets":16}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[7,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="zh-CN"&gt;批量读取文件&lt;/h1&gt;
## &lt;h2 lang="en"&gt;lapply&lt;/h2&gt;

```r
# 获取所有的.out文件名
df.mt.out.la &lt;- list.files(file.path("data/match"), pattern = "data_exp7_rep_match_.*\\.out$") %&gt;%
  # 对读取到的所有.out文件x都执行函数read.table
  lapply(function(x) read.table(file.path("data/match", x), header = TRUE)) %&gt;% 
  # 对所有被read.table处理过的数据执行dplyr的清洗
  lapply(function(df) dplyr::filter(df, Date != "Date") %&gt;% # 因为有些.out文件中部还有变量名，所需需要用filter把这些行过滤掉
                      dplyr::mutate(Date = as.character(Date),Prac = as.character(Prac),
                                    Sub = as.numeric(Sub),Age = as.numeric(Age),Sex = as.character(Sex),Hand = as.character(Hand),
                                    Block = as.numeric(Block),Bin = as.numeric(Bin),Trial = as.numeric(Trial),
                                    Shape = as.character(Shape),Label = as.character(Shape),Match = as.character(Match),
                                    CorrResp = as.character(CorrResp),Resp = as.character(Resp),
                                    ACC = as.numeric(ACC),RT = as.numeric(RT)
                                    ) # 有些文件里读出来的数据格式不同，在这里统一所有out文件中的数据格式
         ) %&gt;%
  bind_rows()
```

---
# &lt;h1 lang="zh-CN"&gt;批量读取文件&lt;/h1&gt;
## &lt;h2 lang="en"&gt;lapply&lt;/h2&gt;
_应该是25920 obs 16 variables_
<div class="datatables html-widget html-fill-item" id="htmlwidget-5a27ed895a6a209d556b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5a27ed895a6a209d556b">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],["02-May-2018_14:23:06","02-May-2018_14:23:08","02-May-2018_14:23:10","02-May-2018_14:23:13","02-May-2018_14:23:15","02-May-2018_14:23:17","02-May-2018_14:23:19","02-May-2018_14:23:21","02-May-2018_14:23:24","02-May-2018_14:23:26","02-May-2018_14:23:28","02-May-2018_14:23:30","02-May-2018_14:23:32","02-May-2018_14:23:34","02-May-2018_14:23:36","02-May-2018_14:23:38","02-May-2018_14:23:40","02-May-2018_14:23:42","02-May-2018_14:23:45","02-May-2018_14:23:47","02-May-2018_14:23:49","02-May-2018_14:23:51","02-May-2018_14:23:53","02-May-2018_14:23:55","02-May-2018_14:23:57","02-May-2018_14:24:00","02-May-2018_14:24:02","02-May-2018_14:24:04","02-May-2018_14:24:06","02-May-2018_14:24:08","02-May-2018_14:24:10","02-May-2018_14:24:12","02-May-2018_14:24:15","02-May-2018_14:24:16","02-May-2018_14:24:19","02-May-2018_14:24:21","02-May-2018_14:24:23","02-May-2018_14:24:25","02-May-2018_14:24:27","02-May-2018_14:24:29","02-May-2018_14:24:32","02-May-2018_14:24:34","02-May-2018_14:24:36","02-May-2018_14:24:38","02-May-2018_14:24:40","02-May-2018_14:24:42","02-May-2018_14:24:44","02-May-2018_14:24:46","02-May-2018_14:24:48","02-May-2018_14:24:51","02-May-2018_14:24:53","02-May-2018_14:24:55","02-May-2018_14:24:57","02-May-2018_14:24:59","02-May-2018_14:25:01","02-May-2018_14:25:03","02-May-2018_14:25:05","02-May-2018_14:25:08","02-May-2018_14:25:10","02-May-2018_14:25:12","02-May-2018_14:25:14","02-May-2018_14:25:16","02-May-2018_14:25:19","02-May-2018_14:25:21","02-May-2018_14:25:23","02-May-2018_14:25:25","02-May-2018_14:25:27","02-May-2018_14:25:30","02-May-2018_14:25:32","02-May-2018_14:25:34","02-May-2018_14:25:36","02-May-2018_14:25:38","02-May-2018_14:25:53","02-May-2018_14:25:55","02-May-2018_14:25:57","02-May-2018_14:26:00","02-May-2018_14:26:02","02-May-2018_14:26:04","02-May-2018_14:26:06","02-May-2018_14:26:08","02-May-2018_14:26:10","02-May-2018_14:26:11","02-May-2018_14:26:14","02-May-2018_14:26:16","02-May-2018_14:26:18","02-May-2018_14:26:20","02-May-2018_14:26:22","02-May-2018_14:26:25","02-May-2018_14:26:26","02-May-2018_14:26:28","02-May-2018_14:26:31","02-May-2018_14:26:33","02-May-2018_14:26:35","02-May-2018_14:26:37","02-May-2018_14:26:39","02-May-2018_14:26:41","02-May-2018_14:26:43","02-May-2018_14:26:45","02-May-2018_14:26:47","02-May-2018_14:26:49"],["Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp"],[7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302],[22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22],["female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female"],["R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,1,2,3,4],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralOther","moralOther","moralSelf","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","moralOther","immoralOther","moralSelf","immoralOther","immoralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralSelf","moralSelf","immoralSelf","moralOther","moralOther","immoralSelf","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralOther","moralOther","immoralOther","moralOther","moralSelf","immoralSelf","moralOther","moralOther","immoralOther","moralSelf","immoralOther","moralSelf","immoralSelf","moralSelf","immoralSelf","immoralOther","immoralSelf","moralOther","immoralSelf","moralOther","immoralSelf","immoralOther","moralOther","moralSelf","immoralOther","moralSelf","immoralSelf","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","moralOther","moralOther","moralSelf","immoralSelf","moralSelf","moralOther","immoralOther","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","immoralOther","moralOther","moralOther","immoralOther","immoralSelf","moralOther","moralOther","immoralOther","moralSelf"],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralOther","moralOther","moralSelf","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","moralOther","immoralOther","moralSelf","immoralOther","immoralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralSelf","moralSelf","immoralSelf","moralOther","moralOther","immoralSelf","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralOther","moralOther","immoralOther","moralOther","moralSelf","immoralSelf","moralOther","moralOther","immoralOther","moralSelf","immoralOther","moralSelf","immoralSelf","moralSelf","immoralSelf","immoralOther","immoralSelf","moralOther","immoralSelf","moralOther","immoralSelf","immoralOther","moralOther","moralSelf","immoralOther","moralSelf","immoralSelf","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","moralOther","moralOther","moralSelf","immoralSelf","moralSelf","moralOther","immoralOther","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","immoralOther","moralOther","moralOther","immoralOther","immoralSelf","moralOther","moralOther","immoralOther","moralSelf"],["mismatch","mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch","mismatch","match","match","mismatch","match","mismatch","mismatch","match","match","match","mismatch","match","match","mismatch","match","mismatch","match","mismatch","mismatch","match","match","match","mismatch","match","mismatch","mismatch","match","mismatch","mismatch","match","mismatch","mismatch","match","mismatch","match","match","mismatch","match","match","mismatch","mismatch","mismatch","match","match","mismatch","mismatch","match","mismatch","match","match","match","mismatch","mismatch","match","match","mismatch","mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch","match","match","match","mismatch","match","match","match","mismatch","mismatch","mismatch","mismatch","mismatch","mismatch","mismatch","match","match","mismatch","match","mismatch","match","match","mismatch","match","match","match"],["n","n","n","n","m","m","m","m","n","n","n","m","m","n","m","n","n","m","m","m","n","m","m","n","m","n","m","n","n","m","m","m","n","m","n","n","m","n","n","m","n","n","m","n","m","m","n","m","m","n","n","n","m","m","n","n","m","n","m","m","m","n","n","m","m","n","n","n","n","m","m","m","m","n","n","m","m","m","n","m","m","m","n","n","n","n","n","n","n","m","m","n","m","n","m","m","n","m","m","m"],["m","n","n",null,"m","m","m","m","n","n","n","m","m","m","m","n","n","m","n","m","n","m","m","n","m","m","m","m","n","m","m","m","m","m",null,"m","m","m","n","m","n","m","m","n","m","m","n","m","m","n",null,"n","m","m","n","n","m","n","m","n","m","n","n","m","n","n","n","n","n","m","n","m","m","n","m","n","m","m","n","m","m","m","n","n","n","n","n","n","m","m","m","n","m","n","m","m","n","n","m","m"],[0,1,1,-1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,0,1,0,1,1,1,1,0,1,-1,0,1,0,1,1,1,0,1,1,1,1,1,1,1,1,-1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1],[0.7561,0.7043,0.9903,1.042,0.8207,0.7547,0.5429,0.9009,0.9550999999999999,0.6952,0.7593,0.7135,0.5656,0.5357,0.8078,0.96,0.6661,0.6962,0.8803,0.5785,0.7845,0.8146,0.6548,0.8789,0.7131,0.8211000000000001,0.8033,0.6294,0.8095,0.6176,0.7917,0.5558999999999999,0.96,0.5381,1.042,0.8264,0.7125,0.4609,0.8027,0.7808,0.8749,0.871,0.6512,0.7554,0.6715,0.9076,0.5997,0.5218,0.7319,0.764,1.042,0.7443,0.5104,0.7706,0.6026,0.7648,0.7109,0.827,0.8571,0.8092,0.7213000000000001,0.8195,0.8895999999999999,0.5778,0.8799,0.666,1.0081,0.8562,0.5444,0.6625,0.6846,0.9026999999999999,0.8236,0.6137,0.7338,0.7419,0.6840000000000001,0.6062,0.7842,0.5824,0.4126,0.5006,0.8507,0.9069,0.721,0.6351,0.8552999999999999,0.7194,0.5214,0.6597,0.8097,0.6738,0.534,0.6141,0.6462,0.7763,0.6964,0.8804999999999999,0.5546,0.9747]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Date<\/th>\n      <th>Prac<\/th>\n      <th>Sub<\/th>\n      <th>Age<\/th>\n      <th>Sex<\/th>\n      <th>Hand<\/th>\n      <th>Block<\/th>\n      <th>Bin<\/th>\n      <th>Trial<\/th>\n      <th>Shape<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>CorrResp<\/th>\n      <th>Resp<\/th>\n      <th>ACC<\/th>\n      <th>RT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":7,"columnDefs":[{"className":"dt-right","targets":[3,4,7,8,9,15,16]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Date","targets":1},{"name":"Prac","targets":2},{"name":"Sub","targets":3},{"name":"Age","targets":4},{"name":"Sex","targets":5},{"name":"Hand","targets":6},{"name":"Block","targets":7},{"name":"Bin","targets":8},{"name":"Trial","targets":9},{"name":"Shape","targets":10},{"name":"Label","targets":11},{"name":"Match","targets":12},{"name":"CorrResp","targets":13},{"name":"Resp","targets":14},{"name":"ACC","targets":15},{"name":"RT","targets":16}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[7,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="zh-CN"&gt;保存文件&lt;/h1&gt;

```r
#for loop 或 lapply的都可以
#write.csv(df.mt.out.fl, file = "./data/match/match_raw.csv",row.names = FALSE)
write.csv(df.mt.out.la, file = "./data/match/match_raw.csv",row.names = FALSE)
```

---
class: center, middle
&lt;span style="font-size: 60px;"&gt;5.1 数据预处理准备&lt;/span&gt; &lt;br&gt;

---
# &lt;h1 lang="zh-CN"&gt;读取原始数据 &lt;/h1&gt;
## &lt;h2 lang="en"&gt;Raw Data: Penguin &lt;/h2&gt;

```r
# 读取原始数据
df.pg.raw &lt;-  read.csv('./data/penguin/penguin_rawdata.csv',
                       header = T, sep=",", stringsAsFactors = FALSE)
# 这里查看表格使用的是DT::datatable，为了PPT里好看
# 你可以直接点R Studio右边的环境变量来看，或者用str()或者head()
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-1cd38b9f3f6fd32a0740" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1cd38b9f3f6fd32a0740">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[1975,1995,1995,1988,1991,1995,1996,1973,1996,1996],[1,2,4,2,2,2,1,3,2,3],[1,2,1,3,1,3,1,3,3,3],[1,2,1,4,1,1,1,2,1,1],[2,2,2,5,5,3,1,3,3,2],[2,2,4,3,2,2,4,4,2,4],[1,2,1,4,2,1,1,4,2,1],[2,2,4,2,3,1,2,4,2,2],[2,2,1,4,4,2,1,4,2,4],[4,4,1,4,1,1,4,4,2,4],[1,2,2,3,1,2,2,5,2,1],[1,2,1,2,2,1,1,3,1,4],[2,2,1,2,1,2,2,2,2,1],[4,2,2,4,2,3,4,2,2,2],[3,2,1,2,4,4,3,3,4,3],[4,3,1,4,4,5,5,4,3,5],[2,2,1,3,2,4,5,1,2,4],[3.72222222222222,4.05555555555556,1.44444444444444,4.72222222222222,2.11111111111111,2,2.55555555555556,3.05555555555556,3.55555555555556,4.38888888888889],[6,0,0,2,0,0,null,0,0,0],[3.11111111111111,4.88888888888889,1.33333333333333,3.88888888888889,4.66666666666667,3.33333333333333,3.11111111111111,3.55555555555556,3.33333333333333,3.22222222222222],[3.44444444444444,2,2,3,1.77777777777778,2.44444444444444,3.77777777777778,3.33333333333333,1.88888888888889,4.22222222222222],[89,89,89,89,89,89,89,89,89,89],[3.27777777777778,3,1.61111111111111,3.94444444444444,4.94444444444444,3.77777777777778,6.44444444444444,3.22222222222222,4,5.27777777777778],[15,null,null,null,null,null,null,10,null,1],[1.63636363636364,2.18181818181818,2,3.27272727272727,2.18181818181818,1.72727272727273,1.72727272727273,3.54545454545455,2,2.63636363636364],[1,1,1,2,1,1,1,1,1,1],[5,6,1,3,1,1,2,3,4,5],[5,4,1,6,1,1,1,2,4,6],[3,2,1,6,1,1,4,3,4,6],[5,5,1,5,1,2,1,2,4,5],[5,5,1,4,1,2,4,3,4,4],[3,2,1,4,5,1,1,3,1,3],[1,3,1,3,2,1,2,3,4,5],[6,5,1,3,1,2,7,3,4,7],[5,2,1,4,7,6,1,3,4,3],[2,3,1,4,1,2,4,1,4,3],[6,7,1,6,6,2,2,5,2,6],[3,4,1,5,1,2,1,2,4,4],[3,3,1,6,2,4,2,5,4,4],[2,3,7,5,1,1,1,4,1,2],[3,4,1,5,2,2,1,5,4,1],[3,5,3,5,1,1,2,3,4,4],[6,5,1,6,2,3,6,3,4,7],[1,5,1,5,2,2,4,2,4,4],[2,3,2,5,1,5,7,3,4,5],[2,4,2,5,7,5,1,2,4,7],[5,3,2,5,2,4,6,4,4,5],[3,2,2,4,5,4,7,3,4,5],[3,2,2,3,2,3,7,3,4,6],[2,3,1,4,4,4,7,3,4,5],[5,3,1,6,2,3,7,4,4,6],[5,4,1,3,6,3,7,4,4,7],[3,5,1,3,7,1,7,4,4,7],[2,3,1,4,6,3,6,3,4,4],[4,2,2,5,6,6,6,3,4,4],[2,2,2,3,6,5,7,2,4,5],[3,4,1,4,7,4,7,2,4,3],[3,2,2,5,2,3,7,3,4,6],[4,3,3,3,7,4,6,3,4,5],[5,3,1,2,6,5,7,4,4,6],[4,3,1,3,6,3,7,6,4,5],[2,3,2,4,7,3,7,2,4,4],["9:23:38","9:23:26","8:57:08","8:55:14","8:54:35","8:39:12","8:32:08","8:28:57","8:28:03","8:25:57"],[3,2.2,1.2,3,2.6,3.6,3.8,2.4,2.6,3],[2,2,2,2,2,2,2,2,2,2],[0,0,12,0,5,0,null,1,0,2],[4,4,4,3,4,4,4,1,3,3],[4,5,1,5,5,4,5,3,3,4],[3,5,1,4,5,4,2,3,3,5],[4,5,4,5,5,4,4,2,4,3],[3,5,1,5,5,4,5,4,5,3],[3,5,1,4,4,4,2,3,4,4],[2,4,1,2,5,2,1,4,3,2],[4,5,1,2,4,2,5,5,2,2],[3,5,1,4,4,3,1,4,3,3],[2,5,1,4,5,3,3,4,3,3],[4,1,5,5,1,3,2,3,3,4],[4,2,6,4,1,3,2,3,3,5],[5,6,5,3,3,3,2,2,2,1],[4,2,4,1,2,2,2,2,1,3],[4,3,3,2,2,2,2,2,3,2],[1,2,1,2,2,4,2,3,3,3],[2,2,1,2,1,4,2,3,1,2],[17,28,24,19,29,33,53,17,17,19],[4.33333333333333,6.5,6.83333333333333,3.5,1.5,2,5.83333333333333,6.33333333333333,5.66666666666667,5.16666666666667],[2.27272727272727,2.63636363636364,2.18181818181818,2,1.90909090909091,2.45454545454545,2.81818181818182,2.54545454545455,1.81818181818182,3.90909090909091],[2,3,3,1,3,4,4,2,2,5],[2,2,4,1,2,4,4,3,3,4],[2,3,2,2,1,2,2,3,2,5],[4,3,4,3,4,4,2,2,2,4],[2,3,1,2,1,3,3,3,2,3],[2,2,1,2,1,1,2,2,1,3],[2,2,1,2,1,2,2,4,2,4],[2,3,3,1,1,1,2,3,2,3],[3,3,3,2,2,2,4,2,1,3],[2,3,1,4,2,1,2,1,1,4],[2,2,1,2,3,3,4,3,2,5],[4,2,1,2,2,3,3,3,3,4],[4,2,4,4,1,3,4,4,2,4],[2,2,1,3,1,2,5,3,1,2],[5,2,4,2,1,3,4,3,4,4],[2,2,1,3,1,2,1,2,3,5],[2,2,1,2,3,2,3,4,1,4],[4,2,1,3,2,2,5,3,1,5],[4,2,1,4,1,3,5,4,1,5],[4,2,4,4,4,2,4,4,1,5],[2,2,1,1,2,2,2,2,2,2],[2,4,2,4,3,5,2,1,3,3],[2,4,3,2,5,5,4,4,3,4],[2,4,3,1,5,5,2,5,5,5],[1,4,2,1,3,2,2,2,5,1],[1,4,4,2,5,3,1,2,5,2],[4,3,2,1,5,4,3,3,3,1],[2,4,4,2,5,3,2,3,4,2],[2,2,1,3,4,3,2,2,5,4],[5,4,3,4,4,5,4,4,3,3],[4,3,5,3,3,5,5,3,4,2],[3,4,4,2,4,5,3,2,2,5],[5,5,4,2,4,4,1,3,4,3],[4,4,4,2,4,3,2,2,2,2],[2.84615384615385,3.76923076923077,3.15384615384615,2.23076923076923,4.15384615384615,4,2.53846153846154,2.76923076923077,3.69230769230769,2.84615384615385],[1,1,1,2,1,1,2,1,1,2],[1,2,2,2,2,2,2,1,2,1],[2,1,1,1,2,2,2,4,2,2],[1,1,1,1,1,1,1,1,1,1],[null,null,null,null,null,null,null,null,null,null],[4,4,4,4,2,4,4,4,4,4],[4,4,4,4,2,4,4,2,4,4],[5,1,4,5,5,5,5,5,5,5],[null,null,4,null,null,null,null,null,null,null],[1,8,2,1,8,2,3,8,2,6],[null,6,2,null,5,1,2,3,2,3],[6,4,5,5,7,5,8,4,3,8],[3,1,5,1,3,5,8,4,2,8],[1,1,1,1,2,1,1,1,1,1],[null,null,null,null,8,null,null,null,null,null],[1,2,2,1,1,2,2,2,2,2],[null,8,8,null,null,8,8,8,8,8],[3,3,2,3,3,1,1,1,1,1],[2,8,1,8,1,null,null,null,null,null],[6,5,6,4,8,null,null,null,null,null],[1,3,1,1,1,8,6,4,1,3],[1,1,1,1,1,1,1,2,1,1],[null,null,null,null,null,null,null,2,null,null],[1,1,1,2,1,2,2,2,2,1],[" "," "," "," "," ","Rowing Club","University Friends","ODAA","Oxford Latin Speaking Society"," "],[" "," "," "," "," ","Rugby Club","Business Social"," ","Oxford Latin Conversation Society"," "],[" "," "," "," "," "," ","Lecturers/ Advisors"," ","Plato Reading Group"," "],[" "," "," "," "," "," ","Friends from home"," "," "," "],[" "," "," "," "," "," ","Neighbors"," "," "," "],[null,null,null,null,null,7,20,1,2,null],[null,null,null,null,null,7,15,null,4,null],[null,null,null,null,null,null,5,null,1,null],[null,null,null,null,null,null,9,null,null,null],[null,null,null,null,null,null,6,null,null,null],[6,6,7,2,1,1,6,6,7,7],[5,7,7,5,2,2,7,6,7,4],[5,6,7,3,2,3,5,7,6,5],[3,7,7,4,1,2,5,6,6,5],[2,6,7,5,2,2,6,7,5,5],[5,7,6,2,1,2,6,6,3,5],[4,6,6,4,1,2,5,6,3,4],[5,7,8,5,7,6,null,7,6,6],[1,2,3,1,2,4,null,2,2,3],[4,2,4,4,1,2,2,3,3,1],[4,4,5,2,1,4,4,2,5,4],[4,3,4,3,1,4,2,3,4,4],[5,3,4,3,4,4,4,4,2,4],[2,3,4,4,4,4,5,2,2,3],[2,4,4,3,1,3,4,3,1,3],[2,5,4,3,3,4,5,4,2,2],[2,2,4,3,4,3,5,3,2,4],[4,5,5,2,1,2,4,2,4,5],[2,3,2,2,1,4,1,4,4,5],[2,2,1,2,1,2,2,2,2,1],[1,2,2,2,4,4,4,2,2,2],[4,4,4,3,4,2,2,3,2,1],[5,4,2,3,2,4,3,4,4,4],[4,4,2,3,3,1,2,4,5,3],[2,3,4,4,4,5,5,4,4,4],[2,3,5,4,4,3,2,4,2,2],[4,3,4,2,4,3,4,3,3,2],[3,3,5,2,4,4,4,4,3,3],[2,3,1,3,5,4,1,3,2,4],[4,3,4,2,4,4,5,4,3,5],[3,3,5,4,4,3,2,2,3,3],[2,3,1,3,4,3,2,3,4,3],[3,3,1,4,1,2,2,2,3,3],[4,3,5,3,1,2,5,1,4,4],[3,3,3,2,1,3,3,2,3,3],[4,3,1,4,4,4,2,4,1,1],[4,5,4,2,1,3,1,4,4,5],[3,5,4,4,1,2,1,3,5,5],[3,2,2,4,4,2,5,2,2,4],[2,4,2,5,1,2,1,3,2,4],[4,3,1,2,4,2,5,1,1,4],[4,3,2,2,3,3,1,4,3,4],[1,4,3,4,4,2,1,3,2,2],[2,4,2,3,5,4,2,5,1,4],[2,4,2,4,5,4,4,4,2,4],[4,4,4,3,4,4,2,4,2,4],[3,4,2,4,4,4,4,5,5,1],[4,2,2,3,4,4,5,2,2,4],[5,3,3,2,4,2,2,2,2,4],[4,3,2,3,3,3,2,1,2,4],[4,3,5,2,4,4,4,4,4,4],[1,4,2,3,4,2,2,3,2,3],[1,2,2,4,4,2,1,2,1,2],[4,3,2,3,1,2,1,4,4,2],[4,4,4,2,1,4,1,4,3,3],[3,3,4,3,4,2,4,3,3,4],[1,2,5,4,4,2,1,2,1,2],[2,3,5,4,4,2,1,2,1,2],[4,3,5,4,4,4,3,3,3,4],[4,4,2,5,1,3,5,2,4,5],[2,4,5,3,1,2,5,4,2,4],[2,4,4,3,4,2,1,3,2,2],[4,3,4,3,5,2,4,4,2,4],[2,4,2,2,4,3,3,2,2,4],[2,4,1,2,4,2,2,2,2,2],[1,2,5,4,1,1,4,2,2,2],[3.07692307692308,2.46153846153846,2.38461538461538,2.84615384615385,2.53846153846154,2.07692307692308,1.53846153846154,3,2.61538461538462,3.15384615384615],[4,2,3,3,3,2,1,4,5,3],[2,3,3,3,4,2,2,3,2,4],[4,3,4,4,3,3,1,3,3,5],[4,3,1,2,2,2,2,3,2,4],[4,2,2,3,2,2,2,3,2,3],[3,2,1,2,1,2,2,3,2,1],[4,2,2,3,3,2,1,4,2,3],[3,2,2,2,2,2,1,4,3,4],[3,2,3,3,2,2,2,1,2,3],[2,3,3,3,3,2,1,3,4,3],[4,2,3,4,3,2,2,2,1,2],[3,4,4,3,5,4,4,4,5,4],[2,4,2,3,2,2,2,3,3,2],[1,2,2,2,3,2,1,3,3,4],[34.9,35.8,34,36.9,35.3,34.7,36,36.5,34.7,35.9],[35.9,36,36.2,37,36.1,36.4,36.3,36.6,36.3,36.3],[2,2,2,2,4,4,2,2,2,2],[35.4,35.9,35.1,36.95,35.7,35.55,36.15,36.55,35.5,36.1],[1,1,1,1,1,1,1,1,1,1],[-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667],[5,5,5,5,5,5,5,5,5,5],[1,1,1,1,1,1,1,1,1,1],[0.186319647739787,0.472682850177291,-1.77049556891649,1.0454092550523,-1.19776916404149,-1.29322356485399,-0.815951560791479,-0.386406757135223,0.0431380465210342,0.759046052614796],[-0.00190690952064737,-0.249805147204807,-1.48929633562561,0.593048860921336,1.48548251658431,0.44430991831084,2.82413300007877,-0.0514865570574791,0.642628508458168,1.7829604018053],["Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford"]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>age<\/th>\n      <th>ALEX1<\/th>\n      <th>ALEX2<\/th>\n      <th>ALEX3<\/th>\n      <th>ALEX4<\/th>\n      <th>ALEX5<\/th>\n      <th>ALEX6<\/th>\n      <th>ALEX7<\/th>\n      <th>ALEX8<\/th>\n      <th>ALEX9<\/th>\n      <th>ALEX10<\/th>\n      <th>ALEX11<\/th>\n      <th>ALEX12<\/th>\n      <th>ALEX13<\/th>\n      <th>ALEX14<\/th>\n      <th>ALEX15<\/th>\n      <th>ALEX16<\/th>\n      <th>anxiety<\/th>\n      <th>artgluctot<\/th>\n      <th>attachhome<\/th>\n      <th>attachphone<\/th>\n      <th>AvgHumidity<\/th>\n      <th>avoidance<\/th>\n      <th>cigs<\/th>\n      <th>DIDF<\/th>\n      <th>eatdrink<\/th>\n      <th>ECR1<\/th>\n      <th>ECR2<\/th>\n      <th>ECR3<\/th>\n      <th>ECR4<\/th>\n      <th>ECR5<\/th>\n      <th>ECR6<\/th>\n      <th>ECR7<\/th>\n      <th>ECR8<\/th>\n      <th>ECR9<\/th>\n      <th>ECR10<\/th>\n      <th>ECR11<\/th>\n      <th>ECR12<\/th>\n      <th>ECR13<\/th>\n      <th>ECR14<\/th>\n      <th>ECR15<\/th>\n      <th>ECR16<\/th>\n      <th>ECR17<\/th>\n      <th>ECR18<\/th>\n      <th>ECR19<\/th>\n      <th>ECR20<\/th>\n      <th>ECR21<\/th>\n      <th>ECR22<\/th>\n      <th>ECR23<\/th>\n      <th>ECR24<\/th>\n      <th>ECR25<\/th>\n      <th>ECR26<\/th>\n      <th>ECR27<\/th>\n      <th>ECR28<\/th>\n      <th>ECR29<\/th>\n      <th>ECR30<\/th>\n      <th>ECR31<\/th>\n      <th>ECR32<\/th>\n      <th>ECR33<\/th>\n      <th>ECR34<\/th>\n      <th>ECR35<\/th>\n      <th>ECR36<\/th>\n      <th>endtime<\/th>\n      <th>EOT<\/th>\n      <th>exercise<\/th>\n      <th>gluctot<\/th>\n      <th>health<\/th>\n      <th>HOME1<\/th>\n      <th>HOME2<\/th>\n      <th>HOME3<\/th>\n      <th>HOME4<\/th>\n      <th>HOME5<\/th>\n      <th>HOME6<\/th>\n      <th>HOME7<\/th>\n      <th>HOME8<\/th>\n      <th>HOME9<\/th>\n      <th>KAMF1<\/th>\n      <th>KAMF2<\/th>\n      <th>KAMF3<\/th>\n      <th>KAMF4<\/th>\n      <th>KAMF5<\/th>\n      <th>KAMF6<\/th>\n      <th>KAMF7<\/th>\n      <th>networksize<\/th>\n      <th>nostalgia<\/th>\n      <th>onlineid<\/th>\n      <th>onlineid1<\/th>\n      <th>onlineid2<\/th>\n      <th>onlineid3<\/th>\n      <th>onlineid4<\/th>\n      <th>onlineid5<\/th>\n      <th>onlineid6<\/th>\n      <th>onlineid7<\/th>\n      <th>onlineid8<\/th>\n      <th>onlineid9<\/th>\n      <th>onlineid10<\/th>\n      <th>onlineide11<\/th>\n      <th>phone1<\/th>\n      <th>phone2<\/th>\n      <th>phone3<\/th>\n      <th>phone4<\/th>\n      <th>phone5<\/th>\n      <th>phone6<\/th>\n      <th>phone7<\/th>\n      <th>phone8<\/th>\n      <th>phone9<\/th>\n      <th>romantic<\/th>\n      <th>scontrol1<\/th>\n      <th>scontrol2<\/th>\n      <th>scontrol3<\/th>\n      <th>scontrol4<\/th>\n      <th>scontrol5<\/th>\n      <th>scontrol6<\/th>\n      <th>scontrol7<\/th>\n      <th>scontrol8<\/th>\n      <th>scontrol9<\/th>\n      <th>scontrol10<\/th>\n      <th>scontrol11<\/th>\n      <th>scontrol12<\/th>\n      <th>scontrol13<\/th>\n      <th>selfcontrol<\/th>\n      <th>sex<\/th>\n      <th>smoke<\/th>\n      <th>SNI1<\/th>\n      <th>SNI2<\/th>\n      <th>SNI3<\/th>\n      <th>SNI4<\/th>\n      <th>SNI5<\/th>\n      <th>SNI6<\/th>\n      <th>SNI7<\/th>\n      <th>SNI8<\/th>\n      <th>SNI9<\/th>\n      <th>SNI10<\/th>\n      <th>SNI11<\/th>\n      <th>SNI12<\/th>\n      <th>SNI13<\/th>\n      <th>SNI14<\/th>\n      <th>SNI15<\/th>\n      <th>SNI16<\/th>\n      <th>SNI17<\/th>\n      <th>SNI18<\/th>\n      <th>SNI19<\/th>\n      <th>SNI20<\/th>\n      <th>SNI21<\/th>\n      <th>SNI22<\/th>\n      <th>SNI23<\/th>\n      <th>SNI24<\/th>\n      <th>SNI25<\/th>\n      <th>SNI26<\/th>\n      <th>SNI27<\/th>\n      <th>SNI28<\/th>\n      <th>SNI29<\/th>\n      <th>SNI30<\/th>\n      <th>SNI31<\/th>\n      <th>SNI32<\/th>\n      <th>SNS1<\/th>\n      <th>SNS2<\/th>\n      <th>SNS3<\/th>\n      <th>SNS4<\/th>\n      <th>SNS5<\/th>\n      <th>SNS6<\/th>\n      <th>SNS7<\/th>\n      <th>socialdiversity<\/th>\n      <th>socialembedded<\/th>\n      <th>STRAQ_1<\/th>\n      <th>STRAQ_2<\/th>\n      <th>STRAQ_3<\/th>\n      <th>STRAQ_4<\/th>\n      <th>STRAQ_6<\/th>\n      <th>STRAQ_7<\/th>\n      <th>STRAQ_8<\/th>\n      <th>STRAQ_9<\/th>\n      <th>STRAQ_10<\/th>\n      <th>STRAQ_11<\/th>\n      <th>STRAQ_12<\/th>\n      <th>STRAQ_19<\/th>\n      <th>STRAQ_20<\/th>\n      <th>STRAQ_21<\/th>\n      <th>STRAQ_22<\/th>\n      <th>STRAQ_23<\/th>\n      <th>STRAQ_24<\/th>\n      <th>STRAQ_25<\/th>\n      <th>STRAQ_26<\/th>\n      <th>STRAQ_27<\/th>\n      <th>STRAQ_28<\/th>\n      <th>STRAQ_29<\/th>\n      <th>STRAQ_30<\/th>\n      <th>STRAQ_31<\/th>\n      <th>STRAQ_32<\/th>\n      <th>STRAQ_33<\/th>\n      <th>STRAQ_5<\/th>\n      <th>STRAQ_13<\/th>\n      <th>STRAQ_14<\/th>\n      <th>STRAQ_15<\/th>\n      <th>STRAQ_16<\/th>\n      <th>STRAQ_17<\/th>\n      <th>STRAQ_18<\/th>\n      <th>STRAQ_34<\/th>\n      <th>STRAQ_35<\/th>\n      <th>STRAQ_36<\/th>\n      <th>STRAQ_37<\/th>\n      <th>STRAQ_38<\/th>\n      <th>STRAQ_39<\/th>\n      <th>STRAQ_40<\/th>\n      <th>STRAQ_41<\/th>\n      <th>STRAQ_42<\/th>\n      <th>STRAQ_43<\/th>\n      <th>STRAQ_44<\/th>\n      <th>STRAQ_45<\/th>\n      <th>STRAQ_46<\/th>\n      <th>STRAQ_47<\/th>\n      <th>STRAQ_48<\/th>\n      <th>STRAQ_49<\/th>\n      <th>STRAQ_50<\/th>\n      <th>STRAQ_51<\/th>\n      <th>STRAQ_52<\/th>\n      <th>STRAQ_53<\/th>\n      <th>STRAQ_54<\/th>\n      <th>STRAQ_55<\/th>\n      <th>STRAQ_56<\/th>\n      <th>STRAQ_57<\/th>\n      <th>stress<\/th>\n      <th>stress1<\/th>\n      <th>stress2<\/th>\n      <th>stress3<\/th>\n      <th>stress4<\/th>\n      <th>stress5<\/th>\n      <th>stress6<\/th>\n      <th>stress7<\/th>\n      <th>stress8<\/th>\n      <th>stress9<\/th>\n      <th>stress10<\/th>\n      <th>stress11<\/th>\n      <th>stress12<\/th>\n      <th>stress13<\/th>\n      <th>stress14<\/th>\n      <th>Temperature_t1<\/th>\n      <th>Temperature_t2<\/th>\n      <th>thermotype<\/th>\n      <th>avgtemp<\/th>\n      <th>filter_.<\/th>\n      <th>mintemp<\/th>\n      <th>language<\/th>\n      <th>langfamily<\/th>\n      <th>Zanxiety<\/th>\n      <th>Zavoidance<\/th>\n      <th>Site<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"age","targets":1},{"name":"ALEX1","targets":2},{"name":"ALEX2","targets":3},{"name":"ALEX3","targets":4},{"name":"ALEX4","targets":5},{"name":"ALEX5","targets":6},{"name":"ALEX6","targets":7},{"name":"ALEX7","targets":8},{"name":"ALEX8","targets":9},{"name":"ALEX9","targets":10},{"name":"ALEX10","targets":11},{"name":"ALEX11","targets":12},{"name":"ALEX12","targets":13},{"name":"ALEX13","targets":14},{"name":"ALEX14","targets":15},{"name":"ALEX15","targets":16},{"name":"ALEX16","targets":17},{"name":"anxiety","targets":18},{"name":"artgluctot","targets":19},{"name":"attachhome","targets":20},{"name":"attachphone","targets":21},{"name":"AvgHumidity","targets":22},{"name":"avoidance","targets":23},{"name":"cigs","targets":24},{"name":"DIDF","targets":25},{"name":"eatdrink","targets":26},{"name":"ECR1","targets":27},{"name":"ECR2","targets":28},{"name":"ECR3","targets":29},{"name":"ECR4","targets":30},{"name":"ECR5","targets":31},{"name":"ECR6","targets":32},{"name":"ECR7","targets":33},{"name":"ECR8","targets":34},{"name":"ECR9","targets":35},{"name":"ECR10","targets":36},{"name":"ECR11","targets":37},{"name":"ECR12","targets":38},{"name":"ECR13","targets":39},{"name":"ECR14","targets":40},{"name":"ECR15","targets":41},{"name":"ECR16","targets":42},{"name":"ECR17","targets":43},{"name":"ECR18","targets":44},{"name":"ECR19","targets":45},{"name":"ECR20","targets":46},{"name":"ECR21","targets":47},{"name":"ECR22","targets":48},{"name":"ECR23","targets":49},{"name":"ECR24","targets":50},{"name":"ECR25","targets":51},{"name":"ECR26","targets":52},{"name":"ECR27","targets":53},{"name":"ECR28","targets":54},{"name":"ECR29","targets":55},{"name":"ECR30","targets":56},{"name":"ECR31","targets":57},{"name":"ECR32","targets":58},{"name":"ECR33","targets":59},{"name":"ECR34","targets":60},{"name":"ECR35","targets":61},{"name":"ECR36","targets":62},{"name":"endtime","targets":63},{"name":"EOT","targets":64},{"name":"exercise","targets":65},{"name":"gluctot","targets":66},{"name":"health","targets":67},{"name":"HOME1","targets":68},{"name":"HOME2","targets":69},{"name":"HOME3","targets":70},{"name":"HOME4","targets":71},{"name":"HOME5","targets":72},{"name":"HOME6","targets":73},{"name":"HOME7","targets":74},{"name":"HOME8","targets":75},{"name":"HOME9","targets":76},{"name":"KAMF1","targets":77},{"name":"KAMF2","targets":78},{"name":"KAMF3","targets":79},{"name":"KAMF4","targets":80},{"name":"KAMF5","targets":81},{"name":"KAMF6","targets":82},{"name":"KAMF7","targets":83},{"name":"networksize","targets":84},{"name":"nostalgia","targets":85},{"name":"onlineid","targets":86},{"name":"onlineid1","targets":87},{"name":"onlineid2","targets":88},{"name":"onlineid3","targets":89},{"name":"onlineid4","targets":90},{"name":"onlineid5","targets":91},{"name":"onlineid6","targets":92},{"name":"onlineid7","targets":93},{"name":"onlineid8","targets":94},{"name":"onlineid9","targets":95},{"name":"onlineid10","targets":96},{"name":"onlineide11","targets":97},{"name":"phone1","targets":98},{"name":"phone2","targets":99},{"name":"phone3","targets":100},{"name":"phone4","targets":101},{"name":"phone5","targets":102},{"name":"phone6","targets":103},{"name":"phone7","targets":104},{"name":"phone8","targets":105},{"name":"phone9","targets":106},{"name":"romantic","targets":107},{"name":"scontrol1","targets":108},{"name":"scontrol2","targets":109},{"name":"scontrol3","targets":110},{"name":"scontrol4","targets":111},{"name":"scontrol5","targets":112},{"name":"scontrol6","targets":113},{"name":"scontrol7","targets":114},{"name":"scontrol8","targets":115},{"name":"scontrol9","targets":116},{"name":"scontrol10","targets":117},{"name":"scontrol11","targets":118},{"name":"scontrol12","targets":119},{"name":"scontrol13","targets":120},{"name":"selfcontrol","targets":121},{"name":"sex","targets":122},{"name":"smoke","targets":123},{"name":"SNI1","targets":124},{"name":"SNI2","targets":125},{"name":"SNI3","targets":126},{"name":"SNI4","targets":127},{"name":"SNI5","targets":128},{"name":"SNI6","targets":129},{"name":"SNI7","targets":130},{"name":"SNI8","targets":131},{"name":"SNI9","targets":132},{"name":"SNI10","targets":133},{"name":"SNI11","targets":134},{"name":"SNI12","targets":135},{"name":"SNI13","targets":136},{"name":"SNI14","targets":137},{"name":"SNI15","targets":138},{"name":"SNI16","targets":139},{"name":"SNI17","targets":140},{"name":"SNI18","targets":141},{"name":"SNI19","targets":142},{"name":"SNI20","targets":143},{"name":"SNI21","targets":144},{"name":"SNI22","targets":145},{"name":"SNI23","targets":146},{"name":"SNI24","targets":147},{"name":"SNI25","targets":148},{"name":"SNI26","targets":149},{"name":"SNI27","targets":150},{"name":"SNI28","targets":151},{"name":"SNI29","targets":152},{"name":"SNI30","targets":153},{"name":"SNI31","targets":154},{"name":"SNI32","targets":155},{"name":"SNS1","targets":156},{"name":"SNS2","targets":157},{"name":"SNS3","targets":158},{"name":"SNS4","targets":159},{"name":"SNS5","targets":160},{"name":"SNS6","targets":161},{"name":"SNS7","targets":162},{"name":"socialdiversity","targets":163},{"name":"socialembedded","targets":164},{"name":"STRAQ_1","targets":165},{"name":"STRAQ_2","targets":166},{"name":"STRAQ_3","targets":167},{"name":"STRAQ_4","targets":168},{"name":"STRAQ_6","targets":169},{"name":"STRAQ_7","targets":170},{"name":"STRAQ_8","targets":171},{"name":"STRAQ_9","targets":172},{"name":"STRAQ_10","targets":173},{"name":"STRAQ_11","targets":174},{"name":"STRAQ_12","targets":175},{"name":"STRAQ_19","targets":176},{"name":"STRAQ_20","targets":177},{"name":"STRAQ_21","targets":178},{"name":"STRAQ_22","targets":179},{"name":"STRAQ_23","targets":180},{"name":"STRAQ_24","targets":181},{"name":"STRAQ_25","targets":182},{"name":"STRAQ_26","targets":183},{"name":"STRAQ_27","targets":184},{"name":"STRAQ_28","targets":185},{"name":"STRAQ_29","targets":186},{"name":"STRAQ_30","targets":187},{"name":"STRAQ_31","targets":188},{"name":"STRAQ_32","targets":189},{"name":"STRAQ_33","targets":190},{"name":"STRAQ_5","targets":191},{"name":"STRAQ_13","targets":192},{"name":"STRAQ_14","targets":193},{"name":"STRAQ_15","targets":194},{"name":"STRAQ_16","targets":195},{"name":"STRAQ_17","targets":196},{"name":"STRAQ_18","targets":197},{"name":"STRAQ_34","targets":198},{"name":"STRAQ_35","targets":199},{"name":"STRAQ_36","targets":200},{"name":"STRAQ_37","targets":201},{"name":"STRAQ_38","targets":202},{"name":"STRAQ_39","targets":203},{"name":"STRAQ_40","targets":204},{"name":"STRAQ_41","targets":205},{"name":"STRAQ_42","targets":206},{"name":"STRAQ_43","targets":207},{"name":"STRAQ_44","targets":208},{"name":"STRAQ_45","targets":209},{"name":"STRAQ_46","targets":210},{"name":"STRAQ_47","targets":211},{"name":"STRAQ_48","targets":212},{"name":"STRAQ_49","targets":213},{"name":"STRAQ_50","targets":214},{"name":"STRAQ_51","targets":215},{"name":"STRAQ_52","targets":216},{"name":"STRAQ_53","targets":217},{"name":"STRAQ_54","targets":218},{"name":"STRAQ_55","targets":219},{"name":"STRAQ_56","targets":220},{"name":"STRAQ_57","targets":221},{"name":"stress","targets":222},{"name":"stress1","targets":223},{"name":"stress2","targets":224},{"name":"stress3","targets":225},{"name":"stress4","targets":226},{"name":"stress5","targets":227},{"name":"stress6","targets":228},{"name":"stress7","targets":229},{"name":"stress8","targets":230},{"name":"stress9","targets":231},{"name":"stress10","targets":232},{"name":"stress11","targets":233},{"name":"stress12","targets":234},{"name":"stress13","targets":235},{"name":"stress14","targets":236},{"name":"Temperature_t1","targets":237},{"name":"Temperature_t2","targets":238},{"name":"thermotype","targets":239},{"name":"avgtemp","targets":240},{"name":"filter_.","targets":241},{"name":"mintemp","targets":242},{"name":"language","targets":243},{"name":"langfamily","targets":244},{"name":"Zanxiety","targets":245},{"name":"Zavoidance","targets":246},{"name":"Site","targets":247}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="zh-CN"&gt;读取原始数据 &lt;/h1&gt;
## &lt;h2 lang="en"&gt;Raw Data: Match Task &lt;/h2&gt;

```r
# 读取原始数据
df.mt.raw &lt;-  read.csv('./data/match/match_raw.csv',
                       header = T, sep=",", stringsAsFactors = FALSE) 
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-03bbdd680b38cc2e7da4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-03bbdd680b38cc2e7da4">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],["02-May-2018_14:23:06","02-May-2018_14:23:08","02-May-2018_14:23:10","02-May-2018_14:23:13","02-May-2018_14:23:15","02-May-2018_14:23:17","02-May-2018_14:23:19","02-May-2018_14:23:21","02-May-2018_14:23:24","02-May-2018_14:23:26"],["Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp"],[7302,7302,7302,7302,7302,7302,7302,7302,7302,7302],[22,22,22,22,22,22,22,22,22,22],["female","female","female","female","female","female","female","female","female","female"],["R","R","R","R","R","R","R","R","R","R"],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,2,3,4,5,6,7,8,9,10],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf"],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf"],["mismatch","mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch"],["n","n","n","n","m","m","m","m","n","n"],["m","n","n",null,"m","m","m","m","n","n"],[0,1,1,-1,1,1,1,1,1,1],[0.7561,0.7043,0.9903,1.042,0.8207,0.7547,0.5429,0.9009,0.9550999999999999,0.6952]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Date<\/th>\n      <th>Prac<\/th>\n      <th>Sub<\/th>\n      <th>Age<\/th>\n      <th>Sex<\/th>\n      <th>Hand<\/th>\n      <th>Block<\/th>\n      <th>Bin<\/th>\n      <th>Trial<\/th>\n      <th>Shape<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>CorrResp<\/th>\n      <th>Resp<\/th>\n      <th>ACC<\/th>\n      <th>RT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[3,4,7,8,9,15,16]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Date","targets":1},{"name":"Prac","targets":2},{"name":"Sub","targets":3},{"name":"Age","targets":4},{"name":"Sex","targets":5},{"name":"Hand","targets":6},{"name":"Block","targets":7},{"name":"Bin","targets":8},{"name":"Trial","targets":9},{"name":"Shape","targets":10},{"name":"Label","targets":11},{"name":"Match","targets":12},{"name":"CorrResp","targets":13},{"name":"Resp","targets":14},{"name":"ACC","targets":15},{"name":"RT","targets":16}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
class: center, middle
&lt;span style="font-size: 60px;"&gt;5.2 数据预处理的基本操作&lt;/span&gt; &lt;br&gt;
---
# &lt;h1 lang="en"&gt;dplyr&lt;/h1&gt;
&lt;br&gt;

&lt;body&gt;
  &lt;p lang="en"&gt;dplyr is a grammar of data manipulation, providing a consistent set of verbs that help you solve the most common data manipulation challenges: &lt;/p&gt;
&lt;/body&gt;

&lt;br&gt;

&lt;img src="https://dplyr.tidyverse.org/logo.png" alt="dplyr" style="display: block; margin: 0 auto;"&gt;
---
# &lt;h1 lang="en"&gt;dplyr::functions&lt;/h1&gt;

- filter() 选择符合某个条件的行（可能代表被试） &lt;br&gt;

- mutate() 生成新的变量 &lt;br&gt;

- group_by() 依据某些变量产生的条件，给数据分组 &lt;br&gt;
  **如果你使用了 "group_by",** &lt;br&gt;
  **一定要在summarise后使用 "ungroup".** &lt;br&gt;
  
- summarise() 进行某些加减乘除的运算 &lt;br&gt;  

- ungroup() 取消刚刚进行的分组 &lt;br&gt;  

- select() 选择最终进行分析时需要用到的变量，同时也起到了为所有变量排序的功能 &lt;br&gt;

- arrange() 某一列的值，按照某个顺序排列（其他列也会随之变动） &lt;br&gt;

_当你清洗数据时，也基本上会按照这个顺序来使用_

---
class: center, middle
# &lt;h1 lang="zh-CN"&gt;接下来就要正式讲dplyr了&lt;/h1&gt;
&lt;img src="https://dplyr.tidyverse.org/logo.png" alt="dplyr" style="display: block; margin: 0 auto;"&gt;
&lt;br&gt;


---
# &lt;h1 lang="en"&gt;dplyr::filter&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;选择个案&lt;/h2&gt;


```r
# 使用filter筛选出数据集中1995之后出生的被试
df.clean.filter &lt;- df.pg.raw %&gt;%
  dplyr::filter(.,age &gt;= 1995)
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-0aa53cc9055cae2b0421" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0aa53cc9055cae2b0421">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[1995,1995,1995,1996,1996,1996,1995,1995,1995,1995],[2,4,2,1,2,3,2,2,2,2],[2,1,3,1,3,3,4,4,4,4],[2,1,1,1,1,1,3,1,2,1],[2,2,3,1,3,2,4,2,2,3],[2,4,2,4,2,4,3,2,4,2],[2,1,1,1,2,1,2,1,4,2],[2,4,1,2,2,2,4,3,4,2],[2,1,2,1,2,4,3,2,2,2],[4,1,1,4,2,4,3,1,2,3],[2,2,2,2,2,1,2,1,4,3],[2,1,1,1,1,4,2,1,3,2],[2,1,2,2,2,1,2,2,2,2],[2,2,3,4,2,2,4,1,2,1],[2,1,4,3,4,3,2,1,1,2],[3,1,5,5,3,5,4,1,4,2],[2,1,4,5,2,4,3,1,2,2],[4.05555555555556,1.44444444444444,2,2.55555555555556,3.55555555555556,4.38888888888889,4,2.5,3.38888888888889,2.16666666666667],[0,0,0,null,0,0,0,0,0,4],[4.88888888888889,1.33333333333333,3.33333333333333,3.11111111111111,3.33333333333333,3.22222222222222,4.11111111111111,4.66666666666667,4.11111111111111,4.22222222222222],[2,2,2.44444444444444,3.77777777777778,1.88888888888889,4.22222222222222,3.44444444444444,2.33333333333333,2.88888888888889,3],[89,89,89,89,89,89,89,89,89,88],[3,1.61111111111111,3.77777777777778,6.44444444444444,4,5.27777777777778,4,1.61111111111111,3.83333333333333,1.33333333333333],[null,null,null,null,null,1,null,null,null,null],[2.18181818181818,2,1.72727272727273,1.72727272727273,2,2.63636363636364,2.90909090909091,1.81818181818182,3,2.36363636363636],[1,1,1,1,1,1,1,1,1,1],[6,1,1,2,4,5,4,3,2,4],[4,1,1,1,4,6,4,3,2,2],[2,1,1,4,4,6,4,4,4,1],[5,1,2,1,4,5,4,4,3,2],[5,1,2,4,4,4,4,2,3,4],[2,1,1,1,1,3,4,4,6,2],[3,1,1,2,4,5,4,1,2,1],[5,1,2,7,4,7,4,1,6,2],[2,1,6,1,4,3,4,2,2,3],[3,1,2,4,4,3,4,2,3,1],[7,1,2,2,2,6,4,2,3,2],[4,1,2,1,4,4,4,2,2,2],[3,1,4,2,4,4,4,2,6,1],[3,7,1,1,1,2,4,1,2,4],[4,1,2,1,4,1,4,2,6,1],[5,3,1,2,4,4,4,1,2,1],[5,1,3,6,4,7,4,5,6,5],[5,1,2,4,4,4,4,4,1,1],[3,2,5,7,4,5,4,2,3,1],[4,2,5,1,4,7,4,1,3,1],[3,2,4,6,4,5,4,2,5,1],[2,2,4,7,4,5,4,2,5,2],[2,2,3,7,4,6,4,1,5,2],[3,1,4,7,4,5,4,3,7,1],[3,1,3,7,4,6,4,2,6,1],[4,1,3,7,4,7,4,1,2,1],[5,1,1,7,4,7,4,1,3,1],[3,1,3,6,4,4,4,1,5,2],[2,2,6,6,4,4,4,1,2,1],[2,2,5,7,4,5,4,2,6,1],[4,1,4,7,4,3,4,1,2,1],[2,2,3,7,4,6,4,1,5,1],[3,3,4,6,4,5,4,2,3,2],[3,1,5,7,4,6,4,2,3,2],[3,1,3,7,4,5,4,1,2,2],[3,2,3,7,4,4,4,3,2,1],["9:23:26","8:57:08","8:39:12","8:32:08","8:28:03","8:25:57","8:13:51","8:09:17","8:04:56","7:19:46"],[2.2,1.2,3.6,3.8,2.6,3,3,1.2,2.2,1.8],[2,2,2,2,2,2,2,2,2,2],[0,12,0,null,0,2,1,0,6,0],[4,4,4,4,3,3,4,5,4,3],[5,1,4,5,3,4,5,5,4,4],[5,1,4,2,3,5,4,5,4,4],[5,4,4,4,4,3,4,5,4,4],[5,1,4,5,5,3,4,5,4,5],[5,1,4,2,4,4,4,5,5,5],[4,1,2,1,3,2,4,4,4,5],[5,1,2,5,2,2,4,4,3,3],[5,1,3,1,3,3,4,5,4,4],[5,1,3,3,3,3,4,4,5,4],[1,5,3,2,3,4,4,5,3,5],[2,6,3,2,3,5,5,8,4,7],[6,5,3,2,2,1,4,6,4,4],[2,4,2,2,1,3,2,3,6,5],[3,3,2,2,3,2,4,4,2,3],[2,1,4,2,3,3,3,3,5,3],[2,1,4,2,1,2,4,5,5,6],[28,24,33,53,17,19,14,33,20,23],[6.5,6.83333333333333,2,5.83333333333333,5.66666666666667,5.16666666666667,4.16666666666667,4.66666666666667,5.16666666666667,4.16666666666667],[2.63636363636364,2.18181818181818,2.45454545454545,2.81818181818182,1.81818181818182,3.90909090909091,3.09090909090909,1.63636363636364,2.54545454545455,2.45454545454545],[3,3,4,4,2,5,3,2,4,4],[2,4,4,4,3,4,4,2,4,2],[3,2,2,2,2,5,3,1,2,2],[3,4,4,2,2,4,3,3,4,4],[3,1,3,3,2,3,3,1,1,2],[2,1,1,2,1,3,2,1,2,2],[2,1,2,2,2,4,3,1,1,2],[3,3,1,2,2,3,3,1,1,2],[3,3,2,4,1,3,3,2,4,2],[3,1,1,2,1,4,4,2,1,3],[2,1,3,4,2,5,3,2,4,2],[2,1,3,3,3,4,4,3,3,3],[2,4,3,4,2,4,4,3,4,4],[2,1,2,5,1,2,4,1,1,3],[2,4,3,4,4,4,4,3,4,4],[2,1,2,1,3,5,3,1,4,1],[2,1,2,3,1,4,2,1,5,2],[2,1,2,5,1,5,4,3,2,4],[2,1,3,5,1,5,4,1,1,2],[2,4,2,4,1,5,2,5,2,4],[2,1,2,2,2,2,2,1,1,1],[4,2,5,2,3,3,4,2,3,2],[4,3,5,4,3,4,4,3,3,3],[4,3,5,2,5,5,5,4,4,5],[4,2,2,2,5,1,2,3,2,3],[4,4,3,1,5,2,2,1,4,3],[3,2,4,3,3,1,5,2,1,1],[4,4,3,2,4,2,3,2,4,1],[2,1,3,2,5,4,2,3,1,2],[4,3,5,4,3,3,2,4,3,3],[3,5,5,5,4,2,3,5,3,3],[4,4,5,3,2,5,3,3,3,5],[5,4,4,1,4,3,3,4,3,2],[4,4,3,2,2,2,2,3,4,2],[3.76923076923077,3.15384615384615,4,2.53846153846154,3.69230769230769,2.84615384615385,3.07692307692308,3,2.92307692307692,2.69230769230769],[1,1,1,2,1,2,1,2,1,2],[2,2,2,2,2,1,2,2,2,2],[1,1,2,2,2,2,2,2,2,2],[1,1,1,1,1,1,1,1,1,1],[null,null,null,null,null,null,null,null,null,null],[4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,1,4,4],[1,4,5,5,5,5,5,5,5,4],[null,4,null,null,null,null,null,null,null,1],[8,2,2,3,2,6,4,4,3,4],[6,2,1,2,2,3,3,1,1,1],[4,5,5,8,3,8,4,8,7,8],[1,5,5,8,2,8,3,8,6,6],[1,1,1,1,1,1,1,1,2,1],[null,null,null,null,null,null,null,null,2,null],[2,2,2,2,2,2,2,2,2,2],[8,8,8,8,8,8,5,8,7,8],[3,2,1,1,1,1,1,1,3,3],[8,1,null,null,null,null,null,null,1,1],[5,6,null,null,null,null,null,null,4,1],[3,1,8,6,1,3,3,1,1,8],[1,1,1,1,1,1,1,1,1,1],[null,null,null,null,null,null,null,null,null,null],[1,1,2,2,2,1,1,2,1,1],[" "," ","Rowing Club","University Friends","Oxford Latin Speaking Society"," "," ","Choir"," "," "],[" "," ","Rugby Club","Business Social","Oxford Latin Conversation Society"," "," ","Rowing"," "," "],[" "," "," ","Lecturers/ Advisors","Plato Reading Group"," "," ","The JCR"," "," "],[" "," "," ","Friends from home"," "," "," "," "," "," "],[" "," "," ","Neighbors"," "," "," "," "," "," "],[null,null,7,20,2,null,null,7,null,null],[null,null,7,15,4,null,null,7,null,null],[null,null,null,5,1,null,null,7,null,null],[null,null,null,9,null,null,null,null,null,null],[null,null,null,6,null,null,null,null,null,null],[6,7,1,6,7,7,5,5,4,3],[7,7,2,7,7,4,4,5,6,5],[6,7,3,5,6,5,4,5,7,5],[7,7,2,5,6,5,4,5,6,4],[6,7,2,6,5,5,4,5,5,5],[7,6,2,6,3,5,4,3,3,3],[6,6,2,5,3,4,4,3,5,3],[7,8,6,null,6,6,6,6,8,8],[2,3,4,null,2,3,2,2,3,4],[2,4,2,2,3,1,3,2,2,1],[4,5,4,4,5,4,4,4,2,4],[3,4,4,2,4,4,5,4,4,2],[3,4,4,4,2,4,4,4,5,5],[3,4,4,5,2,3,3,2,3,4],[4,4,3,4,1,3,2,2,4,3],[5,4,4,5,2,2,3,4,3,2],[2,4,3,5,2,4,1,4,4,4],[5,5,2,4,4,5,5,4,4,1],[3,2,4,1,4,5,4,3,4,4],[2,1,2,2,2,1,1,1,4,1],[2,2,4,4,2,2,2,4,4,2],[4,4,2,2,2,1,4,3,4,2],[4,2,4,3,4,4,5,4,5,4],[4,2,1,2,5,3,2,2,2,4],[3,4,5,5,4,4,3,4,4,4],[3,5,3,2,2,2,3,5,4,5],[3,4,3,4,3,2,3,5,2,3],[3,5,4,4,3,3,3,4,5,5],[3,1,4,1,2,4,3,4,4,3],[3,4,4,5,3,5,2,4,4,4],[3,5,3,2,3,3,3,4,4,4],[3,1,3,2,4,3,4,4,2,2],[3,1,2,2,3,3,3,2,1,5],[3,5,2,5,4,4,2,2,3,1],[3,3,3,3,3,3,3,4,4,3],[3,1,4,2,1,1,2,2,4,2],[5,4,3,1,4,5,3,5,2,4],[5,4,2,1,5,5,3,4,4,4],[2,2,2,5,2,4,3,3,5,4],[4,2,2,1,2,4,2,3,2,2],[3,1,2,5,1,4,4,2,3,2],[3,2,3,1,3,4,3,4,4,4],[4,3,2,1,2,2,2,2,2,2],[4,2,4,2,1,4,2,1,3,2],[4,2,4,4,2,4,2,4,5,3],[4,4,4,2,2,4,2,3,2,2],[4,2,4,4,5,1,4,4,5,5],[2,2,4,5,2,4,3,2,3,2],[3,3,2,2,2,4,3,2,3,2],[3,2,3,2,2,4,3,2,2,4],[3,5,4,4,4,4,3,2,4,4],[4,2,2,2,2,3,2,2,4,2],[2,2,2,1,1,2,2,2,2,2],[3,2,2,1,4,2,3,4,2,2],[4,4,4,1,3,3,3,4,4,4],[3,4,2,4,3,4,4,4,4,4],[2,5,2,1,1,2,3,2,2,4],[3,5,2,1,1,2,2,4,3,3],[3,5,4,3,3,4,3,4,1,4],[4,2,3,5,4,5,3,2,2,3],[4,5,2,5,2,4,3,5,4,2],[4,4,2,1,2,2,3,4,2,4],[3,4,2,4,2,4,3,4,4,2],[4,2,3,3,2,4,3,4,4,3],[4,1,2,2,2,2,2,2,2,2],[2,5,1,4,2,2,3,2,3,4],[2.46153846153846,2.38461538461538,2.07692307692308,1.53846153846154,2.61538461538462,3.15384615384615,2.30769230769231,2,3.30769230769231,2.53846153846154],[2,3,2,1,5,3,3,2,3,2],[3,3,2,2,2,4,3,3,4,2],[3,4,3,1,3,5,4,3,5,4],[3,1,2,2,2,4,2,1,2,3],[2,2,2,2,2,3,2,2,3,3],[2,1,2,2,2,1,1,2,3,2],[2,2,2,1,2,3,2,2,2,3],[2,2,2,1,3,4,3,3,4,2],[2,3,2,2,2,3,1,2,2,2],[3,3,2,1,4,3,2,1,4,2],[2,3,2,2,1,2,3,2,4,3],[4,4,4,4,5,4,3,5,5,3],[4,2,2,2,3,2,2,1,2,3],[2,2,2,1,3,4,2,2,5,2],[35.8,34,34.7,36,34.7,35.9,37,35,34.6,35.9],[36,36.2,36.4,36.3,36.3,36.3,34.8,36.4,36.5,36.7],[2,2,4,2,2,2,2,2,2,2],[35.9,35.1,35.55,36.15,35.5,36.1,35.9,35.7,35.55,36.3],[1,1,1,1,1,1,1,1,1,1],[-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-2.22222222222222],[5,5,5,5,5,5,5,5,5,5],[1,1,1,1,1,1,1,1,1,1],[0.472682850177291,-1.77049556891649,-1.29322356485399,-0.815951560791479,0.0431380465210342,0.759046052614796,0.42495564977104,-0.86367876119773,-0.100043554697718,-1.15004196363523],[-0.249805147204807,-1.48929633562561,0.44430991831084,2.82413300007877,0.642628508458168,1.7829604018053,0.642628508458168,-1.48929633562561,0.493889565847672,-1.73719457330976],["Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford"]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>age<\/th>\n      <th>ALEX1<\/th>\n      <th>ALEX2<\/th>\n      <th>ALEX3<\/th>\n      <th>ALEX4<\/th>\n      <th>ALEX5<\/th>\n      <th>ALEX6<\/th>\n      <th>ALEX7<\/th>\n      <th>ALEX8<\/th>\n      <th>ALEX9<\/th>\n      <th>ALEX10<\/th>\n      <th>ALEX11<\/th>\n      <th>ALEX12<\/th>\n      <th>ALEX13<\/th>\n      <th>ALEX14<\/th>\n      <th>ALEX15<\/th>\n      <th>ALEX16<\/th>\n      <th>anxiety<\/th>\n      <th>artgluctot<\/th>\n      <th>attachhome<\/th>\n      <th>attachphone<\/th>\n      <th>AvgHumidity<\/th>\n      <th>avoidance<\/th>\n      <th>cigs<\/th>\n      <th>DIDF<\/th>\n      <th>eatdrink<\/th>\n      <th>ECR1<\/th>\n      <th>ECR2<\/th>\n      <th>ECR3<\/th>\n      <th>ECR4<\/th>\n      <th>ECR5<\/th>\n      <th>ECR6<\/th>\n      <th>ECR7<\/th>\n      <th>ECR8<\/th>\n      <th>ECR9<\/th>\n      <th>ECR10<\/th>\n      <th>ECR11<\/th>\n      <th>ECR12<\/th>\n      <th>ECR13<\/th>\n      <th>ECR14<\/th>\n      <th>ECR15<\/th>\n      <th>ECR16<\/th>\n      <th>ECR17<\/th>\n      <th>ECR18<\/th>\n      <th>ECR19<\/th>\n      <th>ECR20<\/th>\n      <th>ECR21<\/th>\n      <th>ECR22<\/th>\n      <th>ECR23<\/th>\n      <th>ECR24<\/th>\n      <th>ECR25<\/th>\n      <th>ECR26<\/th>\n      <th>ECR27<\/th>\n      <th>ECR28<\/th>\n      <th>ECR29<\/th>\n      <th>ECR30<\/th>\n      <th>ECR31<\/th>\n      <th>ECR32<\/th>\n      <th>ECR33<\/th>\n      <th>ECR34<\/th>\n      <th>ECR35<\/th>\n      <th>ECR36<\/th>\n      <th>endtime<\/th>\n      <th>EOT<\/th>\n      <th>exercise<\/th>\n      <th>gluctot<\/th>\n      <th>health<\/th>\n      <th>HOME1<\/th>\n      <th>HOME2<\/th>\n      <th>HOME3<\/th>\n      <th>HOME4<\/th>\n      <th>HOME5<\/th>\n      <th>HOME6<\/th>\n      <th>HOME7<\/th>\n      <th>HOME8<\/th>\n      <th>HOME9<\/th>\n      <th>KAMF1<\/th>\n      <th>KAMF2<\/th>\n      <th>KAMF3<\/th>\n      <th>KAMF4<\/th>\n      <th>KAMF5<\/th>\n      <th>KAMF6<\/th>\n      <th>KAMF7<\/th>\n      <th>networksize<\/th>\n      <th>nostalgia<\/th>\n      <th>onlineid<\/th>\n      <th>onlineid1<\/th>\n      <th>onlineid2<\/th>\n      <th>onlineid3<\/th>\n      <th>onlineid4<\/th>\n      <th>onlineid5<\/th>\n      <th>onlineid6<\/th>\n      <th>onlineid7<\/th>\n      <th>onlineid8<\/th>\n      <th>onlineid9<\/th>\n      <th>onlineid10<\/th>\n      <th>onlineide11<\/th>\n      <th>phone1<\/th>\n      <th>phone2<\/th>\n      <th>phone3<\/th>\n      <th>phone4<\/th>\n      <th>phone5<\/th>\n      <th>phone6<\/th>\n      <th>phone7<\/th>\n      <th>phone8<\/th>\n      <th>phone9<\/th>\n      <th>romantic<\/th>\n      <th>scontrol1<\/th>\n      <th>scontrol2<\/th>\n      <th>scontrol3<\/th>\n      <th>scontrol4<\/th>\n      <th>scontrol5<\/th>\n      <th>scontrol6<\/th>\n      <th>scontrol7<\/th>\n      <th>scontrol8<\/th>\n      <th>scontrol9<\/th>\n      <th>scontrol10<\/th>\n      <th>scontrol11<\/th>\n      <th>scontrol12<\/th>\n      <th>scontrol13<\/th>\n      <th>selfcontrol<\/th>\n      <th>sex<\/th>\n      <th>smoke<\/th>\n      <th>SNI1<\/th>\n      <th>SNI2<\/th>\n      <th>SNI3<\/th>\n      <th>SNI4<\/th>\n      <th>SNI5<\/th>\n      <th>SNI6<\/th>\n      <th>SNI7<\/th>\n      <th>SNI8<\/th>\n      <th>SNI9<\/th>\n      <th>SNI10<\/th>\n      <th>SNI11<\/th>\n      <th>SNI12<\/th>\n      <th>SNI13<\/th>\n      <th>SNI14<\/th>\n      <th>SNI15<\/th>\n      <th>SNI16<\/th>\n      <th>SNI17<\/th>\n      <th>SNI18<\/th>\n      <th>SNI19<\/th>\n      <th>SNI20<\/th>\n      <th>SNI21<\/th>\n      <th>SNI22<\/th>\n      <th>SNI23<\/th>\n      <th>SNI24<\/th>\n      <th>SNI25<\/th>\n      <th>SNI26<\/th>\n      <th>SNI27<\/th>\n      <th>SNI28<\/th>\n      <th>SNI29<\/th>\n      <th>SNI30<\/th>\n      <th>SNI31<\/th>\n      <th>SNI32<\/th>\n      <th>SNS1<\/th>\n      <th>SNS2<\/th>\n      <th>SNS3<\/th>\n      <th>SNS4<\/th>\n      <th>SNS5<\/th>\n      <th>SNS6<\/th>\n      <th>SNS7<\/th>\n      <th>socialdiversity<\/th>\n      <th>socialembedded<\/th>\n      <th>STRAQ_1<\/th>\n      <th>STRAQ_2<\/th>\n      <th>STRAQ_3<\/th>\n      <th>STRAQ_4<\/th>\n      <th>STRAQ_6<\/th>\n      <th>STRAQ_7<\/th>\n      <th>STRAQ_8<\/th>\n      <th>STRAQ_9<\/th>\n      <th>STRAQ_10<\/th>\n      <th>STRAQ_11<\/th>\n      <th>STRAQ_12<\/th>\n      <th>STRAQ_19<\/th>\n      <th>STRAQ_20<\/th>\n      <th>STRAQ_21<\/th>\n      <th>STRAQ_22<\/th>\n      <th>STRAQ_23<\/th>\n      <th>STRAQ_24<\/th>\n      <th>STRAQ_25<\/th>\n      <th>STRAQ_26<\/th>\n      <th>STRAQ_27<\/th>\n      <th>STRAQ_28<\/th>\n      <th>STRAQ_29<\/th>\n      <th>STRAQ_30<\/th>\n      <th>STRAQ_31<\/th>\n      <th>STRAQ_32<\/th>\n      <th>STRAQ_33<\/th>\n      <th>STRAQ_5<\/th>\n      <th>STRAQ_13<\/th>\n      <th>STRAQ_14<\/th>\n      <th>STRAQ_15<\/th>\n      <th>STRAQ_16<\/th>\n      <th>STRAQ_17<\/th>\n      <th>STRAQ_18<\/th>\n      <th>STRAQ_34<\/th>\n      <th>STRAQ_35<\/th>\n      <th>STRAQ_36<\/th>\n      <th>STRAQ_37<\/th>\n      <th>STRAQ_38<\/th>\n      <th>STRAQ_39<\/th>\n      <th>STRAQ_40<\/th>\n      <th>STRAQ_41<\/th>\n      <th>STRAQ_42<\/th>\n      <th>STRAQ_43<\/th>\n      <th>STRAQ_44<\/th>\n      <th>STRAQ_45<\/th>\n      <th>STRAQ_46<\/th>\n      <th>STRAQ_47<\/th>\n      <th>STRAQ_48<\/th>\n      <th>STRAQ_49<\/th>\n      <th>STRAQ_50<\/th>\n      <th>STRAQ_51<\/th>\n      <th>STRAQ_52<\/th>\n      <th>STRAQ_53<\/th>\n      <th>STRAQ_54<\/th>\n      <th>STRAQ_55<\/th>\n      <th>STRAQ_56<\/th>\n      <th>STRAQ_57<\/th>\n      <th>stress<\/th>\n      <th>stress1<\/th>\n      <th>stress2<\/th>\n      <th>stress3<\/th>\n      <th>stress4<\/th>\n      <th>stress5<\/th>\n      <th>stress6<\/th>\n      <th>stress7<\/th>\n      <th>stress8<\/th>\n      <th>stress9<\/th>\n      <th>stress10<\/th>\n      <th>stress11<\/th>\n      <th>stress12<\/th>\n      <th>stress13<\/th>\n      <th>stress14<\/th>\n      <th>Temperature_t1<\/th>\n      <th>Temperature_t2<\/th>\n      <th>thermotype<\/th>\n      <th>avgtemp<\/th>\n      <th>filter_.<\/th>\n      <th>mintemp<\/th>\n      <th>language<\/th>\n      <th>langfamily<\/th>\n      <th>Zanxiety<\/th>\n      <th>Zavoidance<\/th>\n      <th>Site<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"age","targets":1},{"name":"ALEX1","targets":2},{"name":"ALEX2","targets":3},{"name":"ALEX3","targets":4},{"name":"ALEX4","targets":5},{"name":"ALEX5","targets":6},{"name":"ALEX6","targets":7},{"name":"ALEX7","targets":8},{"name":"ALEX8","targets":9},{"name":"ALEX9","targets":10},{"name":"ALEX10","targets":11},{"name":"ALEX11","targets":12},{"name":"ALEX12","targets":13},{"name":"ALEX13","targets":14},{"name":"ALEX14","targets":15},{"name":"ALEX15","targets":16},{"name":"ALEX16","targets":17},{"name":"anxiety","targets":18},{"name":"artgluctot","targets":19},{"name":"attachhome","targets":20},{"name":"attachphone","targets":21},{"name":"AvgHumidity","targets":22},{"name":"avoidance","targets":23},{"name":"cigs","targets":24},{"name":"DIDF","targets":25},{"name":"eatdrink","targets":26},{"name":"ECR1","targets":27},{"name":"ECR2","targets":28},{"name":"ECR3","targets":29},{"name":"ECR4","targets":30},{"name":"ECR5","targets":31},{"name":"ECR6","targets":32},{"name":"ECR7","targets":33},{"name":"ECR8","targets":34},{"name":"ECR9","targets":35},{"name":"ECR10","targets":36},{"name":"ECR11","targets":37},{"name":"ECR12","targets":38},{"name":"ECR13","targets":39},{"name":"ECR14","targets":40},{"name":"ECR15","targets":41},{"name":"ECR16","targets":42},{"name":"ECR17","targets":43},{"name":"ECR18","targets":44},{"name":"ECR19","targets":45},{"name":"ECR20","targets":46},{"name":"ECR21","targets":47},{"name":"ECR22","targets":48},{"name":"ECR23","targets":49},{"name":"ECR24","targets":50},{"name":"ECR25","targets":51},{"name":"ECR26","targets":52},{"name":"ECR27","targets":53},{"name":"ECR28","targets":54},{"name":"ECR29","targets":55},{"name":"ECR30","targets":56},{"name":"ECR31","targets":57},{"name":"ECR32","targets":58},{"name":"ECR33","targets":59},{"name":"ECR34","targets":60},{"name":"ECR35","targets":61},{"name":"ECR36","targets":62},{"name":"endtime","targets":63},{"name":"EOT","targets":64},{"name":"exercise","targets":65},{"name":"gluctot","targets":66},{"name":"health","targets":67},{"name":"HOME1","targets":68},{"name":"HOME2","targets":69},{"name":"HOME3","targets":70},{"name":"HOME4","targets":71},{"name":"HOME5","targets":72},{"name":"HOME6","targets":73},{"name":"HOME7","targets":74},{"name":"HOME8","targets":75},{"name":"HOME9","targets":76},{"name":"KAMF1","targets":77},{"name":"KAMF2","targets":78},{"name":"KAMF3","targets":79},{"name":"KAMF4","targets":80},{"name":"KAMF5","targets":81},{"name":"KAMF6","targets":82},{"name":"KAMF7","targets":83},{"name":"networksize","targets":84},{"name":"nostalgia","targets":85},{"name":"onlineid","targets":86},{"name":"onlineid1","targets":87},{"name":"onlineid2","targets":88},{"name":"onlineid3","targets":89},{"name":"onlineid4","targets":90},{"name":"onlineid5","targets":91},{"name":"onlineid6","targets":92},{"name":"onlineid7","targets":93},{"name":"onlineid8","targets":94},{"name":"onlineid9","targets":95},{"name":"onlineid10","targets":96},{"name":"onlineide11","targets":97},{"name":"phone1","targets":98},{"name":"phone2","targets":99},{"name":"phone3","targets":100},{"name":"phone4","targets":101},{"name":"phone5","targets":102},{"name":"phone6","targets":103},{"name":"phone7","targets":104},{"name":"phone8","targets":105},{"name":"phone9","targets":106},{"name":"romantic","targets":107},{"name":"scontrol1","targets":108},{"name":"scontrol2","targets":109},{"name":"scontrol3","targets":110},{"name":"scontrol4","targets":111},{"name":"scontrol5","targets":112},{"name":"scontrol6","targets":113},{"name":"scontrol7","targets":114},{"name":"scontrol8","targets":115},{"name":"scontrol9","targets":116},{"name":"scontrol10","targets":117},{"name":"scontrol11","targets":118},{"name":"scontrol12","targets":119},{"name":"scontrol13","targets":120},{"name":"selfcontrol","targets":121},{"name":"sex","targets":122},{"name":"smoke","targets":123},{"name":"SNI1","targets":124},{"name":"SNI2","targets":125},{"name":"SNI3","targets":126},{"name":"SNI4","targets":127},{"name":"SNI5","targets":128},{"name":"SNI6","targets":129},{"name":"SNI7","targets":130},{"name":"SNI8","targets":131},{"name":"SNI9","targets":132},{"name":"SNI10","targets":133},{"name":"SNI11","targets":134},{"name":"SNI12","targets":135},{"name":"SNI13","targets":136},{"name":"SNI14","targets":137},{"name":"SNI15","targets":138},{"name":"SNI16","targets":139},{"name":"SNI17","targets":140},{"name":"SNI18","targets":141},{"name":"SNI19","targets":142},{"name":"SNI20","targets":143},{"name":"SNI21","targets":144},{"name":"SNI22","targets":145},{"name":"SNI23","targets":146},{"name":"SNI24","targets":147},{"name":"SNI25","targets":148},{"name":"SNI26","targets":149},{"name":"SNI27","targets":150},{"name":"SNI28","targets":151},{"name":"SNI29","targets":152},{"name":"SNI30","targets":153},{"name":"SNI31","targets":154},{"name":"SNI32","targets":155},{"name":"SNS1","targets":156},{"name":"SNS2","targets":157},{"name":"SNS3","targets":158},{"name":"SNS4","targets":159},{"name":"SNS5","targets":160},{"name":"SNS6","targets":161},{"name":"SNS7","targets":162},{"name":"socialdiversity","targets":163},{"name":"socialembedded","targets":164},{"name":"STRAQ_1","targets":165},{"name":"STRAQ_2","targets":166},{"name":"STRAQ_3","targets":167},{"name":"STRAQ_4","targets":168},{"name":"STRAQ_6","targets":169},{"name":"STRAQ_7","targets":170},{"name":"STRAQ_8","targets":171},{"name":"STRAQ_9","targets":172},{"name":"STRAQ_10","targets":173},{"name":"STRAQ_11","targets":174},{"name":"STRAQ_12","targets":175},{"name":"STRAQ_19","targets":176},{"name":"STRAQ_20","targets":177},{"name":"STRAQ_21","targets":178},{"name":"STRAQ_22","targets":179},{"name":"STRAQ_23","targets":180},{"name":"STRAQ_24","targets":181},{"name":"STRAQ_25","targets":182},{"name":"STRAQ_26","targets":183},{"name":"STRAQ_27","targets":184},{"name":"STRAQ_28","targets":185},{"name":"STRAQ_29","targets":186},{"name":"STRAQ_30","targets":187},{"name":"STRAQ_31","targets":188},{"name":"STRAQ_32","targets":189},{"name":"STRAQ_33","targets":190},{"name":"STRAQ_5","targets":191},{"name":"STRAQ_13","targets":192},{"name":"STRAQ_14","targets":193},{"name":"STRAQ_15","targets":194},{"name":"STRAQ_16","targets":195},{"name":"STRAQ_17","targets":196},{"name":"STRAQ_18","targets":197},{"name":"STRAQ_34","targets":198},{"name":"STRAQ_35","targets":199},{"name":"STRAQ_36","targets":200},{"name":"STRAQ_37","targets":201},{"name":"STRAQ_38","targets":202},{"name":"STRAQ_39","targets":203},{"name":"STRAQ_40","targets":204},{"name":"STRAQ_41","targets":205},{"name":"STRAQ_42","targets":206},{"name":"STRAQ_43","targets":207},{"name":"STRAQ_44","targets":208},{"name":"STRAQ_45","targets":209},{"name":"STRAQ_46","targets":210},{"name":"STRAQ_47","targets":211},{"name":"STRAQ_48","targets":212},{"name":"STRAQ_49","targets":213},{"name":"STRAQ_50","targets":214},{"name":"STRAQ_51","targets":215},{"name":"STRAQ_52","targets":216},{"name":"STRAQ_53","targets":217},{"name":"STRAQ_54","targets":218},{"name":"STRAQ_55","targets":219},{"name":"STRAQ_56","targets":220},{"name":"STRAQ_57","targets":221},{"name":"stress","targets":222},{"name":"stress1","targets":223},{"name":"stress2","targets":224},{"name":"stress3","targets":225},{"name":"stress4","targets":226},{"name":"stress5","targets":227},{"name":"stress6","targets":228},{"name":"stress7","targets":229},{"name":"stress8","targets":230},{"name":"stress9","targets":231},{"name":"stress10","targets":232},{"name":"stress11","targets":233},{"name":"stress12","targets":234},{"name":"stress13","targets":235},{"name":"stress14","targets":236},{"name":"Temperature_t1","targets":237},{"name":"Temperature_t2","targets":238},{"name":"thermotype","targets":239},{"name":"avgtemp","targets":240},{"name":"filter_.","targets":241},{"name":"mintemp","targets":242},{"name":"language","targets":243},{"name":"langfamily","targets":244},{"name":"Zanxiety","targets":245},{"name":"Zavoidance","targets":246},{"name":"Site","targets":247}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr::select&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;选择变量&lt;/h2&gt;


```r
# 使用select选择age和ALEX的所有题目
df.clean.select &lt;- df.pg.raw %&gt;%
  dplyr::select(age, starts_with("ALEX"), eatdrink, avoidance)
#笨一点的方法，就是把16个ALEX都写出来
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-e15342c45df63a37f566" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e15342c45df63a37f566">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[1975,1995,1995,1988,1991,1995,1996,1973,1996,1996],[1,2,4,2,2,2,1,3,2,3],[1,2,1,3,1,3,1,3,3,3],[1,2,1,4,1,1,1,2,1,1],[2,2,2,5,5,3,1,3,3,2],[2,2,4,3,2,2,4,4,2,4],[1,2,1,4,2,1,1,4,2,1],[2,2,4,2,3,1,2,4,2,2],[2,2,1,4,4,2,1,4,2,4],[4,4,1,4,1,1,4,4,2,4],[1,2,2,3,1,2,2,5,2,1],[1,2,1,2,2,1,1,3,1,4],[2,2,1,2,1,2,2,2,2,1],[4,2,2,4,2,3,4,2,2,2],[3,2,1,2,4,4,3,3,4,3],[4,3,1,4,4,5,5,4,3,5],[2,2,1,3,2,4,5,1,2,4],[1,1,1,2,1,1,1,1,1,1],[3.27777777777778,3,1.61111111111111,3.94444444444444,4.94444444444444,3.77777777777778,6.44444444444444,3.22222222222222,4,5.27777777777778]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>age<\/th>\n      <th>ALEX1<\/th>\n      <th>ALEX2<\/th>\n      <th>ALEX3<\/th>\n      <th>ALEX4<\/th>\n      <th>ALEX5<\/th>\n      <th>ALEX6<\/th>\n      <th>ALEX7<\/th>\n      <th>ALEX8<\/th>\n      <th>ALEX9<\/th>\n      <th>ALEX10<\/th>\n      <th>ALEX11<\/th>\n      <th>ALEX12<\/th>\n      <th>ALEX13<\/th>\n      <th>ALEX14<\/th>\n      <th>ALEX15<\/th>\n      <th>ALEX16<\/th>\n      <th>eatdrink<\/th>\n      <th>avoidance<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"age","targets":1},{"name":"ALEX1","targets":2},{"name":"ALEX2","targets":3},{"name":"ALEX3","targets":4},{"name":"ALEX4","targets":5},{"name":"ALEX5","targets":6},{"name":"ALEX6","targets":7},{"name":"ALEX7","targets":8},{"name":"ALEX8","targets":9},{"name":"ALEX9","targets":10},{"name":"ALEX10","targets":11},{"name":"ALEX11","targets":12},{"name":"ALEX12","targets":13},{"name":"ALEX13","targets":14},{"name":"ALEX14","targets":15},{"name":"ALEX15","targets":16},{"name":"ALEX16","targets":17},{"name":"eatdrink","targets":18},{"name":"avoidance","targets":19}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr::mutate&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;计算变量 对指定列求和&lt;/h2&gt;

```r
# 把ALEX1 - 4求和
df.clean.mutate_1 &lt;- df.pg.raw %&gt;% 
  dplyr::mutate(ALEX_SUM = ALEX1 + ALEX2 + ALEX3 + ALEX4)
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-f7d536708aeabdce6ade" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f7d536708aeabdce6ade">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[1975,1995,1995,1988,1991,1995,1996,1973,1996,1996],[1,2,4,2,2,2,1,3,2,3],[1,2,1,3,1,3,1,3,3,3],[1,2,1,4,1,1,1,2,1,1],[2,2,2,5,5,3,1,3,3,2],[2,2,4,3,2,2,4,4,2,4],[1,2,1,4,2,1,1,4,2,1],[2,2,4,2,3,1,2,4,2,2],[2,2,1,4,4,2,1,4,2,4],[4,4,1,4,1,1,4,4,2,4],[1,2,2,3,1,2,2,5,2,1],[1,2,1,2,2,1,1,3,1,4],[2,2,1,2,1,2,2,2,2,1],[4,2,2,4,2,3,4,2,2,2],[3,2,1,2,4,4,3,3,4,3],[4,3,1,4,4,5,5,4,3,5],[2,2,1,3,2,4,5,1,2,4],[3.72222222222222,4.05555555555556,1.44444444444444,4.72222222222222,2.11111111111111,2,2.55555555555556,3.05555555555556,3.55555555555556,4.38888888888889],[6,0,0,2,0,0,null,0,0,0],[3.11111111111111,4.88888888888889,1.33333333333333,3.88888888888889,4.66666666666667,3.33333333333333,3.11111111111111,3.55555555555556,3.33333333333333,3.22222222222222],[3.44444444444444,2,2,3,1.77777777777778,2.44444444444444,3.77777777777778,3.33333333333333,1.88888888888889,4.22222222222222],[89,89,89,89,89,89,89,89,89,89],[3.27777777777778,3,1.61111111111111,3.94444444444444,4.94444444444444,3.77777777777778,6.44444444444444,3.22222222222222,4,5.27777777777778],[15,null,null,null,null,null,null,10,null,1],[1.63636363636364,2.18181818181818,2,3.27272727272727,2.18181818181818,1.72727272727273,1.72727272727273,3.54545454545455,2,2.63636363636364],[1,1,1,2,1,1,1,1,1,1],[5,6,1,3,1,1,2,3,4,5],[5,4,1,6,1,1,1,2,4,6],[3,2,1,6,1,1,4,3,4,6],[5,5,1,5,1,2,1,2,4,5],[5,5,1,4,1,2,4,3,4,4],[3,2,1,4,5,1,1,3,1,3],[1,3,1,3,2,1,2,3,4,5],[6,5,1,3,1,2,7,3,4,7],[5,2,1,4,7,6,1,3,4,3],[2,3,1,4,1,2,4,1,4,3],[6,7,1,6,6,2,2,5,2,6],[3,4,1,5,1,2,1,2,4,4],[3,3,1,6,2,4,2,5,4,4],[2,3,7,5,1,1,1,4,1,2],[3,4,1,5,2,2,1,5,4,1],[3,5,3,5,1,1,2,3,4,4],[6,5,1,6,2,3,6,3,4,7],[1,5,1,5,2,2,4,2,4,4],[2,3,2,5,1,5,7,3,4,5],[2,4,2,5,7,5,1,2,4,7],[5,3,2,5,2,4,6,4,4,5],[3,2,2,4,5,4,7,3,4,5],[3,2,2,3,2,3,7,3,4,6],[2,3,1,4,4,4,7,3,4,5],[5,3,1,6,2,3,7,4,4,6],[5,4,1,3,6,3,7,4,4,7],[3,5,1,3,7,1,7,4,4,7],[2,3,1,4,6,3,6,3,4,4],[4,2,2,5,6,6,6,3,4,4],[2,2,2,3,6,5,7,2,4,5],[3,4,1,4,7,4,7,2,4,3],[3,2,2,5,2,3,7,3,4,6],[4,3,3,3,7,4,6,3,4,5],[5,3,1,2,6,5,7,4,4,6],[4,3,1,3,6,3,7,6,4,5],[2,3,2,4,7,3,7,2,4,4],["9:23:38","9:23:26","8:57:08","8:55:14","8:54:35","8:39:12","8:32:08","8:28:57","8:28:03","8:25:57"],[3,2.2,1.2,3,2.6,3.6,3.8,2.4,2.6,3],[2,2,2,2,2,2,2,2,2,2],[0,0,12,0,5,0,null,1,0,2],[4,4,4,3,4,4,4,1,3,3],[4,5,1,5,5,4,5,3,3,4],[3,5,1,4,5,4,2,3,3,5],[4,5,4,5,5,4,4,2,4,3],[3,5,1,5,5,4,5,4,5,3],[3,5,1,4,4,4,2,3,4,4],[2,4,1,2,5,2,1,4,3,2],[4,5,1,2,4,2,5,5,2,2],[3,5,1,4,4,3,1,4,3,3],[2,5,1,4,5,3,3,4,3,3],[4,1,5,5,1,3,2,3,3,4],[4,2,6,4,1,3,2,3,3,5],[5,6,5,3,3,3,2,2,2,1],[4,2,4,1,2,2,2,2,1,3],[4,3,3,2,2,2,2,2,3,2],[1,2,1,2,2,4,2,3,3,3],[2,2,1,2,1,4,2,3,1,2],[17,28,24,19,29,33,53,17,17,19],[4.33333333333333,6.5,6.83333333333333,3.5,1.5,2,5.83333333333333,6.33333333333333,5.66666666666667,5.16666666666667],[2.27272727272727,2.63636363636364,2.18181818181818,2,1.90909090909091,2.45454545454545,2.81818181818182,2.54545454545455,1.81818181818182,3.90909090909091],[2,3,3,1,3,4,4,2,2,5],[2,2,4,1,2,4,4,3,3,4],[2,3,2,2,1,2,2,3,2,5],[4,3,4,3,4,4,2,2,2,4],[2,3,1,2,1,3,3,3,2,3],[2,2,1,2,1,1,2,2,1,3],[2,2,1,2,1,2,2,4,2,4],[2,3,3,1,1,1,2,3,2,3],[3,3,3,2,2,2,4,2,1,3],[2,3,1,4,2,1,2,1,1,4],[2,2,1,2,3,3,4,3,2,5],[4,2,1,2,2,3,3,3,3,4],[4,2,4,4,1,3,4,4,2,4],[2,2,1,3,1,2,5,3,1,2],[5,2,4,2,1,3,4,3,4,4],[2,2,1,3,1,2,1,2,3,5],[2,2,1,2,3,2,3,4,1,4],[4,2,1,3,2,2,5,3,1,5],[4,2,1,4,1,3,5,4,1,5],[4,2,4,4,4,2,4,4,1,5],[2,2,1,1,2,2,2,2,2,2],[2,4,2,4,3,5,2,1,3,3],[2,4,3,2,5,5,4,4,3,4],[2,4,3,1,5,5,2,5,5,5],[1,4,2,1,3,2,2,2,5,1],[1,4,4,2,5,3,1,2,5,2],[4,3,2,1,5,4,3,3,3,1],[2,4,4,2,5,3,2,3,4,2],[2,2,1,3,4,3,2,2,5,4],[5,4,3,4,4,5,4,4,3,3],[4,3,5,3,3,5,5,3,4,2],[3,4,4,2,4,5,3,2,2,5],[5,5,4,2,4,4,1,3,4,3],[4,4,4,2,4,3,2,2,2,2],[2.84615384615385,3.76923076923077,3.15384615384615,2.23076923076923,4.15384615384615,4,2.53846153846154,2.76923076923077,3.69230769230769,2.84615384615385],[1,1,1,2,1,1,2,1,1,2],[1,2,2,2,2,2,2,1,2,1],[2,1,1,1,2,2,2,4,2,2],[1,1,1,1,1,1,1,1,1,1],[null,null,null,null,null,null,null,null,null,null],[4,4,4,4,2,4,4,4,4,4],[4,4,4,4,2,4,4,2,4,4],[5,1,4,5,5,5,5,5,5,5],[null,null,4,null,null,null,null,null,null,null],[1,8,2,1,8,2,3,8,2,6],[null,6,2,null,5,1,2,3,2,3],[6,4,5,5,7,5,8,4,3,8],[3,1,5,1,3,5,8,4,2,8],[1,1,1,1,2,1,1,1,1,1],[null,null,null,null,8,null,null,null,null,null],[1,2,2,1,1,2,2,2,2,2],[null,8,8,null,null,8,8,8,8,8],[3,3,2,3,3,1,1,1,1,1],[2,8,1,8,1,null,null,null,null,null],[6,5,6,4,8,null,null,null,null,null],[1,3,1,1,1,8,6,4,1,3],[1,1,1,1,1,1,1,2,1,1],[null,null,null,null,null,null,null,2,null,null],[1,1,1,2,1,2,2,2,2,1],[" "," "," "," "," ","Rowing Club","University Friends","ODAA","Oxford Latin Speaking Society"," "],[" "," "," "," "," ","Rugby Club","Business Social"," ","Oxford Latin Conversation Society"," "],[" "," "," "," "," "," ","Lecturers/ Advisors"," ","Plato Reading Group"," "],[" "," "," "," "," "," ","Friends from home"," "," "," "],[" "," "," "," "," "," ","Neighbors"," "," "," "],[null,null,null,null,null,7,20,1,2,null],[null,null,null,null,null,7,15,null,4,null],[null,null,null,null,null,null,5,null,1,null],[null,null,null,null,null,null,9,null,null,null],[null,null,null,null,null,null,6,null,null,null],[6,6,7,2,1,1,6,6,7,7],[5,7,7,5,2,2,7,6,7,4],[5,6,7,3,2,3,5,7,6,5],[3,7,7,4,1,2,5,6,6,5],[2,6,7,5,2,2,6,7,5,5],[5,7,6,2,1,2,6,6,3,5],[4,6,6,4,1,2,5,6,3,4],[5,7,8,5,7,6,null,7,6,6],[1,2,3,1,2,4,null,2,2,3],[4,2,4,4,1,2,2,3,3,1],[4,4,5,2,1,4,4,2,5,4],[4,3,4,3,1,4,2,3,4,4],[5,3,4,3,4,4,4,4,2,4],[2,3,4,4,4,4,5,2,2,3],[2,4,4,3,1,3,4,3,1,3],[2,5,4,3,3,4,5,4,2,2],[2,2,4,3,4,3,5,3,2,4],[4,5,5,2,1,2,4,2,4,5],[2,3,2,2,1,4,1,4,4,5],[2,2,1,2,1,2,2,2,2,1],[1,2,2,2,4,4,4,2,2,2],[4,4,4,3,4,2,2,3,2,1],[5,4,2,3,2,4,3,4,4,4],[4,4,2,3,3,1,2,4,5,3],[2,3,4,4,4,5,5,4,4,4],[2,3,5,4,4,3,2,4,2,2],[4,3,4,2,4,3,4,3,3,2],[3,3,5,2,4,4,4,4,3,3],[2,3,1,3,5,4,1,3,2,4],[4,3,4,2,4,4,5,4,3,5],[3,3,5,4,4,3,2,2,3,3],[2,3,1,3,4,3,2,3,4,3],[3,3,1,4,1,2,2,2,3,3],[4,3,5,3,1,2,5,1,4,4],[3,3,3,2,1,3,3,2,3,3],[4,3,1,4,4,4,2,4,1,1],[4,5,4,2,1,3,1,4,4,5],[3,5,4,4,1,2,1,3,5,5],[3,2,2,4,4,2,5,2,2,4],[2,4,2,5,1,2,1,3,2,4],[4,3,1,2,4,2,5,1,1,4],[4,3,2,2,3,3,1,4,3,4],[1,4,3,4,4,2,1,3,2,2],[2,4,2,3,5,4,2,5,1,4],[2,4,2,4,5,4,4,4,2,4],[4,4,4,3,4,4,2,4,2,4],[3,4,2,4,4,4,4,5,5,1],[4,2,2,3,4,4,5,2,2,4],[5,3,3,2,4,2,2,2,2,4],[4,3,2,3,3,3,2,1,2,4],[4,3,5,2,4,4,4,4,4,4],[1,4,2,3,4,2,2,3,2,3],[1,2,2,4,4,2,1,2,1,2],[4,3,2,3,1,2,1,4,4,2],[4,4,4,2,1,4,1,4,3,3],[3,3,4,3,4,2,4,3,3,4],[1,2,5,4,4,2,1,2,1,2],[2,3,5,4,4,2,1,2,1,2],[4,3,5,4,4,4,3,3,3,4],[4,4,2,5,1,3,5,2,4,5],[2,4,5,3,1,2,5,4,2,4],[2,4,4,3,4,2,1,3,2,2],[4,3,4,3,5,2,4,4,2,4],[2,4,2,2,4,3,3,2,2,4],[2,4,1,2,4,2,2,2,2,2],[1,2,5,4,1,1,4,2,2,2],[3.07692307692308,2.46153846153846,2.38461538461538,2.84615384615385,2.53846153846154,2.07692307692308,1.53846153846154,3,2.61538461538462,3.15384615384615],[4,2,3,3,3,2,1,4,5,3],[2,3,3,3,4,2,2,3,2,4],[4,3,4,4,3,3,1,3,3,5],[4,3,1,2,2,2,2,3,2,4],[4,2,2,3,2,2,2,3,2,3],[3,2,1,2,1,2,2,3,2,1],[4,2,2,3,3,2,1,4,2,3],[3,2,2,2,2,2,1,4,3,4],[3,2,3,3,2,2,2,1,2,3],[2,3,3,3,3,2,1,3,4,3],[4,2,3,4,3,2,2,2,1,2],[3,4,4,3,5,4,4,4,5,4],[2,4,2,3,2,2,2,3,3,2],[1,2,2,2,3,2,1,3,3,4],[34.9,35.8,34,36.9,35.3,34.7,36,36.5,34.7,35.9],[35.9,36,36.2,37,36.1,36.4,36.3,36.6,36.3,36.3],[2,2,2,2,4,4,2,2,2,2],[35.4,35.9,35.1,36.95,35.7,35.55,36.15,36.55,35.5,36.1],[1,1,1,1,1,1,1,1,1,1],[-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667],[5,5,5,5,5,5,5,5,5,5],[1,1,1,1,1,1,1,1,1,1],[0.186319647739787,0.472682850177291,-1.77049556891649,1.0454092550523,-1.19776916404149,-1.29322356485399,-0.815951560791479,-0.386406757135223,0.0431380465210342,0.759046052614796],[-0.00190690952064737,-0.249805147204807,-1.48929633562561,0.593048860921336,1.48548251658431,0.44430991831084,2.82413300007877,-0.0514865570574791,0.642628508458168,1.7829604018053],["Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford"],[5,8,8,14,9,9,4,11,9,9]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>age<\/th>\n      <th>ALEX1<\/th>\n      <th>ALEX2<\/th>\n      <th>ALEX3<\/th>\n      <th>ALEX4<\/th>\n      <th>ALEX5<\/th>\n      <th>ALEX6<\/th>\n      <th>ALEX7<\/th>\n      <th>ALEX8<\/th>\n      <th>ALEX9<\/th>\n      <th>ALEX10<\/th>\n      <th>ALEX11<\/th>\n      <th>ALEX12<\/th>\n      <th>ALEX13<\/th>\n      <th>ALEX14<\/th>\n      <th>ALEX15<\/th>\n      <th>ALEX16<\/th>\n      <th>anxiety<\/th>\n      <th>artgluctot<\/th>\n      <th>attachhome<\/th>\n      <th>attachphone<\/th>\n      <th>AvgHumidity<\/th>\n      <th>avoidance<\/th>\n      <th>cigs<\/th>\n      <th>DIDF<\/th>\n      <th>eatdrink<\/th>\n      <th>ECR1<\/th>\n      <th>ECR2<\/th>\n      <th>ECR3<\/th>\n      <th>ECR4<\/th>\n      <th>ECR5<\/th>\n      <th>ECR6<\/th>\n      <th>ECR7<\/th>\n      <th>ECR8<\/th>\n      <th>ECR9<\/th>\n      <th>ECR10<\/th>\n      <th>ECR11<\/th>\n      <th>ECR12<\/th>\n      <th>ECR13<\/th>\n      <th>ECR14<\/th>\n      <th>ECR15<\/th>\n      <th>ECR16<\/th>\n      <th>ECR17<\/th>\n      <th>ECR18<\/th>\n      <th>ECR19<\/th>\n      <th>ECR20<\/th>\n      <th>ECR21<\/th>\n      <th>ECR22<\/th>\n      <th>ECR23<\/th>\n      <th>ECR24<\/th>\n      <th>ECR25<\/th>\n      <th>ECR26<\/th>\n      <th>ECR27<\/th>\n      <th>ECR28<\/th>\n      <th>ECR29<\/th>\n      <th>ECR30<\/th>\n      <th>ECR31<\/th>\n      <th>ECR32<\/th>\n      <th>ECR33<\/th>\n      <th>ECR34<\/th>\n      <th>ECR35<\/th>\n      <th>ECR36<\/th>\n      <th>endtime<\/th>\n      <th>EOT<\/th>\n      <th>exercise<\/th>\n      <th>gluctot<\/th>\n      <th>health<\/th>\n      <th>HOME1<\/th>\n      <th>HOME2<\/th>\n      <th>HOME3<\/th>\n      <th>HOME4<\/th>\n      <th>HOME5<\/th>\n      <th>HOME6<\/th>\n      <th>HOME7<\/th>\n      <th>HOME8<\/th>\n      <th>HOME9<\/th>\n      <th>KAMF1<\/th>\n      <th>KAMF2<\/th>\n      <th>KAMF3<\/th>\n      <th>KAMF4<\/th>\n      <th>KAMF5<\/th>\n      <th>KAMF6<\/th>\n      <th>KAMF7<\/th>\n      <th>networksize<\/th>\n      <th>nostalgia<\/th>\n      <th>onlineid<\/th>\n      <th>onlineid1<\/th>\n      <th>onlineid2<\/th>\n      <th>onlineid3<\/th>\n      <th>onlineid4<\/th>\n      <th>onlineid5<\/th>\n      <th>onlineid6<\/th>\n      <th>onlineid7<\/th>\n      <th>onlineid8<\/th>\n      <th>onlineid9<\/th>\n      <th>onlineid10<\/th>\n      <th>onlineide11<\/th>\n      <th>phone1<\/th>\n      <th>phone2<\/th>\n      <th>phone3<\/th>\n      <th>phone4<\/th>\n      <th>phone5<\/th>\n      <th>phone6<\/th>\n      <th>phone7<\/th>\n      <th>phone8<\/th>\n      <th>phone9<\/th>\n      <th>romantic<\/th>\n      <th>scontrol1<\/th>\n      <th>scontrol2<\/th>\n      <th>scontrol3<\/th>\n      <th>scontrol4<\/th>\n      <th>scontrol5<\/th>\n      <th>scontrol6<\/th>\n      <th>scontrol7<\/th>\n      <th>scontrol8<\/th>\n      <th>scontrol9<\/th>\n      <th>scontrol10<\/th>\n      <th>scontrol11<\/th>\n      <th>scontrol12<\/th>\n      <th>scontrol13<\/th>\n      <th>selfcontrol<\/th>\n      <th>sex<\/th>\n      <th>smoke<\/th>\n      <th>SNI1<\/th>\n      <th>SNI2<\/th>\n      <th>SNI3<\/th>\n      <th>SNI4<\/th>\n      <th>SNI5<\/th>\n      <th>SNI6<\/th>\n      <th>SNI7<\/th>\n      <th>SNI8<\/th>\n      <th>SNI9<\/th>\n      <th>SNI10<\/th>\n      <th>SNI11<\/th>\n      <th>SNI12<\/th>\n      <th>SNI13<\/th>\n      <th>SNI14<\/th>\n      <th>SNI15<\/th>\n      <th>SNI16<\/th>\n      <th>SNI17<\/th>\n      <th>SNI18<\/th>\n      <th>SNI19<\/th>\n      <th>SNI20<\/th>\n      <th>SNI21<\/th>\n      <th>SNI22<\/th>\n      <th>SNI23<\/th>\n      <th>SNI24<\/th>\n      <th>SNI25<\/th>\n      <th>SNI26<\/th>\n      <th>SNI27<\/th>\n      <th>SNI28<\/th>\n      <th>SNI29<\/th>\n      <th>SNI30<\/th>\n      <th>SNI31<\/th>\n      <th>SNI32<\/th>\n      <th>SNS1<\/th>\n      <th>SNS2<\/th>\n      <th>SNS3<\/th>\n      <th>SNS4<\/th>\n      <th>SNS5<\/th>\n      <th>SNS6<\/th>\n      <th>SNS7<\/th>\n      <th>socialdiversity<\/th>\n      <th>socialembedded<\/th>\n      <th>STRAQ_1<\/th>\n      <th>STRAQ_2<\/th>\n      <th>STRAQ_3<\/th>\n      <th>STRAQ_4<\/th>\n      <th>STRAQ_6<\/th>\n      <th>STRAQ_7<\/th>\n      <th>STRAQ_8<\/th>\n      <th>STRAQ_9<\/th>\n      <th>STRAQ_10<\/th>\n      <th>STRAQ_11<\/th>\n      <th>STRAQ_12<\/th>\n      <th>STRAQ_19<\/th>\n      <th>STRAQ_20<\/th>\n      <th>STRAQ_21<\/th>\n      <th>STRAQ_22<\/th>\n      <th>STRAQ_23<\/th>\n      <th>STRAQ_24<\/th>\n      <th>STRAQ_25<\/th>\n      <th>STRAQ_26<\/th>\n      <th>STRAQ_27<\/th>\n      <th>STRAQ_28<\/th>\n      <th>STRAQ_29<\/th>\n      <th>STRAQ_30<\/th>\n      <th>STRAQ_31<\/th>\n      <th>STRAQ_32<\/th>\n      <th>STRAQ_33<\/th>\n      <th>STRAQ_5<\/th>\n      <th>STRAQ_13<\/th>\n      <th>STRAQ_14<\/th>\n      <th>STRAQ_15<\/th>\n      <th>STRAQ_16<\/th>\n      <th>STRAQ_17<\/th>\n      <th>STRAQ_18<\/th>\n      <th>STRAQ_34<\/th>\n      <th>STRAQ_35<\/th>\n      <th>STRAQ_36<\/th>\n      <th>STRAQ_37<\/th>\n      <th>STRAQ_38<\/th>\n      <th>STRAQ_39<\/th>\n      <th>STRAQ_40<\/th>\n      <th>STRAQ_41<\/th>\n      <th>STRAQ_42<\/th>\n      <th>STRAQ_43<\/th>\n      <th>STRAQ_44<\/th>\n      <th>STRAQ_45<\/th>\n      <th>STRAQ_46<\/th>\n      <th>STRAQ_47<\/th>\n      <th>STRAQ_48<\/th>\n      <th>STRAQ_49<\/th>\n      <th>STRAQ_50<\/th>\n      <th>STRAQ_51<\/th>\n      <th>STRAQ_52<\/th>\n      <th>STRAQ_53<\/th>\n      <th>STRAQ_54<\/th>\n      <th>STRAQ_55<\/th>\n      <th>STRAQ_56<\/th>\n      <th>STRAQ_57<\/th>\n      <th>stress<\/th>\n      <th>stress1<\/th>\n      <th>stress2<\/th>\n      <th>stress3<\/th>\n      <th>stress4<\/th>\n      <th>stress5<\/th>\n      <th>stress6<\/th>\n      <th>stress7<\/th>\n      <th>stress8<\/th>\n      <th>stress9<\/th>\n      <th>stress10<\/th>\n      <th>stress11<\/th>\n      <th>stress12<\/th>\n      <th>stress13<\/th>\n      <th>stress14<\/th>\n      <th>Temperature_t1<\/th>\n      <th>Temperature_t2<\/th>\n      <th>thermotype<\/th>\n      <th>avgtemp<\/th>\n      <th>filter_.<\/th>\n      <th>mintemp<\/th>\n      <th>language<\/th>\n      <th>langfamily<\/th>\n      <th>Zanxiety<\/th>\n      <th>Zavoidance<\/th>\n      <th>Site<\/th>\n      <th>ALEX_SUM<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,248]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"age","targets":1},{"name":"ALEX1","targets":2},{"name":"ALEX2","targets":3},{"name":"ALEX3","targets":4},{"name":"ALEX4","targets":5},{"name":"ALEX5","targets":6},{"name":"ALEX6","targets":7},{"name":"ALEX7","targets":8},{"name":"ALEX8","targets":9},{"name":"ALEX9","targets":10},{"name":"ALEX10","targets":11},{"name":"ALEX11","targets":12},{"name":"ALEX12","targets":13},{"name":"ALEX13","targets":14},{"name":"ALEX14","targets":15},{"name":"ALEX15","targets":16},{"name":"ALEX16","targets":17},{"name":"anxiety","targets":18},{"name":"artgluctot","targets":19},{"name":"attachhome","targets":20},{"name":"attachphone","targets":21},{"name":"AvgHumidity","targets":22},{"name":"avoidance","targets":23},{"name":"cigs","targets":24},{"name":"DIDF","targets":25},{"name":"eatdrink","targets":26},{"name":"ECR1","targets":27},{"name":"ECR2","targets":28},{"name":"ECR3","targets":29},{"name":"ECR4","targets":30},{"name":"ECR5","targets":31},{"name":"ECR6","targets":32},{"name":"ECR7","targets":33},{"name":"ECR8","targets":34},{"name":"ECR9","targets":35},{"name":"ECR10","targets":36},{"name":"ECR11","targets":37},{"name":"ECR12","targets":38},{"name":"ECR13","targets":39},{"name":"ECR14","targets":40},{"name":"ECR15","targets":41},{"name":"ECR16","targets":42},{"name":"ECR17","targets":43},{"name":"ECR18","targets":44},{"name":"ECR19","targets":45},{"name":"ECR20","targets":46},{"name":"ECR21","targets":47},{"name":"ECR22","targets":48},{"name":"ECR23","targets":49},{"name":"ECR24","targets":50},{"name":"ECR25","targets":51},{"name":"ECR26","targets":52},{"name":"ECR27","targets":53},{"name":"ECR28","targets":54},{"name":"ECR29","targets":55},{"name":"ECR30","targets":56},{"name":"ECR31","targets":57},{"name":"ECR32","targets":58},{"name":"ECR33","targets":59},{"name":"ECR34","targets":60},{"name":"ECR35","targets":61},{"name":"ECR36","targets":62},{"name":"endtime","targets":63},{"name":"EOT","targets":64},{"name":"exercise","targets":65},{"name":"gluctot","targets":66},{"name":"health","targets":67},{"name":"HOME1","targets":68},{"name":"HOME2","targets":69},{"name":"HOME3","targets":70},{"name":"HOME4","targets":71},{"name":"HOME5","targets":72},{"name":"HOME6","targets":73},{"name":"HOME7","targets":74},{"name":"HOME8","targets":75},{"name":"HOME9","targets":76},{"name":"KAMF1","targets":77},{"name":"KAMF2","targets":78},{"name":"KAMF3","targets":79},{"name":"KAMF4","targets":80},{"name":"KAMF5","targets":81},{"name":"KAMF6","targets":82},{"name":"KAMF7","targets":83},{"name":"networksize","targets":84},{"name":"nostalgia","targets":85},{"name":"onlineid","targets":86},{"name":"onlineid1","targets":87},{"name":"onlineid2","targets":88},{"name":"onlineid3","targets":89},{"name":"onlineid4","targets":90},{"name":"onlineid5","targets":91},{"name":"onlineid6","targets":92},{"name":"onlineid7","targets":93},{"name":"onlineid8","targets":94},{"name":"onlineid9","targets":95},{"name":"onlineid10","targets":96},{"name":"onlineide11","targets":97},{"name":"phone1","targets":98},{"name":"phone2","targets":99},{"name":"phone3","targets":100},{"name":"phone4","targets":101},{"name":"phone5","targets":102},{"name":"phone6","targets":103},{"name":"phone7","targets":104},{"name":"phone8","targets":105},{"name":"phone9","targets":106},{"name":"romantic","targets":107},{"name":"scontrol1","targets":108},{"name":"scontrol2","targets":109},{"name":"scontrol3","targets":110},{"name":"scontrol4","targets":111},{"name":"scontrol5","targets":112},{"name":"scontrol6","targets":113},{"name":"scontrol7","targets":114},{"name":"scontrol8","targets":115},{"name":"scontrol9","targets":116},{"name":"scontrol10","targets":117},{"name":"scontrol11","targets":118},{"name":"scontrol12","targets":119},{"name":"scontrol13","targets":120},{"name":"selfcontrol","targets":121},{"name":"sex","targets":122},{"name":"smoke","targets":123},{"name":"SNI1","targets":124},{"name":"SNI2","targets":125},{"name":"SNI3","targets":126},{"name":"SNI4","targets":127},{"name":"SNI5","targets":128},{"name":"SNI6","targets":129},{"name":"SNI7","targets":130},{"name":"SNI8","targets":131},{"name":"SNI9","targets":132},{"name":"SNI10","targets":133},{"name":"SNI11","targets":134},{"name":"SNI12","targets":135},{"name":"SNI13","targets":136},{"name":"SNI14","targets":137},{"name":"SNI15","targets":138},{"name":"SNI16","targets":139},{"name":"SNI17","targets":140},{"name":"SNI18","targets":141},{"name":"SNI19","targets":142},{"name":"SNI20","targets":143},{"name":"SNI21","targets":144},{"name":"SNI22","targets":145},{"name":"SNI23","targets":146},{"name":"SNI24","targets":147},{"name":"SNI25","targets":148},{"name":"SNI26","targets":149},{"name":"SNI27","targets":150},{"name":"SNI28","targets":151},{"name":"SNI29","targets":152},{"name":"SNI30","targets":153},{"name":"SNI31","targets":154},{"name":"SNI32","targets":155},{"name":"SNS1","targets":156},{"name":"SNS2","targets":157},{"name":"SNS3","targets":158},{"name":"SNS4","targets":159},{"name":"SNS5","targets":160},{"name":"SNS6","targets":161},{"name":"SNS7","targets":162},{"name":"socialdiversity","targets":163},{"name":"socialembedded","targets":164},{"name":"STRAQ_1","targets":165},{"name":"STRAQ_2","targets":166},{"name":"STRAQ_3","targets":167},{"name":"STRAQ_4","targets":168},{"name":"STRAQ_6","targets":169},{"name":"STRAQ_7","targets":170},{"name":"STRAQ_8","targets":171},{"name":"STRAQ_9","targets":172},{"name":"STRAQ_10","targets":173},{"name":"STRAQ_11","targets":174},{"name":"STRAQ_12","targets":175},{"name":"STRAQ_19","targets":176},{"name":"STRAQ_20","targets":177},{"name":"STRAQ_21","targets":178},{"name":"STRAQ_22","targets":179},{"name":"STRAQ_23","targets":180},{"name":"STRAQ_24","targets":181},{"name":"STRAQ_25","targets":182},{"name":"STRAQ_26","targets":183},{"name":"STRAQ_27","targets":184},{"name":"STRAQ_28","targets":185},{"name":"STRAQ_29","targets":186},{"name":"STRAQ_30","targets":187},{"name":"STRAQ_31","targets":188},{"name":"STRAQ_32","targets":189},{"name":"STRAQ_33","targets":190},{"name":"STRAQ_5","targets":191},{"name":"STRAQ_13","targets":192},{"name":"STRAQ_14","targets":193},{"name":"STRAQ_15","targets":194},{"name":"STRAQ_16","targets":195},{"name":"STRAQ_17","targets":196},{"name":"STRAQ_18","targets":197},{"name":"STRAQ_34","targets":198},{"name":"STRAQ_35","targets":199},{"name":"STRAQ_36","targets":200},{"name":"STRAQ_37","targets":201},{"name":"STRAQ_38","targets":202},{"name":"STRAQ_39","targets":203},{"name":"STRAQ_40","targets":204},{"name":"STRAQ_41","targets":205},{"name":"STRAQ_42","targets":206},{"name":"STRAQ_43","targets":207},{"name":"STRAQ_44","targets":208},{"name":"STRAQ_45","targets":209},{"name":"STRAQ_46","targets":210},{"name":"STRAQ_47","targets":211},{"name":"STRAQ_48","targets":212},{"name":"STRAQ_49","targets":213},{"name":"STRAQ_50","targets":214},{"name":"STRAQ_51","targets":215},{"name":"STRAQ_52","targets":216},{"name":"STRAQ_53","targets":217},{"name":"STRAQ_54","targets":218},{"name":"STRAQ_55","targets":219},{"name":"STRAQ_56","targets":220},{"name":"STRAQ_57","targets":221},{"name":"stress","targets":222},{"name":"stress1","targets":223},{"name":"stress2","targets":224},{"name":"stress3","targets":225},{"name":"stress4","targets":226},{"name":"stress5","targets":227},{"name":"stress6","targets":228},{"name":"stress7","targets":229},{"name":"stress8","targets":230},{"name":"stress9","targets":231},{"name":"stress10","targets":232},{"name":"stress11","targets":233},{"name":"stress12","targets":234},{"name":"stress13","targets":235},{"name":"stress14","targets":236},{"name":"Temperature_t1","targets":237},{"name":"Temperature_t2","targets":238},{"name":"thermotype","targets":239},{"name":"avgtemp","targets":240},{"name":"filter_.","targets":241},{"name":"mintemp","targets":242},{"name":"language","targets":243},{"name":"langfamily","targets":244},{"name":"Zanxiety","targets":245},{"name":"Zavoidance","targets":246},{"name":"Site","targets":247},{"name":"ALEX_SUM","targets":248}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr::mutate&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;计算变量 对含有某个字符的列求和&lt;/h2&gt;

```r
# 对所有含有ALEX的列求和
df.clean.mutate_2 &lt;- df.pg.raw %&gt;% 
  dplyr::mutate(ALEX_SUM = rowSums(select(., starts_with("ALEX"))))
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-fa5efc2dc68e67304f84" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-fa5efc2dc68e67304f84">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[1975,1995,1995,1988,1991,1995,1996,1973,1996,1996],[1,2,4,2,2,2,1,3,2,3],[1,2,1,3,1,3,1,3,3,3],[1,2,1,4,1,1,1,2,1,1],[2,2,2,5,5,3,1,3,3,2],[2,2,4,3,2,2,4,4,2,4],[1,2,1,4,2,1,1,4,2,1],[2,2,4,2,3,1,2,4,2,2],[2,2,1,4,4,2,1,4,2,4],[4,4,1,4,1,1,4,4,2,4],[1,2,2,3,1,2,2,5,2,1],[1,2,1,2,2,1,1,3,1,4],[2,2,1,2,1,2,2,2,2,1],[4,2,2,4,2,3,4,2,2,2],[3,2,1,2,4,4,3,3,4,3],[4,3,1,4,4,5,5,4,3,5],[2,2,1,3,2,4,5,1,2,4],[3.72222222222222,4.05555555555556,1.44444444444444,4.72222222222222,2.11111111111111,2,2.55555555555556,3.05555555555556,3.55555555555556,4.38888888888889],[6,0,0,2,0,0,null,0,0,0],[3.11111111111111,4.88888888888889,1.33333333333333,3.88888888888889,4.66666666666667,3.33333333333333,3.11111111111111,3.55555555555556,3.33333333333333,3.22222222222222],[3.44444444444444,2,2,3,1.77777777777778,2.44444444444444,3.77777777777778,3.33333333333333,1.88888888888889,4.22222222222222],[89,89,89,89,89,89,89,89,89,89],[3.27777777777778,3,1.61111111111111,3.94444444444444,4.94444444444444,3.77777777777778,6.44444444444444,3.22222222222222,4,5.27777777777778],[15,null,null,null,null,null,null,10,null,1],[1.63636363636364,2.18181818181818,2,3.27272727272727,2.18181818181818,1.72727272727273,1.72727272727273,3.54545454545455,2,2.63636363636364],[1,1,1,2,1,1,1,1,1,1],[5,6,1,3,1,1,2,3,4,5],[5,4,1,6,1,1,1,2,4,6],[3,2,1,6,1,1,4,3,4,6],[5,5,1,5,1,2,1,2,4,5],[5,5,1,4,1,2,4,3,4,4],[3,2,1,4,5,1,1,3,1,3],[1,3,1,3,2,1,2,3,4,5],[6,5,1,3,1,2,7,3,4,7],[5,2,1,4,7,6,1,3,4,3],[2,3,1,4,1,2,4,1,4,3],[6,7,1,6,6,2,2,5,2,6],[3,4,1,5,1,2,1,2,4,4],[3,3,1,6,2,4,2,5,4,4],[2,3,7,5,1,1,1,4,1,2],[3,4,1,5,2,2,1,5,4,1],[3,5,3,5,1,1,2,3,4,4],[6,5,1,6,2,3,6,3,4,7],[1,5,1,5,2,2,4,2,4,4],[2,3,2,5,1,5,7,3,4,5],[2,4,2,5,7,5,1,2,4,7],[5,3,2,5,2,4,6,4,4,5],[3,2,2,4,5,4,7,3,4,5],[3,2,2,3,2,3,7,3,4,6],[2,3,1,4,4,4,7,3,4,5],[5,3,1,6,2,3,7,4,4,6],[5,4,1,3,6,3,7,4,4,7],[3,5,1,3,7,1,7,4,4,7],[2,3,1,4,6,3,6,3,4,4],[4,2,2,5,6,6,6,3,4,4],[2,2,2,3,6,5,7,2,4,5],[3,4,1,4,7,4,7,2,4,3],[3,2,2,5,2,3,7,3,4,6],[4,3,3,3,7,4,6,3,4,5],[5,3,1,2,6,5,7,4,4,6],[4,3,1,3,6,3,7,6,4,5],[2,3,2,4,7,3,7,2,4,4],["9:23:38","9:23:26","8:57:08","8:55:14","8:54:35","8:39:12","8:32:08","8:28:57","8:28:03","8:25:57"],[3,2.2,1.2,3,2.6,3.6,3.8,2.4,2.6,3],[2,2,2,2,2,2,2,2,2,2],[0,0,12,0,5,0,null,1,0,2],[4,4,4,3,4,4,4,1,3,3],[4,5,1,5,5,4,5,3,3,4],[3,5,1,4,5,4,2,3,3,5],[4,5,4,5,5,4,4,2,4,3],[3,5,1,5,5,4,5,4,5,3],[3,5,1,4,4,4,2,3,4,4],[2,4,1,2,5,2,1,4,3,2],[4,5,1,2,4,2,5,5,2,2],[3,5,1,4,4,3,1,4,3,3],[2,5,1,4,5,3,3,4,3,3],[4,1,5,5,1,3,2,3,3,4],[4,2,6,4,1,3,2,3,3,5],[5,6,5,3,3,3,2,2,2,1],[4,2,4,1,2,2,2,2,1,3],[4,3,3,2,2,2,2,2,3,2],[1,2,1,2,2,4,2,3,3,3],[2,2,1,2,1,4,2,3,1,2],[17,28,24,19,29,33,53,17,17,19],[4.33333333333333,6.5,6.83333333333333,3.5,1.5,2,5.83333333333333,6.33333333333333,5.66666666666667,5.16666666666667],[2.27272727272727,2.63636363636364,2.18181818181818,2,1.90909090909091,2.45454545454545,2.81818181818182,2.54545454545455,1.81818181818182,3.90909090909091],[2,3,3,1,3,4,4,2,2,5],[2,2,4,1,2,4,4,3,3,4],[2,3,2,2,1,2,2,3,2,5],[4,3,4,3,4,4,2,2,2,4],[2,3,1,2,1,3,3,3,2,3],[2,2,1,2,1,1,2,2,1,3],[2,2,1,2,1,2,2,4,2,4],[2,3,3,1,1,1,2,3,2,3],[3,3,3,2,2,2,4,2,1,3],[2,3,1,4,2,1,2,1,1,4],[2,2,1,2,3,3,4,3,2,5],[4,2,1,2,2,3,3,3,3,4],[4,2,4,4,1,3,4,4,2,4],[2,2,1,3,1,2,5,3,1,2],[5,2,4,2,1,3,4,3,4,4],[2,2,1,3,1,2,1,2,3,5],[2,2,1,2,3,2,3,4,1,4],[4,2,1,3,2,2,5,3,1,5],[4,2,1,4,1,3,5,4,1,5],[4,2,4,4,4,2,4,4,1,5],[2,2,1,1,2,2,2,2,2,2],[2,4,2,4,3,5,2,1,3,3],[2,4,3,2,5,5,4,4,3,4],[2,4,3,1,5,5,2,5,5,5],[1,4,2,1,3,2,2,2,5,1],[1,4,4,2,5,3,1,2,5,2],[4,3,2,1,5,4,3,3,3,1],[2,4,4,2,5,3,2,3,4,2],[2,2,1,3,4,3,2,2,5,4],[5,4,3,4,4,5,4,4,3,3],[4,3,5,3,3,5,5,3,4,2],[3,4,4,2,4,5,3,2,2,5],[5,5,4,2,4,4,1,3,4,3],[4,4,4,2,4,3,2,2,2,2],[2.84615384615385,3.76923076923077,3.15384615384615,2.23076923076923,4.15384615384615,4,2.53846153846154,2.76923076923077,3.69230769230769,2.84615384615385],[1,1,1,2,1,1,2,1,1,2],[1,2,2,2,2,2,2,1,2,1],[2,1,1,1,2,2,2,4,2,2],[1,1,1,1,1,1,1,1,1,1],[null,null,null,null,null,null,null,null,null,null],[4,4,4,4,2,4,4,4,4,4],[4,4,4,4,2,4,4,2,4,4],[5,1,4,5,5,5,5,5,5,5],[null,null,4,null,null,null,null,null,null,null],[1,8,2,1,8,2,3,8,2,6],[null,6,2,null,5,1,2,3,2,3],[6,4,5,5,7,5,8,4,3,8],[3,1,5,1,3,5,8,4,2,8],[1,1,1,1,2,1,1,1,1,1],[null,null,null,null,8,null,null,null,null,null],[1,2,2,1,1,2,2,2,2,2],[null,8,8,null,null,8,8,8,8,8],[3,3,2,3,3,1,1,1,1,1],[2,8,1,8,1,null,null,null,null,null],[6,5,6,4,8,null,null,null,null,null],[1,3,1,1,1,8,6,4,1,3],[1,1,1,1,1,1,1,2,1,1],[null,null,null,null,null,null,null,2,null,null],[1,1,1,2,1,2,2,2,2,1],[" "," "," "," "," ","Rowing Club","University Friends","ODAA","Oxford Latin Speaking Society"," "],[" "," "," "," "," ","Rugby Club","Business Social"," ","Oxford Latin Conversation Society"," "],[" "," "," "," "," "," ","Lecturers/ Advisors"," ","Plato Reading Group"," "],[" "," "," "," "," "," ","Friends from home"," "," "," "],[" "," "," "," "," "," ","Neighbors"," "," "," "],[null,null,null,null,null,7,20,1,2,null],[null,null,null,null,null,7,15,null,4,null],[null,null,null,null,null,null,5,null,1,null],[null,null,null,null,null,null,9,null,null,null],[null,null,null,null,null,null,6,null,null,null],[6,6,7,2,1,1,6,6,7,7],[5,7,7,5,2,2,7,6,7,4],[5,6,7,3,2,3,5,7,6,5],[3,7,7,4,1,2,5,6,6,5],[2,6,7,5,2,2,6,7,5,5],[5,7,6,2,1,2,6,6,3,5],[4,6,6,4,1,2,5,6,3,4],[5,7,8,5,7,6,null,7,6,6],[1,2,3,1,2,4,null,2,2,3],[4,2,4,4,1,2,2,3,3,1],[4,4,5,2,1,4,4,2,5,4],[4,3,4,3,1,4,2,3,4,4],[5,3,4,3,4,4,4,4,2,4],[2,3,4,4,4,4,5,2,2,3],[2,4,4,3,1,3,4,3,1,3],[2,5,4,3,3,4,5,4,2,2],[2,2,4,3,4,3,5,3,2,4],[4,5,5,2,1,2,4,2,4,5],[2,3,2,2,1,4,1,4,4,5],[2,2,1,2,1,2,2,2,2,1],[1,2,2,2,4,4,4,2,2,2],[4,4,4,3,4,2,2,3,2,1],[5,4,2,3,2,4,3,4,4,4],[4,4,2,3,3,1,2,4,5,3],[2,3,4,4,4,5,5,4,4,4],[2,3,5,4,4,3,2,4,2,2],[4,3,4,2,4,3,4,3,3,2],[3,3,5,2,4,4,4,4,3,3],[2,3,1,3,5,4,1,3,2,4],[4,3,4,2,4,4,5,4,3,5],[3,3,5,4,4,3,2,2,3,3],[2,3,1,3,4,3,2,3,4,3],[3,3,1,4,1,2,2,2,3,3],[4,3,5,3,1,2,5,1,4,4],[3,3,3,2,1,3,3,2,3,3],[4,3,1,4,4,4,2,4,1,1],[4,5,4,2,1,3,1,4,4,5],[3,5,4,4,1,2,1,3,5,5],[3,2,2,4,4,2,5,2,2,4],[2,4,2,5,1,2,1,3,2,4],[4,3,1,2,4,2,5,1,1,4],[4,3,2,2,3,3,1,4,3,4],[1,4,3,4,4,2,1,3,2,2],[2,4,2,3,5,4,2,5,1,4],[2,4,2,4,5,4,4,4,2,4],[4,4,4,3,4,4,2,4,2,4],[3,4,2,4,4,4,4,5,5,1],[4,2,2,3,4,4,5,2,2,4],[5,3,3,2,4,2,2,2,2,4],[4,3,2,3,3,3,2,1,2,4],[4,3,5,2,4,4,4,4,4,4],[1,4,2,3,4,2,2,3,2,3],[1,2,2,4,4,2,1,2,1,2],[4,3,2,3,1,2,1,4,4,2],[4,4,4,2,1,4,1,4,3,3],[3,3,4,3,4,2,4,3,3,4],[1,2,5,4,4,2,1,2,1,2],[2,3,5,4,4,2,1,2,1,2],[4,3,5,4,4,4,3,3,3,4],[4,4,2,5,1,3,5,2,4,5],[2,4,5,3,1,2,5,4,2,4],[2,4,4,3,4,2,1,3,2,2],[4,3,4,3,5,2,4,4,2,4],[2,4,2,2,4,3,3,2,2,4],[2,4,1,2,4,2,2,2,2,2],[1,2,5,4,1,1,4,2,2,2],[3.07692307692308,2.46153846153846,2.38461538461538,2.84615384615385,2.53846153846154,2.07692307692308,1.53846153846154,3,2.61538461538462,3.15384615384615],[4,2,3,3,3,2,1,4,5,3],[2,3,3,3,4,2,2,3,2,4],[4,3,4,4,3,3,1,3,3,5],[4,3,1,2,2,2,2,3,2,4],[4,2,2,3,2,2,2,3,2,3],[3,2,1,2,1,2,2,3,2,1],[4,2,2,3,3,2,1,4,2,3],[3,2,2,2,2,2,1,4,3,4],[3,2,3,3,2,2,2,1,2,3],[2,3,3,3,3,2,1,3,4,3],[4,2,3,4,3,2,2,2,1,2],[3,4,4,3,5,4,4,4,5,4],[2,4,2,3,2,2,2,3,3,2],[1,2,2,2,3,2,1,3,3,4],[34.9,35.8,34,36.9,35.3,34.7,36,36.5,34.7,35.9],[35.9,36,36.2,37,36.1,36.4,36.3,36.6,36.3,36.3],[2,2,2,2,4,4,2,2,2,2],[35.4,35.9,35.1,36.95,35.7,35.55,36.15,36.55,35.5,36.1],[1,1,1,1,1,1,1,1,1,1],[-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667],[5,5,5,5,5,5,5,5,5,5],[1,1,1,1,1,1,1,1,1,1],[0.186319647739787,0.472682850177291,-1.77049556891649,1.0454092550523,-1.19776916404149,-1.29322356485399,-0.815951560791479,-0.386406757135223,0.0431380465210342,0.759046052614796],[-0.00190690952064737,-0.249805147204807,-1.48929633562561,0.593048860921336,1.48548251658431,0.44430991831084,2.82413300007877,-0.0514865570574791,0.642628508458168,1.7829604018053],["Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford"],[33,35,28,51,37,37,38,51,35,44]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>age<\/th>\n      <th>ALEX1<\/th>\n      <th>ALEX2<\/th>\n      <th>ALEX3<\/th>\n      <th>ALEX4<\/th>\n      <th>ALEX5<\/th>\n      <th>ALEX6<\/th>\n      <th>ALEX7<\/th>\n      <th>ALEX8<\/th>\n      <th>ALEX9<\/th>\n      <th>ALEX10<\/th>\n      <th>ALEX11<\/th>\n      <th>ALEX12<\/th>\n      <th>ALEX13<\/th>\n      <th>ALEX14<\/th>\n      <th>ALEX15<\/th>\n      <th>ALEX16<\/th>\n      <th>anxiety<\/th>\n      <th>artgluctot<\/th>\n      <th>attachhome<\/th>\n      <th>attachphone<\/th>\n      <th>AvgHumidity<\/th>\n      <th>avoidance<\/th>\n      <th>cigs<\/th>\n      <th>DIDF<\/th>\n      <th>eatdrink<\/th>\n      <th>ECR1<\/th>\n      <th>ECR2<\/th>\n      <th>ECR3<\/th>\n      <th>ECR4<\/th>\n      <th>ECR5<\/th>\n      <th>ECR6<\/th>\n      <th>ECR7<\/th>\n      <th>ECR8<\/th>\n      <th>ECR9<\/th>\n      <th>ECR10<\/th>\n      <th>ECR11<\/th>\n      <th>ECR12<\/th>\n      <th>ECR13<\/th>\n      <th>ECR14<\/th>\n      <th>ECR15<\/th>\n      <th>ECR16<\/th>\n      <th>ECR17<\/th>\n      <th>ECR18<\/th>\n      <th>ECR19<\/th>\n      <th>ECR20<\/th>\n      <th>ECR21<\/th>\n      <th>ECR22<\/th>\n      <th>ECR23<\/th>\n      <th>ECR24<\/th>\n      <th>ECR25<\/th>\n      <th>ECR26<\/th>\n      <th>ECR27<\/th>\n      <th>ECR28<\/th>\n      <th>ECR29<\/th>\n      <th>ECR30<\/th>\n      <th>ECR31<\/th>\n      <th>ECR32<\/th>\n      <th>ECR33<\/th>\n      <th>ECR34<\/th>\n      <th>ECR35<\/th>\n      <th>ECR36<\/th>\n      <th>endtime<\/th>\n      <th>EOT<\/th>\n      <th>exercise<\/th>\n      <th>gluctot<\/th>\n      <th>health<\/th>\n      <th>HOME1<\/th>\n      <th>HOME2<\/th>\n      <th>HOME3<\/th>\n      <th>HOME4<\/th>\n      <th>HOME5<\/th>\n      <th>HOME6<\/th>\n      <th>HOME7<\/th>\n      <th>HOME8<\/th>\n      <th>HOME9<\/th>\n      <th>KAMF1<\/th>\n      <th>KAMF2<\/th>\n      <th>KAMF3<\/th>\n      <th>KAMF4<\/th>\n      <th>KAMF5<\/th>\n      <th>KAMF6<\/th>\n      <th>KAMF7<\/th>\n      <th>networksize<\/th>\n      <th>nostalgia<\/th>\n      <th>onlineid<\/th>\n      <th>onlineid1<\/th>\n      <th>onlineid2<\/th>\n      <th>onlineid3<\/th>\n      <th>onlineid4<\/th>\n      <th>onlineid5<\/th>\n      <th>onlineid6<\/th>\n      <th>onlineid7<\/th>\n      <th>onlineid8<\/th>\n      <th>onlineid9<\/th>\n      <th>onlineid10<\/th>\n      <th>onlineide11<\/th>\n      <th>phone1<\/th>\n      <th>phone2<\/th>\n      <th>phone3<\/th>\n      <th>phone4<\/th>\n      <th>phone5<\/th>\n      <th>phone6<\/th>\n      <th>phone7<\/th>\n      <th>phone8<\/th>\n      <th>phone9<\/th>\n      <th>romantic<\/th>\n      <th>scontrol1<\/th>\n      <th>scontrol2<\/th>\n      <th>scontrol3<\/th>\n      <th>scontrol4<\/th>\n      <th>scontrol5<\/th>\n      <th>scontrol6<\/th>\n      <th>scontrol7<\/th>\n      <th>scontrol8<\/th>\n      <th>scontrol9<\/th>\n      <th>scontrol10<\/th>\n      <th>scontrol11<\/th>\n      <th>scontrol12<\/th>\n      <th>scontrol13<\/th>\n      <th>selfcontrol<\/th>\n      <th>sex<\/th>\n      <th>smoke<\/th>\n      <th>SNI1<\/th>\n      <th>SNI2<\/th>\n      <th>SNI3<\/th>\n      <th>SNI4<\/th>\n      <th>SNI5<\/th>\n      <th>SNI6<\/th>\n      <th>SNI7<\/th>\n      <th>SNI8<\/th>\n      <th>SNI9<\/th>\n      <th>SNI10<\/th>\n      <th>SNI11<\/th>\n      <th>SNI12<\/th>\n      <th>SNI13<\/th>\n      <th>SNI14<\/th>\n      <th>SNI15<\/th>\n      <th>SNI16<\/th>\n      <th>SNI17<\/th>\n      <th>SNI18<\/th>\n      <th>SNI19<\/th>\n      <th>SNI20<\/th>\n      <th>SNI21<\/th>\n      <th>SNI22<\/th>\n      <th>SNI23<\/th>\n      <th>SNI24<\/th>\n      <th>SNI25<\/th>\n      <th>SNI26<\/th>\n      <th>SNI27<\/th>\n      <th>SNI28<\/th>\n      <th>SNI29<\/th>\n      <th>SNI30<\/th>\n      <th>SNI31<\/th>\n      <th>SNI32<\/th>\n      <th>SNS1<\/th>\n      <th>SNS2<\/th>\n      <th>SNS3<\/th>\n      <th>SNS4<\/th>\n      <th>SNS5<\/th>\n      <th>SNS6<\/th>\n      <th>SNS7<\/th>\n      <th>socialdiversity<\/th>\n      <th>socialembedded<\/th>\n      <th>STRAQ_1<\/th>\n      <th>STRAQ_2<\/th>\n      <th>STRAQ_3<\/th>\n      <th>STRAQ_4<\/th>\n      <th>STRAQ_6<\/th>\n      <th>STRAQ_7<\/th>\n      <th>STRAQ_8<\/th>\n      <th>STRAQ_9<\/th>\n      <th>STRAQ_10<\/th>\n      <th>STRAQ_11<\/th>\n      <th>STRAQ_12<\/th>\n      <th>STRAQ_19<\/th>\n      <th>STRAQ_20<\/th>\n      <th>STRAQ_21<\/th>\n      <th>STRAQ_22<\/th>\n      <th>STRAQ_23<\/th>\n      <th>STRAQ_24<\/th>\n      <th>STRAQ_25<\/th>\n      <th>STRAQ_26<\/th>\n      <th>STRAQ_27<\/th>\n      <th>STRAQ_28<\/th>\n      <th>STRAQ_29<\/th>\n      <th>STRAQ_30<\/th>\n      <th>STRAQ_31<\/th>\n      <th>STRAQ_32<\/th>\n      <th>STRAQ_33<\/th>\n      <th>STRAQ_5<\/th>\n      <th>STRAQ_13<\/th>\n      <th>STRAQ_14<\/th>\n      <th>STRAQ_15<\/th>\n      <th>STRAQ_16<\/th>\n      <th>STRAQ_17<\/th>\n      <th>STRAQ_18<\/th>\n      <th>STRAQ_34<\/th>\n      <th>STRAQ_35<\/th>\n      <th>STRAQ_36<\/th>\n      <th>STRAQ_37<\/th>\n      <th>STRAQ_38<\/th>\n      <th>STRAQ_39<\/th>\n      <th>STRAQ_40<\/th>\n      <th>STRAQ_41<\/th>\n      <th>STRAQ_42<\/th>\n      <th>STRAQ_43<\/th>\n      <th>STRAQ_44<\/th>\n      <th>STRAQ_45<\/th>\n      <th>STRAQ_46<\/th>\n      <th>STRAQ_47<\/th>\n      <th>STRAQ_48<\/th>\n      <th>STRAQ_49<\/th>\n      <th>STRAQ_50<\/th>\n      <th>STRAQ_51<\/th>\n      <th>STRAQ_52<\/th>\n      <th>STRAQ_53<\/th>\n      <th>STRAQ_54<\/th>\n      <th>STRAQ_55<\/th>\n      <th>STRAQ_56<\/th>\n      <th>STRAQ_57<\/th>\n      <th>stress<\/th>\n      <th>stress1<\/th>\n      <th>stress2<\/th>\n      <th>stress3<\/th>\n      <th>stress4<\/th>\n      <th>stress5<\/th>\n      <th>stress6<\/th>\n      <th>stress7<\/th>\n      <th>stress8<\/th>\n      <th>stress9<\/th>\n      <th>stress10<\/th>\n      <th>stress11<\/th>\n      <th>stress12<\/th>\n      <th>stress13<\/th>\n      <th>stress14<\/th>\n      <th>Temperature_t1<\/th>\n      <th>Temperature_t2<\/th>\n      <th>thermotype<\/th>\n      <th>avgtemp<\/th>\n      <th>filter_.<\/th>\n      <th>mintemp<\/th>\n      <th>language<\/th>\n      <th>langfamily<\/th>\n      <th>Zanxiety<\/th>\n      <th>Zavoidance<\/th>\n      <th>Site<\/th>\n      <th>ALEX_SUM<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,248]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"age","targets":1},{"name":"ALEX1","targets":2},{"name":"ALEX2","targets":3},{"name":"ALEX3","targets":4},{"name":"ALEX4","targets":5},{"name":"ALEX5","targets":6},{"name":"ALEX6","targets":7},{"name":"ALEX7","targets":8},{"name":"ALEX8","targets":9},{"name":"ALEX9","targets":10},{"name":"ALEX10","targets":11},{"name":"ALEX11","targets":12},{"name":"ALEX12","targets":13},{"name":"ALEX13","targets":14},{"name":"ALEX14","targets":15},{"name":"ALEX15","targets":16},{"name":"ALEX16","targets":17},{"name":"anxiety","targets":18},{"name":"artgluctot","targets":19},{"name":"attachhome","targets":20},{"name":"attachphone","targets":21},{"name":"AvgHumidity","targets":22},{"name":"avoidance","targets":23},{"name":"cigs","targets":24},{"name":"DIDF","targets":25},{"name":"eatdrink","targets":26},{"name":"ECR1","targets":27},{"name":"ECR2","targets":28},{"name":"ECR3","targets":29},{"name":"ECR4","targets":30},{"name":"ECR5","targets":31},{"name":"ECR6","targets":32},{"name":"ECR7","targets":33},{"name":"ECR8","targets":34},{"name":"ECR9","targets":35},{"name":"ECR10","targets":36},{"name":"ECR11","targets":37},{"name":"ECR12","targets":38},{"name":"ECR13","targets":39},{"name":"ECR14","targets":40},{"name":"ECR15","targets":41},{"name":"ECR16","targets":42},{"name":"ECR17","targets":43},{"name":"ECR18","targets":44},{"name":"ECR19","targets":45},{"name":"ECR20","targets":46},{"name":"ECR21","targets":47},{"name":"ECR22","targets":48},{"name":"ECR23","targets":49},{"name":"ECR24","targets":50},{"name":"ECR25","targets":51},{"name":"ECR26","targets":52},{"name":"ECR27","targets":53},{"name":"ECR28","targets":54},{"name":"ECR29","targets":55},{"name":"ECR30","targets":56},{"name":"ECR31","targets":57},{"name":"ECR32","targets":58},{"name":"ECR33","targets":59},{"name":"ECR34","targets":60},{"name":"ECR35","targets":61},{"name":"ECR36","targets":62},{"name":"endtime","targets":63},{"name":"EOT","targets":64},{"name":"exercise","targets":65},{"name":"gluctot","targets":66},{"name":"health","targets":67},{"name":"HOME1","targets":68},{"name":"HOME2","targets":69},{"name":"HOME3","targets":70},{"name":"HOME4","targets":71},{"name":"HOME5","targets":72},{"name":"HOME6","targets":73},{"name":"HOME7","targets":74},{"name":"HOME8","targets":75},{"name":"HOME9","targets":76},{"name":"KAMF1","targets":77},{"name":"KAMF2","targets":78},{"name":"KAMF3","targets":79},{"name":"KAMF4","targets":80},{"name":"KAMF5","targets":81},{"name":"KAMF6","targets":82},{"name":"KAMF7","targets":83},{"name":"networksize","targets":84},{"name":"nostalgia","targets":85},{"name":"onlineid","targets":86},{"name":"onlineid1","targets":87},{"name":"onlineid2","targets":88},{"name":"onlineid3","targets":89},{"name":"onlineid4","targets":90},{"name":"onlineid5","targets":91},{"name":"onlineid6","targets":92},{"name":"onlineid7","targets":93},{"name":"onlineid8","targets":94},{"name":"onlineid9","targets":95},{"name":"onlineid10","targets":96},{"name":"onlineide11","targets":97},{"name":"phone1","targets":98},{"name":"phone2","targets":99},{"name":"phone3","targets":100},{"name":"phone4","targets":101},{"name":"phone5","targets":102},{"name":"phone6","targets":103},{"name":"phone7","targets":104},{"name":"phone8","targets":105},{"name":"phone9","targets":106},{"name":"romantic","targets":107},{"name":"scontrol1","targets":108},{"name":"scontrol2","targets":109},{"name":"scontrol3","targets":110},{"name":"scontrol4","targets":111},{"name":"scontrol5","targets":112},{"name":"scontrol6","targets":113},{"name":"scontrol7","targets":114},{"name":"scontrol8","targets":115},{"name":"scontrol9","targets":116},{"name":"scontrol10","targets":117},{"name":"scontrol11","targets":118},{"name":"scontrol12","targets":119},{"name":"scontrol13","targets":120},{"name":"selfcontrol","targets":121},{"name":"sex","targets":122},{"name":"smoke","targets":123},{"name":"SNI1","targets":124},{"name":"SNI2","targets":125},{"name":"SNI3","targets":126},{"name":"SNI4","targets":127},{"name":"SNI5","targets":128},{"name":"SNI6","targets":129},{"name":"SNI7","targets":130},{"name":"SNI8","targets":131},{"name":"SNI9","targets":132},{"name":"SNI10","targets":133},{"name":"SNI11","targets":134},{"name":"SNI12","targets":135},{"name":"SNI13","targets":136},{"name":"SNI14","targets":137},{"name":"SNI15","targets":138},{"name":"SNI16","targets":139},{"name":"SNI17","targets":140},{"name":"SNI18","targets":141},{"name":"SNI19","targets":142},{"name":"SNI20","targets":143},{"name":"SNI21","targets":144},{"name":"SNI22","targets":145},{"name":"SNI23","targets":146},{"name":"SNI24","targets":147},{"name":"SNI25","targets":148},{"name":"SNI26","targets":149},{"name":"SNI27","targets":150},{"name":"SNI28","targets":151},{"name":"SNI29","targets":152},{"name":"SNI30","targets":153},{"name":"SNI31","targets":154},{"name":"SNI32","targets":155},{"name":"SNS1","targets":156},{"name":"SNS2","targets":157},{"name":"SNS3","targets":158},{"name":"SNS4","targets":159},{"name":"SNS5","targets":160},{"name":"SNS6","targets":161},{"name":"SNS7","targets":162},{"name":"socialdiversity","targets":163},{"name":"socialembedded","targets":164},{"name":"STRAQ_1","targets":165},{"name":"STRAQ_2","targets":166},{"name":"STRAQ_3","targets":167},{"name":"STRAQ_4","targets":168},{"name":"STRAQ_6","targets":169},{"name":"STRAQ_7","targets":170},{"name":"STRAQ_8","targets":171},{"name":"STRAQ_9","targets":172},{"name":"STRAQ_10","targets":173},{"name":"STRAQ_11","targets":174},{"name":"STRAQ_12","targets":175},{"name":"STRAQ_19","targets":176},{"name":"STRAQ_20","targets":177},{"name":"STRAQ_21","targets":178},{"name":"STRAQ_22","targets":179},{"name":"STRAQ_23","targets":180},{"name":"STRAQ_24","targets":181},{"name":"STRAQ_25","targets":182},{"name":"STRAQ_26","targets":183},{"name":"STRAQ_27","targets":184},{"name":"STRAQ_28","targets":185},{"name":"STRAQ_29","targets":186},{"name":"STRAQ_30","targets":187},{"name":"STRAQ_31","targets":188},{"name":"STRAQ_32","targets":189},{"name":"STRAQ_33","targets":190},{"name":"STRAQ_5","targets":191},{"name":"STRAQ_13","targets":192},{"name":"STRAQ_14","targets":193},{"name":"STRAQ_15","targets":194},{"name":"STRAQ_16","targets":195},{"name":"STRAQ_17","targets":196},{"name":"STRAQ_18","targets":197},{"name":"STRAQ_34","targets":198},{"name":"STRAQ_35","targets":199},{"name":"STRAQ_36","targets":200},{"name":"STRAQ_37","targets":201},{"name":"STRAQ_38","targets":202},{"name":"STRAQ_39","targets":203},{"name":"STRAQ_40","targets":204},{"name":"STRAQ_41","targets":205},{"name":"STRAQ_42","targets":206},{"name":"STRAQ_43","targets":207},{"name":"STRAQ_44","targets":208},{"name":"STRAQ_45","targets":209},{"name":"STRAQ_46","targets":210},{"name":"STRAQ_47","targets":211},{"name":"STRAQ_48","targets":212},{"name":"STRAQ_49","targets":213},{"name":"STRAQ_50","targets":214},{"name":"STRAQ_51","targets":215},{"name":"STRAQ_52","targets":216},{"name":"STRAQ_53","targets":217},{"name":"STRAQ_54","targets":218},{"name":"STRAQ_55","targets":219},{"name":"STRAQ_56","targets":220},{"name":"STRAQ_57","targets":221},{"name":"stress","targets":222},{"name":"stress1","targets":223},{"name":"stress2","targets":224},{"name":"stress3","targets":225},{"name":"stress4","targets":226},{"name":"stress5","targets":227},{"name":"stress6","targets":228},{"name":"stress7","targets":229},{"name":"stress8","targets":230},{"name":"stress9","targets":231},{"name":"stress10","targets":232},{"name":"stress11","targets":233},{"name":"stress12","targets":234},{"name":"stress13","targets":235},{"name":"stress14","targets":236},{"name":"Temperature_t1","targets":237},{"name":"Temperature_t2","targets":238},{"name":"thermotype","targets":239},{"name":"avgtemp","targets":240},{"name":"filter_.","targets":241},{"name":"mintemp","targets":242},{"name":"language","targets":243},{"name":"langfamily","targets":244},{"name":"Zanxiety","targets":245},{"name":"Zavoidance","targets":246},{"name":"Site","targets":247},{"name":"ALEX_SUM","targets":248}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>



---
# &lt;h1 lang="en"&gt;dplyr::mutate&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;重新编码为不同变量&lt;/h2&gt;


```r
df.clean.mutate_3 &lt;- df.pg.raw %&gt;% 
  dplyr::mutate(decade = case_when(age &lt;= 1969 ~ 60,
                                   age &gt;= 1970 &amp; age &lt;= 1979 ~ 70,
                                   age &gt;= 1980 &amp; age &lt;= 1989 ~ 80,
                                   age &gt;= 1990 &amp; age &lt;= 1999 ~ 90,
                                   TRUE ~ NA_real_)
                ) %&gt;% #当括号多的时候注意括号的位置 
  dplyr::select(.,decade, everything())
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-ab7396a8c17424d67d5a" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ab7396a8c17424d67d5a">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[70,90,90,80,90,90,90,70,90,90],[1975,1995,1995,1988,1991,1995,1996,1973,1996,1996],[1,2,4,2,2,2,1,3,2,3],[1,2,1,3,1,3,1,3,3,3],[1,2,1,4,1,1,1,2,1,1],[2,2,2,5,5,3,1,3,3,2],[2,2,4,3,2,2,4,4,2,4],[1,2,1,4,2,1,1,4,2,1],[2,2,4,2,3,1,2,4,2,2],[2,2,1,4,4,2,1,4,2,4],[4,4,1,4,1,1,4,4,2,4],[1,2,2,3,1,2,2,5,2,1],[1,2,1,2,2,1,1,3,1,4],[2,2,1,2,1,2,2,2,2,1],[4,2,2,4,2,3,4,2,2,2],[3,2,1,2,4,4,3,3,4,3],[4,3,1,4,4,5,5,4,3,5],[2,2,1,3,2,4,5,1,2,4],[3.72222222222222,4.05555555555556,1.44444444444444,4.72222222222222,2.11111111111111,2,2.55555555555556,3.05555555555556,3.55555555555556,4.38888888888889],[6,0,0,2,0,0,null,0,0,0],[3.11111111111111,4.88888888888889,1.33333333333333,3.88888888888889,4.66666666666667,3.33333333333333,3.11111111111111,3.55555555555556,3.33333333333333,3.22222222222222],[3.44444444444444,2,2,3,1.77777777777778,2.44444444444444,3.77777777777778,3.33333333333333,1.88888888888889,4.22222222222222],[89,89,89,89,89,89,89,89,89,89],[3.27777777777778,3,1.61111111111111,3.94444444444444,4.94444444444444,3.77777777777778,6.44444444444444,3.22222222222222,4,5.27777777777778],[15,null,null,null,null,null,null,10,null,1],[1.63636363636364,2.18181818181818,2,3.27272727272727,2.18181818181818,1.72727272727273,1.72727272727273,3.54545454545455,2,2.63636363636364],[1,1,1,2,1,1,1,1,1,1],[5,6,1,3,1,1,2,3,4,5],[5,4,1,6,1,1,1,2,4,6],[3,2,1,6,1,1,4,3,4,6],[5,5,1,5,1,2,1,2,4,5],[5,5,1,4,1,2,4,3,4,4],[3,2,1,4,5,1,1,3,1,3],[1,3,1,3,2,1,2,3,4,5],[6,5,1,3,1,2,7,3,4,7],[5,2,1,4,7,6,1,3,4,3],[2,3,1,4,1,2,4,1,4,3],[6,7,1,6,6,2,2,5,2,6],[3,4,1,5,1,2,1,2,4,4],[3,3,1,6,2,4,2,5,4,4],[2,3,7,5,1,1,1,4,1,2],[3,4,1,5,2,2,1,5,4,1],[3,5,3,5,1,1,2,3,4,4],[6,5,1,6,2,3,6,3,4,7],[1,5,1,5,2,2,4,2,4,4],[2,3,2,5,1,5,7,3,4,5],[2,4,2,5,7,5,1,2,4,7],[5,3,2,5,2,4,6,4,4,5],[3,2,2,4,5,4,7,3,4,5],[3,2,2,3,2,3,7,3,4,6],[2,3,1,4,4,4,7,3,4,5],[5,3,1,6,2,3,7,4,4,6],[5,4,1,3,6,3,7,4,4,7],[3,5,1,3,7,1,7,4,4,7],[2,3,1,4,6,3,6,3,4,4],[4,2,2,5,6,6,6,3,4,4],[2,2,2,3,6,5,7,2,4,5],[3,4,1,4,7,4,7,2,4,3],[3,2,2,5,2,3,7,3,4,6],[4,3,3,3,7,4,6,3,4,5],[5,3,1,2,6,5,7,4,4,6],[4,3,1,3,6,3,7,6,4,5],[2,3,2,4,7,3,7,2,4,4],["9:23:38","9:23:26","8:57:08","8:55:14","8:54:35","8:39:12","8:32:08","8:28:57","8:28:03","8:25:57"],[3,2.2,1.2,3,2.6,3.6,3.8,2.4,2.6,3],[2,2,2,2,2,2,2,2,2,2],[0,0,12,0,5,0,null,1,0,2],[4,4,4,3,4,4,4,1,3,3],[4,5,1,5,5,4,5,3,3,4],[3,5,1,4,5,4,2,3,3,5],[4,5,4,5,5,4,4,2,4,3],[3,5,1,5,5,4,5,4,5,3],[3,5,1,4,4,4,2,3,4,4],[2,4,1,2,5,2,1,4,3,2],[4,5,1,2,4,2,5,5,2,2],[3,5,1,4,4,3,1,4,3,3],[2,5,1,4,5,3,3,4,3,3],[4,1,5,5,1,3,2,3,3,4],[4,2,6,4,1,3,2,3,3,5],[5,6,5,3,3,3,2,2,2,1],[4,2,4,1,2,2,2,2,1,3],[4,3,3,2,2,2,2,2,3,2],[1,2,1,2,2,4,2,3,3,3],[2,2,1,2,1,4,2,3,1,2],[17,28,24,19,29,33,53,17,17,19],[4.33333333333333,6.5,6.83333333333333,3.5,1.5,2,5.83333333333333,6.33333333333333,5.66666666666667,5.16666666666667],[2.27272727272727,2.63636363636364,2.18181818181818,2,1.90909090909091,2.45454545454545,2.81818181818182,2.54545454545455,1.81818181818182,3.90909090909091],[2,3,3,1,3,4,4,2,2,5],[2,2,4,1,2,4,4,3,3,4],[2,3,2,2,1,2,2,3,2,5],[4,3,4,3,4,4,2,2,2,4],[2,3,1,2,1,3,3,3,2,3],[2,2,1,2,1,1,2,2,1,3],[2,2,1,2,1,2,2,4,2,4],[2,3,3,1,1,1,2,3,2,3],[3,3,3,2,2,2,4,2,1,3],[2,3,1,4,2,1,2,1,1,4],[2,2,1,2,3,3,4,3,2,5],[4,2,1,2,2,3,3,3,3,4],[4,2,4,4,1,3,4,4,2,4],[2,2,1,3,1,2,5,3,1,2],[5,2,4,2,1,3,4,3,4,4],[2,2,1,3,1,2,1,2,3,5],[2,2,1,2,3,2,3,4,1,4],[4,2,1,3,2,2,5,3,1,5],[4,2,1,4,1,3,5,4,1,5],[4,2,4,4,4,2,4,4,1,5],[2,2,1,1,2,2,2,2,2,2],[2,4,2,4,3,5,2,1,3,3],[2,4,3,2,5,5,4,4,3,4],[2,4,3,1,5,5,2,5,5,5],[1,4,2,1,3,2,2,2,5,1],[1,4,4,2,5,3,1,2,5,2],[4,3,2,1,5,4,3,3,3,1],[2,4,4,2,5,3,2,3,4,2],[2,2,1,3,4,3,2,2,5,4],[5,4,3,4,4,5,4,4,3,3],[4,3,5,3,3,5,5,3,4,2],[3,4,4,2,4,5,3,2,2,5],[5,5,4,2,4,4,1,3,4,3],[4,4,4,2,4,3,2,2,2,2],[2.84615384615385,3.76923076923077,3.15384615384615,2.23076923076923,4.15384615384615,4,2.53846153846154,2.76923076923077,3.69230769230769,2.84615384615385],[1,1,1,2,1,1,2,1,1,2],[1,2,2,2,2,2,2,1,2,1],[2,1,1,1,2,2,2,4,2,2],[1,1,1,1,1,1,1,1,1,1],[null,null,null,null,null,null,null,null,null,null],[4,4,4,4,2,4,4,4,4,4],[4,4,4,4,2,4,4,2,4,4],[5,1,4,5,5,5,5,5,5,5],[null,null,4,null,null,null,null,null,null,null],[1,8,2,1,8,2,3,8,2,6],[null,6,2,null,5,1,2,3,2,3],[6,4,5,5,7,5,8,4,3,8],[3,1,5,1,3,5,8,4,2,8],[1,1,1,1,2,1,1,1,1,1],[null,null,null,null,8,null,null,null,null,null],[1,2,2,1,1,2,2,2,2,2],[null,8,8,null,null,8,8,8,8,8],[3,3,2,3,3,1,1,1,1,1],[2,8,1,8,1,null,null,null,null,null],[6,5,6,4,8,null,null,null,null,null],[1,3,1,1,1,8,6,4,1,3],[1,1,1,1,1,1,1,2,1,1],[null,null,null,null,null,null,null,2,null,null],[1,1,1,2,1,2,2,2,2,1],[" "," "," "," "," ","Rowing Club","University Friends","ODAA","Oxford Latin Speaking Society"," "],[" "," "," "," "," ","Rugby Club","Business Social"," ","Oxford Latin Conversation Society"," "],[" "," "," "," "," "," ","Lecturers/ Advisors"," ","Plato Reading Group"," "],[" "," "," "," "," "," ","Friends from home"," "," "," "],[" "," "," "," "," "," ","Neighbors"," "," "," "],[null,null,null,null,null,7,20,1,2,null],[null,null,null,null,null,7,15,null,4,null],[null,null,null,null,null,null,5,null,1,null],[null,null,null,null,null,null,9,null,null,null],[null,null,null,null,null,null,6,null,null,null],[6,6,7,2,1,1,6,6,7,7],[5,7,7,5,2,2,7,6,7,4],[5,6,7,3,2,3,5,7,6,5],[3,7,7,4,1,2,5,6,6,5],[2,6,7,5,2,2,6,7,5,5],[5,7,6,2,1,2,6,6,3,5],[4,6,6,4,1,2,5,6,3,4],[5,7,8,5,7,6,null,7,6,6],[1,2,3,1,2,4,null,2,2,3],[4,2,4,4,1,2,2,3,3,1],[4,4,5,2,1,4,4,2,5,4],[4,3,4,3,1,4,2,3,4,4],[5,3,4,3,4,4,4,4,2,4],[2,3,4,4,4,4,5,2,2,3],[2,4,4,3,1,3,4,3,1,3],[2,5,4,3,3,4,5,4,2,2],[2,2,4,3,4,3,5,3,2,4],[4,5,5,2,1,2,4,2,4,5],[2,3,2,2,1,4,1,4,4,5],[2,2,1,2,1,2,2,2,2,1],[1,2,2,2,4,4,4,2,2,2],[4,4,4,3,4,2,2,3,2,1],[5,4,2,3,2,4,3,4,4,4],[4,4,2,3,3,1,2,4,5,3],[2,3,4,4,4,5,5,4,4,4],[2,3,5,4,4,3,2,4,2,2],[4,3,4,2,4,3,4,3,3,2],[3,3,5,2,4,4,4,4,3,3],[2,3,1,3,5,4,1,3,2,4],[4,3,4,2,4,4,5,4,3,5],[3,3,5,4,4,3,2,2,3,3],[2,3,1,3,4,3,2,3,4,3],[3,3,1,4,1,2,2,2,3,3],[4,3,5,3,1,2,5,1,4,4],[3,3,3,2,1,3,3,2,3,3],[4,3,1,4,4,4,2,4,1,1],[4,5,4,2,1,3,1,4,4,5],[3,5,4,4,1,2,1,3,5,5],[3,2,2,4,4,2,5,2,2,4],[2,4,2,5,1,2,1,3,2,4],[4,3,1,2,4,2,5,1,1,4],[4,3,2,2,3,3,1,4,3,4],[1,4,3,4,4,2,1,3,2,2],[2,4,2,3,5,4,2,5,1,4],[2,4,2,4,5,4,4,4,2,4],[4,4,4,3,4,4,2,4,2,4],[3,4,2,4,4,4,4,5,5,1],[4,2,2,3,4,4,5,2,2,4],[5,3,3,2,4,2,2,2,2,4],[4,3,2,3,3,3,2,1,2,4],[4,3,5,2,4,4,4,4,4,4],[1,4,2,3,4,2,2,3,2,3],[1,2,2,4,4,2,1,2,1,2],[4,3,2,3,1,2,1,4,4,2],[4,4,4,2,1,4,1,4,3,3],[3,3,4,3,4,2,4,3,3,4],[1,2,5,4,4,2,1,2,1,2],[2,3,5,4,4,2,1,2,1,2],[4,3,5,4,4,4,3,3,3,4],[4,4,2,5,1,3,5,2,4,5],[2,4,5,3,1,2,5,4,2,4],[2,4,4,3,4,2,1,3,2,2],[4,3,4,3,5,2,4,4,2,4],[2,4,2,2,4,3,3,2,2,4],[2,4,1,2,4,2,2,2,2,2],[1,2,5,4,1,1,4,2,2,2],[3.07692307692308,2.46153846153846,2.38461538461538,2.84615384615385,2.53846153846154,2.07692307692308,1.53846153846154,3,2.61538461538462,3.15384615384615],[4,2,3,3,3,2,1,4,5,3],[2,3,3,3,4,2,2,3,2,4],[4,3,4,4,3,3,1,3,3,5],[4,3,1,2,2,2,2,3,2,4],[4,2,2,3,2,2,2,3,2,3],[3,2,1,2,1,2,2,3,2,1],[4,2,2,3,3,2,1,4,2,3],[3,2,2,2,2,2,1,4,3,4],[3,2,3,3,2,2,2,1,2,3],[2,3,3,3,3,2,1,3,4,3],[4,2,3,4,3,2,2,2,1,2],[3,4,4,3,5,4,4,4,5,4],[2,4,2,3,2,2,2,3,3,2],[1,2,2,2,3,2,1,3,3,4],[34.9,35.8,34,36.9,35.3,34.7,36,36.5,34.7,35.9],[35.9,36,36.2,37,36.1,36.4,36.3,36.6,36.3,36.3],[2,2,2,2,4,4,2,2,2,2],[35.4,35.9,35.1,36.95,35.7,35.55,36.15,36.55,35.5,36.1],[1,1,1,1,1,1,1,1,1,1],[-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667],[5,5,5,5,5,5,5,5,5,5],[1,1,1,1,1,1,1,1,1,1],[0.186319647739787,0.472682850177291,-1.77049556891649,1.0454092550523,-1.19776916404149,-1.29322356485399,-0.815951560791479,-0.386406757135223,0.0431380465210342,0.759046052614796],[-0.00190690952064737,-0.249805147204807,-1.48929633562561,0.593048860921336,1.48548251658431,0.44430991831084,2.82413300007877,-0.0514865570574791,0.642628508458168,1.7829604018053],["Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford"]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>decade<\/th>\n      <th>age<\/th>\n      <th>ALEX1<\/th>\n      <th>ALEX2<\/th>\n      <th>ALEX3<\/th>\n      <th>ALEX4<\/th>\n      <th>ALEX5<\/th>\n      <th>ALEX6<\/th>\n      <th>ALEX7<\/th>\n      <th>ALEX8<\/th>\n      <th>ALEX9<\/th>\n      <th>ALEX10<\/th>\n      <th>ALEX11<\/th>\n      <th>ALEX12<\/th>\n      <th>ALEX13<\/th>\n      <th>ALEX14<\/th>\n      <th>ALEX15<\/th>\n      <th>ALEX16<\/th>\n      <th>anxiety<\/th>\n      <th>artgluctot<\/th>\n      <th>attachhome<\/th>\n      <th>attachphone<\/th>\n      <th>AvgHumidity<\/th>\n      <th>avoidance<\/th>\n      <th>cigs<\/th>\n      <th>DIDF<\/th>\n      <th>eatdrink<\/th>\n      <th>ECR1<\/th>\n      <th>ECR2<\/th>\n      <th>ECR3<\/th>\n      <th>ECR4<\/th>\n      <th>ECR5<\/th>\n      <th>ECR6<\/th>\n      <th>ECR7<\/th>\n      <th>ECR8<\/th>\n      <th>ECR9<\/th>\n      <th>ECR10<\/th>\n      <th>ECR11<\/th>\n      <th>ECR12<\/th>\n      <th>ECR13<\/th>\n      <th>ECR14<\/th>\n      <th>ECR15<\/th>\n      <th>ECR16<\/th>\n      <th>ECR17<\/th>\n      <th>ECR18<\/th>\n      <th>ECR19<\/th>\n      <th>ECR20<\/th>\n      <th>ECR21<\/th>\n      <th>ECR22<\/th>\n      <th>ECR23<\/th>\n      <th>ECR24<\/th>\n      <th>ECR25<\/th>\n      <th>ECR26<\/th>\n      <th>ECR27<\/th>\n      <th>ECR28<\/th>\n      <th>ECR29<\/th>\n      <th>ECR30<\/th>\n      <th>ECR31<\/th>\n      <th>ECR32<\/th>\n      <th>ECR33<\/th>\n      <th>ECR34<\/th>\n      <th>ECR35<\/th>\n      <th>ECR36<\/th>\n      <th>endtime<\/th>\n      <th>EOT<\/th>\n      <th>exercise<\/th>\n      <th>gluctot<\/th>\n      <th>health<\/th>\n      <th>HOME1<\/th>\n      <th>HOME2<\/th>\n      <th>HOME3<\/th>\n      <th>HOME4<\/th>\n      <th>HOME5<\/th>\n      <th>HOME6<\/th>\n      <th>HOME7<\/th>\n      <th>HOME8<\/th>\n      <th>HOME9<\/th>\n      <th>KAMF1<\/th>\n      <th>KAMF2<\/th>\n      <th>KAMF3<\/th>\n      <th>KAMF4<\/th>\n      <th>KAMF5<\/th>\n      <th>KAMF6<\/th>\n      <th>KAMF7<\/th>\n      <th>networksize<\/th>\n      <th>nostalgia<\/th>\n      <th>onlineid<\/th>\n      <th>onlineid1<\/th>\n      <th>onlineid2<\/th>\n      <th>onlineid3<\/th>\n      <th>onlineid4<\/th>\n      <th>onlineid5<\/th>\n      <th>onlineid6<\/th>\n      <th>onlineid7<\/th>\n      <th>onlineid8<\/th>\n      <th>onlineid9<\/th>\n      <th>onlineid10<\/th>\n      <th>onlineide11<\/th>\n      <th>phone1<\/th>\n      <th>phone2<\/th>\n      <th>phone3<\/th>\n      <th>phone4<\/th>\n      <th>phone5<\/th>\n      <th>phone6<\/th>\n      <th>phone7<\/th>\n      <th>phone8<\/th>\n      <th>phone9<\/th>\n      <th>romantic<\/th>\n      <th>scontrol1<\/th>\n      <th>scontrol2<\/th>\n      <th>scontrol3<\/th>\n      <th>scontrol4<\/th>\n      <th>scontrol5<\/th>\n      <th>scontrol6<\/th>\n      <th>scontrol7<\/th>\n      <th>scontrol8<\/th>\n      <th>scontrol9<\/th>\n      <th>scontrol10<\/th>\n      <th>scontrol11<\/th>\n      <th>scontrol12<\/th>\n      <th>scontrol13<\/th>\n      <th>selfcontrol<\/th>\n      <th>sex<\/th>\n      <th>smoke<\/th>\n      <th>SNI1<\/th>\n      <th>SNI2<\/th>\n      <th>SNI3<\/th>\n      <th>SNI4<\/th>\n      <th>SNI5<\/th>\n      <th>SNI6<\/th>\n      <th>SNI7<\/th>\n      <th>SNI8<\/th>\n      <th>SNI9<\/th>\n      <th>SNI10<\/th>\n      <th>SNI11<\/th>\n      <th>SNI12<\/th>\n      <th>SNI13<\/th>\n      <th>SNI14<\/th>\n      <th>SNI15<\/th>\n      <th>SNI16<\/th>\n      <th>SNI17<\/th>\n      <th>SNI18<\/th>\n      <th>SNI19<\/th>\n      <th>SNI20<\/th>\n      <th>SNI21<\/th>\n      <th>SNI22<\/th>\n      <th>SNI23<\/th>\n      <th>SNI24<\/th>\n      <th>SNI25<\/th>\n      <th>SNI26<\/th>\n      <th>SNI27<\/th>\n      <th>SNI28<\/th>\n      <th>SNI29<\/th>\n      <th>SNI30<\/th>\n      <th>SNI31<\/th>\n      <th>SNI32<\/th>\n      <th>SNS1<\/th>\n      <th>SNS2<\/th>\n      <th>SNS3<\/th>\n      <th>SNS4<\/th>\n      <th>SNS5<\/th>\n      <th>SNS6<\/th>\n      <th>SNS7<\/th>\n      <th>socialdiversity<\/th>\n      <th>socialembedded<\/th>\n      <th>STRAQ_1<\/th>\n      <th>STRAQ_2<\/th>\n      <th>STRAQ_3<\/th>\n      <th>STRAQ_4<\/th>\n      <th>STRAQ_6<\/th>\n      <th>STRAQ_7<\/th>\n      <th>STRAQ_8<\/th>\n      <th>STRAQ_9<\/th>\n      <th>STRAQ_10<\/th>\n      <th>STRAQ_11<\/th>\n      <th>STRAQ_12<\/th>\n      <th>STRAQ_19<\/th>\n      <th>STRAQ_20<\/th>\n      <th>STRAQ_21<\/th>\n      <th>STRAQ_22<\/th>\n      <th>STRAQ_23<\/th>\n      <th>STRAQ_24<\/th>\n      <th>STRAQ_25<\/th>\n      <th>STRAQ_26<\/th>\n      <th>STRAQ_27<\/th>\n      <th>STRAQ_28<\/th>\n      <th>STRAQ_29<\/th>\n      <th>STRAQ_30<\/th>\n      <th>STRAQ_31<\/th>\n      <th>STRAQ_32<\/th>\n      <th>STRAQ_33<\/th>\n      <th>STRAQ_5<\/th>\n      <th>STRAQ_13<\/th>\n      <th>STRAQ_14<\/th>\n      <th>STRAQ_15<\/th>\n      <th>STRAQ_16<\/th>\n      <th>STRAQ_17<\/th>\n      <th>STRAQ_18<\/th>\n      <th>STRAQ_34<\/th>\n      <th>STRAQ_35<\/th>\n      <th>STRAQ_36<\/th>\n      <th>STRAQ_37<\/th>\n      <th>STRAQ_38<\/th>\n      <th>STRAQ_39<\/th>\n      <th>STRAQ_40<\/th>\n      <th>STRAQ_41<\/th>\n      <th>STRAQ_42<\/th>\n      <th>STRAQ_43<\/th>\n      <th>STRAQ_44<\/th>\n      <th>STRAQ_45<\/th>\n      <th>STRAQ_46<\/th>\n      <th>STRAQ_47<\/th>\n      <th>STRAQ_48<\/th>\n      <th>STRAQ_49<\/th>\n      <th>STRAQ_50<\/th>\n      <th>STRAQ_51<\/th>\n      <th>STRAQ_52<\/th>\n      <th>STRAQ_53<\/th>\n      <th>STRAQ_54<\/th>\n      <th>STRAQ_55<\/th>\n      <th>STRAQ_56<\/th>\n      <th>STRAQ_57<\/th>\n      <th>stress<\/th>\n      <th>stress1<\/th>\n      <th>stress2<\/th>\n      <th>stress3<\/th>\n      <th>stress4<\/th>\n      <th>stress5<\/th>\n      <th>stress6<\/th>\n      <th>stress7<\/th>\n      <th>stress8<\/th>\n      <th>stress9<\/th>\n      <th>stress10<\/th>\n      <th>stress11<\/th>\n      <th>stress12<\/th>\n      <th>stress13<\/th>\n      <th>stress14<\/th>\n      <th>Temperature_t1<\/th>\n      <th>Temperature_t2<\/th>\n      <th>thermotype<\/th>\n      <th>avgtemp<\/th>\n      <th>filter_.<\/th>\n      <th>mintemp<\/th>\n      <th>language<\/th>\n      <th>langfamily<\/th>\n      <th>Zanxiety<\/th>\n      <th>Zavoidance<\/th>\n      <th>Site<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"decade","targets":1},{"name":"age","targets":2},{"name":"ALEX1","targets":3},{"name":"ALEX2","targets":4},{"name":"ALEX3","targets":5},{"name":"ALEX4","targets":6},{"name":"ALEX5","targets":7},{"name":"ALEX6","targets":8},{"name":"ALEX7","targets":9},{"name":"ALEX8","targets":10},{"name":"ALEX9","targets":11},{"name":"ALEX10","targets":12},{"name":"ALEX11","targets":13},{"name":"ALEX12","targets":14},{"name":"ALEX13","targets":15},{"name":"ALEX14","targets":16},{"name":"ALEX15","targets":17},{"name":"ALEX16","targets":18},{"name":"anxiety","targets":19},{"name":"artgluctot","targets":20},{"name":"attachhome","targets":21},{"name":"attachphone","targets":22},{"name":"AvgHumidity","targets":23},{"name":"avoidance","targets":24},{"name":"cigs","targets":25},{"name":"DIDF","targets":26},{"name":"eatdrink","targets":27},{"name":"ECR1","targets":28},{"name":"ECR2","targets":29},{"name":"ECR3","targets":30},{"name":"ECR4","targets":31},{"name":"ECR5","targets":32},{"name":"ECR6","targets":33},{"name":"ECR7","targets":34},{"name":"ECR8","targets":35},{"name":"ECR9","targets":36},{"name":"ECR10","targets":37},{"name":"ECR11","targets":38},{"name":"ECR12","targets":39},{"name":"ECR13","targets":40},{"name":"ECR14","targets":41},{"name":"ECR15","targets":42},{"name":"ECR16","targets":43},{"name":"ECR17","targets":44},{"name":"ECR18","targets":45},{"name":"ECR19","targets":46},{"name":"ECR20","targets":47},{"name":"ECR21","targets":48},{"name":"ECR22","targets":49},{"name":"ECR23","targets":50},{"name":"ECR24","targets":51},{"name":"ECR25","targets":52},{"name":"ECR26","targets":53},{"name":"ECR27","targets":54},{"name":"ECR28","targets":55},{"name":"ECR29","targets":56},{"name":"ECR30","targets":57},{"name":"ECR31","targets":58},{"name":"ECR32","targets":59},{"name":"ECR33","targets":60},{"name":"ECR34","targets":61},{"name":"ECR35","targets":62},{"name":"ECR36","targets":63},{"name":"endtime","targets":64},{"name":"EOT","targets":65},{"name":"exercise","targets":66},{"name":"gluctot","targets":67},{"name":"health","targets":68},{"name":"HOME1","targets":69},{"name":"HOME2","targets":70},{"name":"HOME3","targets":71},{"name":"HOME4","targets":72},{"name":"HOME5","targets":73},{"name":"HOME6","targets":74},{"name":"HOME7","targets":75},{"name":"HOME8","targets":76},{"name":"HOME9","targets":77},{"name":"KAMF1","targets":78},{"name":"KAMF2","targets":79},{"name":"KAMF3","targets":80},{"name":"KAMF4","targets":81},{"name":"KAMF5","targets":82},{"name":"KAMF6","targets":83},{"name":"KAMF7","targets":84},{"name":"networksize","targets":85},{"name":"nostalgia","targets":86},{"name":"onlineid","targets":87},{"name":"onlineid1","targets":88},{"name":"onlineid2","targets":89},{"name":"onlineid3","targets":90},{"name":"onlineid4","targets":91},{"name":"onlineid5","targets":92},{"name":"onlineid6","targets":93},{"name":"onlineid7","targets":94},{"name":"onlineid8","targets":95},{"name":"onlineid9","targets":96},{"name":"onlineid10","targets":97},{"name":"onlineide11","targets":98},{"name":"phone1","targets":99},{"name":"phone2","targets":100},{"name":"phone3","targets":101},{"name":"phone4","targets":102},{"name":"phone5","targets":103},{"name":"phone6","targets":104},{"name":"phone7","targets":105},{"name":"phone8","targets":106},{"name":"phone9","targets":107},{"name":"romantic","targets":108},{"name":"scontrol1","targets":109},{"name":"scontrol2","targets":110},{"name":"scontrol3","targets":111},{"name":"scontrol4","targets":112},{"name":"scontrol5","targets":113},{"name":"scontrol6","targets":114},{"name":"scontrol7","targets":115},{"name":"scontrol8","targets":116},{"name":"scontrol9","targets":117},{"name":"scontrol10","targets":118},{"name":"scontrol11","targets":119},{"name":"scontrol12","targets":120},{"name":"scontrol13","targets":121},{"name":"selfcontrol","targets":122},{"name":"sex","targets":123},{"name":"smoke","targets":124},{"name":"SNI1","targets":125},{"name":"SNI2","targets":126},{"name":"SNI3","targets":127},{"name":"SNI4","targets":128},{"name":"SNI5","targets":129},{"name":"SNI6","targets":130},{"name":"SNI7","targets":131},{"name":"SNI8","targets":132},{"name":"SNI9","targets":133},{"name":"SNI10","targets":134},{"name":"SNI11","targets":135},{"name":"SNI12","targets":136},{"name":"SNI13","targets":137},{"name":"SNI14","targets":138},{"name":"SNI15","targets":139},{"name":"SNI16","targets":140},{"name":"SNI17","targets":141},{"name":"SNI18","targets":142},{"name":"SNI19","targets":143},{"name":"SNI20","targets":144},{"name":"SNI21","targets":145},{"name":"SNI22","targets":146},{"name":"SNI23","targets":147},{"name":"SNI24","targets":148},{"name":"SNI25","targets":149},{"name":"SNI26","targets":150},{"name":"SNI27","targets":151},{"name":"SNI28","targets":152},{"name":"SNI29","targets":153},{"name":"SNI30","targets":154},{"name":"SNI31","targets":155},{"name":"SNI32","targets":156},{"name":"SNS1","targets":157},{"name":"SNS2","targets":158},{"name":"SNS3","targets":159},{"name":"SNS4","targets":160},{"name":"SNS5","targets":161},{"name":"SNS6","targets":162},{"name":"SNS7","targets":163},{"name":"socialdiversity","targets":164},{"name":"socialembedded","targets":165},{"name":"STRAQ_1","targets":166},{"name":"STRAQ_2","targets":167},{"name":"STRAQ_3","targets":168},{"name":"STRAQ_4","targets":169},{"name":"STRAQ_6","targets":170},{"name":"STRAQ_7","targets":171},{"name":"STRAQ_8","targets":172},{"name":"STRAQ_9","targets":173},{"name":"STRAQ_10","targets":174},{"name":"STRAQ_11","targets":175},{"name":"STRAQ_12","targets":176},{"name":"STRAQ_19","targets":177},{"name":"STRAQ_20","targets":178},{"name":"STRAQ_21","targets":179},{"name":"STRAQ_22","targets":180},{"name":"STRAQ_23","targets":181},{"name":"STRAQ_24","targets":182},{"name":"STRAQ_25","targets":183},{"name":"STRAQ_26","targets":184},{"name":"STRAQ_27","targets":185},{"name":"STRAQ_28","targets":186},{"name":"STRAQ_29","targets":187},{"name":"STRAQ_30","targets":188},{"name":"STRAQ_31","targets":189},{"name":"STRAQ_32","targets":190},{"name":"STRAQ_33","targets":191},{"name":"STRAQ_5","targets":192},{"name":"STRAQ_13","targets":193},{"name":"STRAQ_14","targets":194},{"name":"STRAQ_15","targets":195},{"name":"STRAQ_16","targets":196},{"name":"STRAQ_17","targets":197},{"name":"STRAQ_18","targets":198},{"name":"STRAQ_34","targets":199},{"name":"STRAQ_35","targets":200},{"name":"STRAQ_36","targets":201},{"name":"STRAQ_37","targets":202},{"name":"STRAQ_38","targets":203},{"name":"STRAQ_39","targets":204},{"name":"STRAQ_40","targets":205},{"name":"STRAQ_41","targets":206},{"name":"STRAQ_42","targets":207},{"name":"STRAQ_43","targets":208},{"name":"STRAQ_44","targets":209},{"name":"STRAQ_45","targets":210},{"name":"STRAQ_46","targets":211},{"name":"STRAQ_47","targets":212},{"name":"STRAQ_48","targets":213},{"name":"STRAQ_49","targets":214},{"name":"STRAQ_50","targets":215},{"name":"STRAQ_51","targets":216},{"name":"STRAQ_52","targets":217},{"name":"STRAQ_53","targets":218},{"name":"STRAQ_54","targets":219},{"name":"STRAQ_55","targets":220},{"name":"STRAQ_56","targets":221},{"name":"STRAQ_57","targets":222},{"name":"stress","targets":223},{"name":"stress1","targets":224},{"name":"stress2","targets":225},{"name":"stress3","targets":226},{"name":"stress4","targets":227},{"name":"stress5","targets":228},{"name":"stress6","targets":229},{"name":"stress7","targets":230},{"name":"stress8","targets":231},{"name":"stress9","targets":232},{"name":"stress10","targets":233},{"name":"stress11","targets":234},{"name":"stress12","targets":235},{"name":"stress13","targets":236},{"name":"stress14","targets":237},{"name":"Temperature_t1","targets":238},{"name":"Temperature_t2","targets":239},{"name":"thermotype","targets":240},{"name":"avgtemp","targets":241},{"name":"filter_.","targets":242},{"name":"mintemp","targets":243},{"name":"language","targets":244},{"name":"langfamily","targets":245},{"name":"Zanxiety","targets":246},{"name":"Zavoidance","targets":247},{"name":"Site","targets":248}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr::mutate&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;重新编码为相同变量（反向计分）&lt;/h2&gt;


```r
df.clean.mutate_4 &lt;- df.pg.raw %&gt;% 
  dplyr::mutate(ALEX1 = case_when(ALEX1 == '1' ~ '5',
                                  ALEX1 == '2' ~ '4',
                                  ALEX1 == '3' ~ '3',
                                  ALEX1 == '4' ~ '2',
                                  ALEX1 == '5' ~ '1',
                                  TRUE ~ as.character(ALEX1))
                ) %&gt;%
  dplyr::mutate(ALEX1 = as.numeric(ALEX1))
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-dc9e2bd69783f7e71ce6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-dc9e2bd69783f7e71ce6">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[1975,1995,1995,1988,1991,1995,1996,1973,1996,1996],[5,4,2,4,4,4,5,3,4,3],[1,2,1,3,1,3,1,3,3,3],[1,2,1,4,1,1,1,2,1,1],[2,2,2,5,5,3,1,3,3,2],[2,2,4,3,2,2,4,4,2,4],[1,2,1,4,2,1,1,4,2,1],[2,2,4,2,3,1,2,4,2,2],[2,2,1,4,4,2,1,4,2,4],[4,4,1,4,1,1,4,4,2,4],[1,2,2,3,1,2,2,5,2,1],[1,2,1,2,2,1,1,3,1,4],[2,2,1,2,1,2,2,2,2,1],[4,2,2,4,2,3,4,2,2,2],[3,2,1,2,4,4,3,3,4,3],[4,3,1,4,4,5,5,4,3,5],[2,2,1,3,2,4,5,1,2,4],[3.72222222222222,4.05555555555556,1.44444444444444,4.72222222222222,2.11111111111111,2,2.55555555555556,3.05555555555556,3.55555555555556,4.38888888888889],[6,0,0,2,0,0,null,0,0,0],[3.11111111111111,4.88888888888889,1.33333333333333,3.88888888888889,4.66666666666667,3.33333333333333,3.11111111111111,3.55555555555556,3.33333333333333,3.22222222222222],[3.44444444444444,2,2,3,1.77777777777778,2.44444444444444,3.77777777777778,3.33333333333333,1.88888888888889,4.22222222222222],[89,89,89,89,89,89,89,89,89,89],[3.27777777777778,3,1.61111111111111,3.94444444444444,4.94444444444444,3.77777777777778,6.44444444444444,3.22222222222222,4,5.27777777777778],[15,null,null,null,null,null,null,10,null,1],[1.63636363636364,2.18181818181818,2,3.27272727272727,2.18181818181818,1.72727272727273,1.72727272727273,3.54545454545455,2,2.63636363636364],[1,1,1,2,1,1,1,1,1,1],[5,6,1,3,1,1,2,3,4,5],[5,4,1,6,1,1,1,2,4,6],[3,2,1,6,1,1,4,3,4,6],[5,5,1,5,1,2,1,2,4,5],[5,5,1,4,1,2,4,3,4,4],[3,2,1,4,5,1,1,3,1,3],[1,3,1,3,2,1,2,3,4,5],[6,5,1,3,1,2,7,3,4,7],[5,2,1,4,7,6,1,3,4,3],[2,3,1,4,1,2,4,1,4,3],[6,7,1,6,6,2,2,5,2,6],[3,4,1,5,1,2,1,2,4,4],[3,3,1,6,2,4,2,5,4,4],[2,3,7,5,1,1,1,4,1,2],[3,4,1,5,2,2,1,5,4,1],[3,5,3,5,1,1,2,3,4,4],[6,5,1,6,2,3,6,3,4,7],[1,5,1,5,2,2,4,2,4,4],[2,3,2,5,1,5,7,3,4,5],[2,4,2,5,7,5,1,2,4,7],[5,3,2,5,2,4,6,4,4,5],[3,2,2,4,5,4,7,3,4,5],[3,2,2,3,2,3,7,3,4,6],[2,3,1,4,4,4,7,3,4,5],[5,3,1,6,2,3,7,4,4,6],[5,4,1,3,6,3,7,4,4,7],[3,5,1,3,7,1,7,4,4,7],[2,3,1,4,6,3,6,3,4,4],[4,2,2,5,6,6,6,3,4,4],[2,2,2,3,6,5,7,2,4,5],[3,4,1,4,7,4,7,2,4,3],[3,2,2,5,2,3,7,3,4,6],[4,3,3,3,7,4,6,3,4,5],[5,3,1,2,6,5,7,4,4,6],[4,3,1,3,6,3,7,6,4,5],[2,3,2,4,7,3,7,2,4,4],["9:23:38","9:23:26","8:57:08","8:55:14","8:54:35","8:39:12","8:32:08","8:28:57","8:28:03","8:25:57"],[3,2.2,1.2,3,2.6,3.6,3.8,2.4,2.6,3],[2,2,2,2,2,2,2,2,2,2],[0,0,12,0,5,0,null,1,0,2],[4,4,4,3,4,4,4,1,3,3],[4,5,1,5,5,4,5,3,3,4],[3,5,1,4,5,4,2,3,3,5],[4,5,4,5,5,4,4,2,4,3],[3,5,1,5,5,4,5,4,5,3],[3,5,1,4,4,4,2,3,4,4],[2,4,1,2,5,2,1,4,3,2],[4,5,1,2,4,2,5,5,2,2],[3,5,1,4,4,3,1,4,3,3],[2,5,1,4,5,3,3,4,3,3],[4,1,5,5,1,3,2,3,3,4],[4,2,6,4,1,3,2,3,3,5],[5,6,5,3,3,3,2,2,2,1],[4,2,4,1,2,2,2,2,1,3],[4,3,3,2,2,2,2,2,3,2],[1,2,1,2,2,4,2,3,3,3],[2,2,1,2,1,4,2,3,1,2],[17,28,24,19,29,33,53,17,17,19],[4.33333333333333,6.5,6.83333333333333,3.5,1.5,2,5.83333333333333,6.33333333333333,5.66666666666667,5.16666666666667],[2.27272727272727,2.63636363636364,2.18181818181818,2,1.90909090909091,2.45454545454545,2.81818181818182,2.54545454545455,1.81818181818182,3.90909090909091],[2,3,3,1,3,4,4,2,2,5],[2,2,4,1,2,4,4,3,3,4],[2,3,2,2,1,2,2,3,2,5],[4,3,4,3,4,4,2,2,2,4],[2,3,1,2,1,3,3,3,2,3],[2,2,1,2,1,1,2,2,1,3],[2,2,1,2,1,2,2,4,2,4],[2,3,3,1,1,1,2,3,2,3],[3,3,3,2,2,2,4,2,1,3],[2,3,1,4,2,1,2,1,1,4],[2,2,1,2,3,3,4,3,2,5],[4,2,1,2,2,3,3,3,3,4],[4,2,4,4,1,3,4,4,2,4],[2,2,1,3,1,2,5,3,1,2],[5,2,4,2,1,3,4,3,4,4],[2,2,1,3,1,2,1,2,3,5],[2,2,1,2,3,2,3,4,1,4],[4,2,1,3,2,2,5,3,1,5],[4,2,1,4,1,3,5,4,1,5],[4,2,4,4,4,2,4,4,1,5],[2,2,1,1,2,2,2,2,2,2],[2,4,2,4,3,5,2,1,3,3],[2,4,3,2,5,5,4,4,3,4],[2,4,3,1,5,5,2,5,5,5],[1,4,2,1,3,2,2,2,5,1],[1,4,4,2,5,3,1,2,5,2],[4,3,2,1,5,4,3,3,3,1],[2,4,4,2,5,3,2,3,4,2],[2,2,1,3,4,3,2,2,5,4],[5,4,3,4,4,5,4,4,3,3],[4,3,5,3,3,5,5,3,4,2],[3,4,4,2,4,5,3,2,2,5],[5,5,4,2,4,4,1,3,4,3],[4,4,4,2,4,3,2,2,2,2],[2.84615384615385,3.76923076923077,3.15384615384615,2.23076923076923,4.15384615384615,4,2.53846153846154,2.76923076923077,3.69230769230769,2.84615384615385],[1,1,1,2,1,1,2,1,1,2],[1,2,2,2,2,2,2,1,2,1],[2,1,1,1,2,2,2,4,2,2],[1,1,1,1,1,1,1,1,1,1],[null,null,null,null,null,null,null,null,null,null],[4,4,4,4,2,4,4,4,4,4],[4,4,4,4,2,4,4,2,4,4],[5,1,4,5,5,5,5,5,5,5],[null,null,4,null,null,null,null,null,null,null],[1,8,2,1,8,2,3,8,2,6],[null,6,2,null,5,1,2,3,2,3],[6,4,5,5,7,5,8,4,3,8],[3,1,5,1,3,5,8,4,2,8],[1,1,1,1,2,1,1,1,1,1],[null,null,null,null,8,null,null,null,null,null],[1,2,2,1,1,2,2,2,2,2],[null,8,8,null,null,8,8,8,8,8],[3,3,2,3,3,1,1,1,1,1],[2,8,1,8,1,null,null,null,null,null],[6,5,6,4,8,null,null,null,null,null],[1,3,1,1,1,8,6,4,1,3],[1,1,1,1,1,1,1,2,1,1],[null,null,null,null,null,null,null,2,null,null],[1,1,1,2,1,2,2,2,2,1],[" "," "," "," "," ","Rowing Club","University Friends","ODAA","Oxford Latin Speaking Society"," "],[" "," "," "," "," ","Rugby Club","Business Social"," ","Oxford Latin Conversation Society"," "],[" "," "," "," "," "," ","Lecturers/ Advisors"," ","Plato Reading Group"," "],[" "," "," "," "," "," ","Friends from home"," "," "," "],[" "," "," "," "," "," ","Neighbors"," "," "," "],[null,null,null,null,null,7,20,1,2,null],[null,null,null,null,null,7,15,null,4,null],[null,null,null,null,null,null,5,null,1,null],[null,null,null,null,null,null,9,null,null,null],[null,null,null,null,null,null,6,null,null,null],[6,6,7,2,1,1,6,6,7,7],[5,7,7,5,2,2,7,6,7,4],[5,6,7,3,2,3,5,7,6,5],[3,7,7,4,1,2,5,6,6,5],[2,6,7,5,2,2,6,7,5,5],[5,7,6,2,1,2,6,6,3,5],[4,6,6,4,1,2,5,6,3,4],[5,7,8,5,7,6,null,7,6,6],[1,2,3,1,2,4,null,2,2,3],[4,2,4,4,1,2,2,3,3,1],[4,4,5,2,1,4,4,2,5,4],[4,3,4,3,1,4,2,3,4,4],[5,3,4,3,4,4,4,4,2,4],[2,3,4,4,4,4,5,2,2,3],[2,4,4,3,1,3,4,3,1,3],[2,5,4,3,3,4,5,4,2,2],[2,2,4,3,4,3,5,3,2,4],[4,5,5,2,1,2,4,2,4,5],[2,3,2,2,1,4,1,4,4,5],[2,2,1,2,1,2,2,2,2,1],[1,2,2,2,4,4,4,2,2,2],[4,4,4,3,4,2,2,3,2,1],[5,4,2,3,2,4,3,4,4,4],[4,4,2,3,3,1,2,4,5,3],[2,3,4,4,4,5,5,4,4,4],[2,3,5,4,4,3,2,4,2,2],[4,3,4,2,4,3,4,3,3,2],[3,3,5,2,4,4,4,4,3,3],[2,3,1,3,5,4,1,3,2,4],[4,3,4,2,4,4,5,4,3,5],[3,3,5,4,4,3,2,2,3,3],[2,3,1,3,4,3,2,3,4,3],[3,3,1,4,1,2,2,2,3,3],[4,3,5,3,1,2,5,1,4,4],[3,3,3,2,1,3,3,2,3,3],[4,3,1,4,4,4,2,4,1,1],[4,5,4,2,1,3,1,4,4,5],[3,5,4,4,1,2,1,3,5,5],[3,2,2,4,4,2,5,2,2,4],[2,4,2,5,1,2,1,3,2,4],[4,3,1,2,4,2,5,1,1,4],[4,3,2,2,3,3,1,4,3,4],[1,4,3,4,4,2,1,3,2,2],[2,4,2,3,5,4,2,5,1,4],[2,4,2,4,5,4,4,4,2,4],[4,4,4,3,4,4,2,4,2,4],[3,4,2,4,4,4,4,5,5,1],[4,2,2,3,4,4,5,2,2,4],[5,3,3,2,4,2,2,2,2,4],[4,3,2,3,3,3,2,1,2,4],[4,3,5,2,4,4,4,4,4,4],[1,4,2,3,4,2,2,3,2,3],[1,2,2,4,4,2,1,2,1,2],[4,3,2,3,1,2,1,4,4,2],[4,4,4,2,1,4,1,4,3,3],[3,3,4,3,4,2,4,3,3,4],[1,2,5,4,4,2,1,2,1,2],[2,3,5,4,4,2,1,2,1,2],[4,3,5,4,4,4,3,3,3,4],[4,4,2,5,1,3,5,2,4,5],[2,4,5,3,1,2,5,4,2,4],[2,4,4,3,4,2,1,3,2,2],[4,3,4,3,5,2,4,4,2,4],[2,4,2,2,4,3,3,2,2,4],[2,4,1,2,4,2,2,2,2,2],[1,2,5,4,1,1,4,2,2,2],[3.07692307692308,2.46153846153846,2.38461538461538,2.84615384615385,2.53846153846154,2.07692307692308,1.53846153846154,3,2.61538461538462,3.15384615384615],[4,2,3,3,3,2,1,4,5,3],[2,3,3,3,4,2,2,3,2,4],[4,3,4,4,3,3,1,3,3,5],[4,3,1,2,2,2,2,3,2,4],[4,2,2,3,2,2,2,3,2,3],[3,2,1,2,1,2,2,3,2,1],[4,2,2,3,3,2,1,4,2,3],[3,2,2,2,2,2,1,4,3,4],[3,2,3,3,2,2,2,1,2,3],[2,3,3,3,3,2,1,3,4,3],[4,2,3,4,3,2,2,2,1,2],[3,4,4,3,5,4,4,4,5,4],[2,4,2,3,2,2,2,3,3,2],[1,2,2,2,3,2,1,3,3,4],[34.9,35.8,34,36.9,35.3,34.7,36,36.5,34.7,35.9],[35.9,36,36.2,37,36.1,36.4,36.3,36.6,36.3,36.3],[2,2,2,2,4,4,2,2,2,2],[35.4,35.9,35.1,36.95,35.7,35.55,36.15,36.55,35.5,36.1],[1,1,1,1,1,1,1,1,1,1],[-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667,-1.66666666666667],[5,5,5,5,5,5,5,5,5,5],[1,1,1,1,1,1,1,1,1,1],[0.186319647739787,0.472682850177291,-1.77049556891649,1.0454092550523,-1.19776916404149,-1.29322356485399,-0.815951560791479,-0.386406757135223,0.0431380465210342,0.759046052614796],[-0.00190690952064737,-0.249805147204807,-1.48929633562561,0.593048860921336,1.48548251658431,0.44430991831084,2.82413300007877,-0.0514865570574791,0.642628508458168,1.7829604018053],["Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford","Oxford"]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>age<\/th>\n      <th>ALEX1<\/th>\n      <th>ALEX2<\/th>\n      <th>ALEX3<\/th>\n      <th>ALEX4<\/th>\n      <th>ALEX5<\/th>\n      <th>ALEX6<\/th>\n      <th>ALEX7<\/th>\n      <th>ALEX8<\/th>\n      <th>ALEX9<\/th>\n      <th>ALEX10<\/th>\n      <th>ALEX11<\/th>\n      <th>ALEX12<\/th>\n      <th>ALEX13<\/th>\n      <th>ALEX14<\/th>\n      <th>ALEX15<\/th>\n      <th>ALEX16<\/th>\n      <th>anxiety<\/th>\n      <th>artgluctot<\/th>\n      <th>attachhome<\/th>\n      <th>attachphone<\/th>\n      <th>AvgHumidity<\/th>\n      <th>avoidance<\/th>\n      <th>cigs<\/th>\n      <th>DIDF<\/th>\n      <th>eatdrink<\/th>\n      <th>ECR1<\/th>\n      <th>ECR2<\/th>\n      <th>ECR3<\/th>\n      <th>ECR4<\/th>\n      <th>ECR5<\/th>\n      <th>ECR6<\/th>\n      <th>ECR7<\/th>\n      <th>ECR8<\/th>\n      <th>ECR9<\/th>\n      <th>ECR10<\/th>\n      <th>ECR11<\/th>\n      <th>ECR12<\/th>\n      <th>ECR13<\/th>\n      <th>ECR14<\/th>\n      <th>ECR15<\/th>\n      <th>ECR16<\/th>\n      <th>ECR17<\/th>\n      <th>ECR18<\/th>\n      <th>ECR19<\/th>\n      <th>ECR20<\/th>\n      <th>ECR21<\/th>\n      <th>ECR22<\/th>\n      <th>ECR23<\/th>\n      <th>ECR24<\/th>\n      <th>ECR25<\/th>\n      <th>ECR26<\/th>\n      <th>ECR27<\/th>\n      <th>ECR28<\/th>\n      <th>ECR29<\/th>\n      <th>ECR30<\/th>\n      <th>ECR31<\/th>\n      <th>ECR32<\/th>\n      <th>ECR33<\/th>\n      <th>ECR34<\/th>\n      <th>ECR35<\/th>\n      <th>ECR36<\/th>\n      <th>endtime<\/th>\n      <th>EOT<\/th>\n      <th>exercise<\/th>\n      <th>gluctot<\/th>\n      <th>health<\/th>\n      <th>HOME1<\/th>\n      <th>HOME2<\/th>\n      <th>HOME3<\/th>\n      <th>HOME4<\/th>\n      <th>HOME5<\/th>\n      <th>HOME6<\/th>\n      <th>HOME7<\/th>\n      <th>HOME8<\/th>\n      <th>HOME9<\/th>\n      <th>KAMF1<\/th>\n      <th>KAMF2<\/th>\n      <th>KAMF3<\/th>\n      <th>KAMF4<\/th>\n      <th>KAMF5<\/th>\n      <th>KAMF6<\/th>\n      <th>KAMF7<\/th>\n      <th>networksize<\/th>\n      <th>nostalgia<\/th>\n      <th>onlineid<\/th>\n      <th>onlineid1<\/th>\n      <th>onlineid2<\/th>\n      <th>onlineid3<\/th>\n      <th>onlineid4<\/th>\n      <th>onlineid5<\/th>\n      <th>onlineid6<\/th>\n      <th>onlineid7<\/th>\n      <th>onlineid8<\/th>\n      <th>onlineid9<\/th>\n      <th>onlineid10<\/th>\n      <th>onlineide11<\/th>\n      <th>phone1<\/th>\n      <th>phone2<\/th>\n      <th>phone3<\/th>\n      <th>phone4<\/th>\n      <th>phone5<\/th>\n      <th>phone6<\/th>\n      <th>phone7<\/th>\n      <th>phone8<\/th>\n      <th>phone9<\/th>\n      <th>romantic<\/th>\n      <th>scontrol1<\/th>\n      <th>scontrol2<\/th>\n      <th>scontrol3<\/th>\n      <th>scontrol4<\/th>\n      <th>scontrol5<\/th>\n      <th>scontrol6<\/th>\n      <th>scontrol7<\/th>\n      <th>scontrol8<\/th>\n      <th>scontrol9<\/th>\n      <th>scontrol10<\/th>\n      <th>scontrol11<\/th>\n      <th>scontrol12<\/th>\n      <th>scontrol13<\/th>\n      <th>selfcontrol<\/th>\n      <th>sex<\/th>\n      <th>smoke<\/th>\n      <th>SNI1<\/th>\n      <th>SNI2<\/th>\n      <th>SNI3<\/th>\n      <th>SNI4<\/th>\n      <th>SNI5<\/th>\n      <th>SNI6<\/th>\n      <th>SNI7<\/th>\n      <th>SNI8<\/th>\n      <th>SNI9<\/th>\n      <th>SNI10<\/th>\n      <th>SNI11<\/th>\n      <th>SNI12<\/th>\n      <th>SNI13<\/th>\n      <th>SNI14<\/th>\n      <th>SNI15<\/th>\n      <th>SNI16<\/th>\n      <th>SNI17<\/th>\n      <th>SNI18<\/th>\n      <th>SNI19<\/th>\n      <th>SNI20<\/th>\n      <th>SNI21<\/th>\n      <th>SNI22<\/th>\n      <th>SNI23<\/th>\n      <th>SNI24<\/th>\n      <th>SNI25<\/th>\n      <th>SNI26<\/th>\n      <th>SNI27<\/th>\n      <th>SNI28<\/th>\n      <th>SNI29<\/th>\n      <th>SNI30<\/th>\n      <th>SNI31<\/th>\n      <th>SNI32<\/th>\n      <th>SNS1<\/th>\n      <th>SNS2<\/th>\n      <th>SNS3<\/th>\n      <th>SNS4<\/th>\n      <th>SNS5<\/th>\n      <th>SNS6<\/th>\n      <th>SNS7<\/th>\n      <th>socialdiversity<\/th>\n      <th>socialembedded<\/th>\n      <th>STRAQ_1<\/th>\n      <th>STRAQ_2<\/th>\n      <th>STRAQ_3<\/th>\n      <th>STRAQ_4<\/th>\n      <th>STRAQ_6<\/th>\n      <th>STRAQ_7<\/th>\n      <th>STRAQ_8<\/th>\n      <th>STRAQ_9<\/th>\n      <th>STRAQ_10<\/th>\n      <th>STRAQ_11<\/th>\n      <th>STRAQ_12<\/th>\n      <th>STRAQ_19<\/th>\n      <th>STRAQ_20<\/th>\n      <th>STRAQ_21<\/th>\n      <th>STRAQ_22<\/th>\n      <th>STRAQ_23<\/th>\n      <th>STRAQ_24<\/th>\n      <th>STRAQ_25<\/th>\n      <th>STRAQ_26<\/th>\n      <th>STRAQ_27<\/th>\n      <th>STRAQ_28<\/th>\n      <th>STRAQ_29<\/th>\n      <th>STRAQ_30<\/th>\n      <th>STRAQ_31<\/th>\n      <th>STRAQ_32<\/th>\n      <th>STRAQ_33<\/th>\n      <th>STRAQ_5<\/th>\n      <th>STRAQ_13<\/th>\n      <th>STRAQ_14<\/th>\n      <th>STRAQ_15<\/th>\n      <th>STRAQ_16<\/th>\n      <th>STRAQ_17<\/th>\n      <th>STRAQ_18<\/th>\n      <th>STRAQ_34<\/th>\n      <th>STRAQ_35<\/th>\n      <th>STRAQ_36<\/th>\n      <th>STRAQ_37<\/th>\n      <th>STRAQ_38<\/th>\n      <th>STRAQ_39<\/th>\n      <th>STRAQ_40<\/th>\n      <th>STRAQ_41<\/th>\n      <th>STRAQ_42<\/th>\n      <th>STRAQ_43<\/th>\n      <th>STRAQ_44<\/th>\n      <th>STRAQ_45<\/th>\n      <th>STRAQ_46<\/th>\n      <th>STRAQ_47<\/th>\n      <th>STRAQ_48<\/th>\n      <th>STRAQ_49<\/th>\n      <th>STRAQ_50<\/th>\n      <th>STRAQ_51<\/th>\n      <th>STRAQ_52<\/th>\n      <th>STRAQ_53<\/th>\n      <th>STRAQ_54<\/th>\n      <th>STRAQ_55<\/th>\n      <th>STRAQ_56<\/th>\n      <th>STRAQ_57<\/th>\n      <th>stress<\/th>\n      <th>stress1<\/th>\n      <th>stress2<\/th>\n      <th>stress3<\/th>\n      <th>stress4<\/th>\n      <th>stress5<\/th>\n      <th>stress6<\/th>\n      <th>stress7<\/th>\n      <th>stress8<\/th>\n      <th>stress9<\/th>\n      <th>stress10<\/th>\n      <th>stress11<\/th>\n      <th>stress12<\/th>\n      <th>stress13<\/th>\n      <th>stress14<\/th>\n      <th>Temperature_t1<\/th>\n      <th>Temperature_t2<\/th>\n      <th>thermotype<\/th>\n      <th>avgtemp<\/th>\n      <th>filter_.<\/th>\n      <th>mintemp<\/th>\n      <th>language<\/th>\n      <th>langfamily<\/th>\n      <th>Zanxiety<\/th>\n      <th>Zavoidance<\/th>\n      <th>Site<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"age","targets":1},{"name":"ALEX1","targets":2},{"name":"ALEX2","targets":3},{"name":"ALEX3","targets":4},{"name":"ALEX4","targets":5},{"name":"ALEX5","targets":6},{"name":"ALEX6","targets":7},{"name":"ALEX7","targets":8},{"name":"ALEX8","targets":9},{"name":"ALEX9","targets":10},{"name":"ALEX10","targets":11},{"name":"ALEX11","targets":12},{"name":"ALEX12","targets":13},{"name":"ALEX13","targets":14},{"name":"ALEX14","targets":15},{"name":"ALEX15","targets":16},{"name":"ALEX16","targets":17},{"name":"anxiety","targets":18},{"name":"artgluctot","targets":19},{"name":"attachhome","targets":20},{"name":"attachphone","targets":21},{"name":"AvgHumidity","targets":22},{"name":"avoidance","targets":23},{"name":"cigs","targets":24},{"name":"DIDF","targets":25},{"name":"eatdrink","targets":26},{"name":"ECR1","targets":27},{"name":"ECR2","targets":28},{"name":"ECR3","targets":29},{"name":"ECR4","targets":30},{"name":"ECR5","targets":31},{"name":"ECR6","targets":32},{"name":"ECR7","targets":33},{"name":"ECR8","targets":34},{"name":"ECR9","targets":35},{"name":"ECR10","targets":36},{"name":"ECR11","targets":37},{"name":"ECR12","targets":38},{"name":"ECR13","targets":39},{"name":"ECR14","targets":40},{"name":"ECR15","targets":41},{"name":"ECR16","targets":42},{"name":"ECR17","targets":43},{"name":"ECR18","targets":44},{"name":"ECR19","targets":45},{"name":"ECR20","targets":46},{"name":"ECR21","targets":47},{"name":"ECR22","targets":48},{"name":"ECR23","targets":49},{"name":"ECR24","targets":50},{"name":"ECR25","targets":51},{"name":"ECR26","targets":52},{"name":"ECR27","targets":53},{"name":"ECR28","targets":54},{"name":"ECR29","targets":55},{"name":"ECR30","targets":56},{"name":"ECR31","targets":57},{"name":"ECR32","targets":58},{"name":"ECR33","targets":59},{"name":"ECR34","targets":60},{"name":"ECR35","targets":61},{"name":"ECR36","targets":62},{"name":"endtime","targets":63},{"name":"EOT","targets":64},{"name":"exercise","targets":65},{"name":"gluctot","targets":66},{"name":"health","targets":67},{"name":"HOME1","targets":68},{"name":"HOME2","targets":69},{"name":"HOME3","targets":70},{"name":"HOME4","targets":71},{"name":"HOME5","targets":72},{"name":"HOME6","targets":73},{"name":"HOME7","targets":74},{"name":"HOME8","targets":75},{"name":"HOME9","targets":76},{"name":"KAMF1","targets":77},{"name":"KAMF2","targets":78},{"name":"KAMF3","targets":79},{"name":"KAMF4","targets":80},{"name":"KAMF5","targets":81},{"name":"KAMF6","targets":82},{"name":"KAMF7","targets":83},{"name":"networksize","targets":84},{"name":"nostalgia","targets":85},{"name":"onlineid","targets":86},{"name":"onlineid1","targets":87},{"name":"onlineid2","targets":88},{"name":"onlineid3","targets":89},{"name":"onlineid4","targets":90},{"name":"onlineid5","targets":91},{"name":"onlineid6","targets":92},{"name":"onlineid7","targets":93},{"name":"onlineid8","targets":94},{"name":"onlineid9","targets":95},{"name":"onlineid10","targets":96},{"name":"onlineide11","targets":97},{"name":"phone1","targets":98},{"name":"phone2","targets":99},{"name":"phone3","targets":100},{"name":"phone4","targets":101},{"name":"phone5","targets":102},{"name":"phone6","targets":103},{"name":"phone7","targets":104},{"name":"phone8","targets":105},{"name":"phone9","targets":106},{"name":"romantic","targets":107},{"name":"scontrol1","targets":108},{"name":"scontrol2","targets":109},{"name":"scontrol3","targets":110},{"name":"scontrol4","targets":111},{"name":"scontrol5","targets":112},{"name":"scontrol6","targets":113},{"name":"scontrol7","targets":114},{"name":"scontrol8","targets":115},{"name":"scontrol9","targets":116},{"name":"scontrol10","targets":117},{"name":"scontrol11","targets":118},{"name":"scontrol12","targets":119},{"name":"scontrol13","targets":120},{"name":"selfcontrol","targets":121},{"name":"sex","targets":122},{"name":"smoke","targets":123},{"name":"SNI1","targets":124},{"name":"SNI2","targets":125},{"name":"SNI3","targets":126},{"name":"SNI4","targets":127},{"name":"SNI5","targets":128},{"name":"SNI6","targets":129},{"name":"SNI7","targets":130},{"name":"SNI8","targets":131},{"name":"SNI9","targets":132},{"name":"SNI10","targets":133},{"name":"SNI11","targets":134},{"name":"SNI12","targets":135},{"name":"SNI13","targets":136},{"name":"SNI14","targets":137},{"name":"SNI15","targets":138},{"name":"SNI16","targets":139},{"name":"SNI17","targets":140},{"name":"SNI18","targets":141},{"name":"SNI19","targets":142},{"name":"SNI20","targets":143},{"name":"SNI21","targets":144},{"name":"SNI22","targets":145},{"name":"SNI23","targets":146},{"name":"SNI24","targets":147},{"name":"SNI25","targets":148},{"name":"SNI26","targets":149},{"name":"SNI27","targets":150},{"name":"SNI28","targets":151},{"name":"SNI29","targets":152},{"name":"SNI30","targets":153},{"name":"SNI31","targets":154},{"name":"SNI32","targets":155},{"name":"SNS1","targets":156},{"name":"SNS2","targets":157},{"name":"SNS3","targets":158},{"name":"SNS4","targets":159},{"name":"SNS5","targets":160},{"name":"SNS6","targets":161},{"name":"SNS7","targets":162},{"name":"socialdiversity","targets":163},{"name":"socialembedded","targets":164},{"name":"STRAQ_1","targets":165},{"name":"STRAQ_2","targets":166},{"name":"STRAQ_3","targets":167},{"name":"STRAQ_4","targets":168},{"name":"STRAQ_6","targets":169},{"name":"STRAQ_7","targets":170},{"name":"STRAQ_8","targets":171},{"name":"STRAQ_9","targets":172},{"name":"STRAQ_10","targets":173},{"name":"STRAQ_11","targets":174},{"name":"STRAQ_12","targets":175},{"name":"STRAQ_19","targets":176},{"name":"STRAQ_20","targets":177},{"name":"STRAQ_21","targets":178},{"name":"STRAQ_22","targets":179},{"name":"STRAQ_23","targets":180},{"name":"STRAQ_24","targets":181},{"name":"STRAQ_25","targets":182},{"name":"STRAQ_26","targets":183},{"name":"STRAQ_27","targets":184},{"name":"STRAQ_28","targets":185},{"name":"STRAQ_29","targets":186},{"name":"STRAQ_30","targets":187},{"name":"STRAQ_31","targets":188},{"name":"STRAQ_32","targets":189},{"name":"STRAQ_33","targets":190},{"name":"STRAQ_5","targets":191},{"name":"STRAQ_13","targets":192},{"name":"STRAQ_14","targets":193},{"name":"STRAQ_15","targets":194},{"name":"STRAQ_16","targets":195},{"name":"STRAQ_17","targets":196},{"name":"STRAQ_18","targets":197},{"name":"STRAQ_34","targets":198},{"name":"STRAQ_35","targets":199},{"name":"STRAQ_36","targets":200},{"name":"STRAQ_37","targets":201},{"name":"STRAQ_38","targets":202},{"name":"STRAQ_39","targets":203},{"name":"STRAQ_40","targets":204},{"name":"STRAQ_41","targets":205},{"name":"STRAQ_42","targets":206},{"name":"STRAQ_43","targets":207},{"name":"STRAQ_44","targets":208},{"name":"STRAQ_45","targets":209},{"name":"STRAQ_46","targets":210},{"name":"STRAQ_47","targets":211},{"name":"STRAQ_48","targets":212},{"name":"STRAQ_49","targets":213},{"name":"STRAQ_50","targets":214},{"name":"STRAQ_51","targets":215},{"name":"STRAQ_52","targets":216},{"name":"STRAQ_53","targets":217},{"name":"STRAQ_54","targets":218},{"name":"STRAQ_55","targets":219},{"name":"STRAQ_56","targets":220},{"name":"STRAQ_57","targets":221},{"name":"stress","targets":222},{"name":"stress1","targets":223},{"name":"stress2","targets":224},{"name":"stress3","targets":225},{"name":"stress4","targets":226},{"name":"stress5","targets":227},{"name":"stress6","targets":228},{"name":"stress7","targets":229},{"name":"stress8","targets":230},{"name":"stress9","targets":231},{"name":"stress10","targets":232},{"name":"stress11","targets":233},{"name":"stress12","targets":234},{"name":"stress13","targets":235},{"name":"stress14","targets":236},{"name":"Temperature_t1","targets":237},{"name":"Temperature_t2","targets":238},{"name":"thermotype","targets":239},{"name":"avgtemp","targets":240},{"name":"filter_.","targets":241},{"name":"mintemp","targets":242},{"name":"language","targets":243},{"name":"langfamily","targets":244},{"name":"Zanxiety","targets":245},{"name":"Zavoidance","targets":246},{"name":"Site","targets":247}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr::group_by &amp; summarise&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;拆分文件 分组计算&lt;/h2&gt;


```r
df.clean.group_by &lt;- df.clean.mutate_3 %&gt;%
  dplyr::group_by(.,decade) %&gt;% # 根据被试的出生年代，将数据拆分
  dplyr::summarise(mean_avoidance = mean(avoidance)) %&gt;% # 计算不同年代下被试的平均avoidance
  dplyr::ungroup()
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-d90b9f101976ee7c084b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d90b9f101976ee7c084b">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4"],[60,70,80,90],[3.135593220338983,2.896969922438672,2.912103682052531,3.154885815639492]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>decade<\/th>\n      <th>mean_avoidance<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"decade","targets":1},{"name":"mean_avoidance","targets":2}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[4,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr::functions&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;把之前学到的函数一起使用&lt;/h2&gt;

Step1: 选择eatdrink为1的被试    [filter]&lt;br&gt;
&lt;br&gt;
Step2: 选择我们需要的变量   [select]&lt;br&gt;
&lt;br&gt;
Step3: 对反向计分题目重新编码   [mutate]&lt;br&gt;
&lt;br&gt;
Step4: 将出生年份编码为出生年代   [mutate]&lt;br&gt;
&lt;br&gt;
Step5: 按年代计算ALEX的平均值   [group_by, summarise]&lt;br&gt;
&lt;br&gt;

---
# &lt;h1 lang="en"&gt;dplyr::functions&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;把之前学到的函数一起使用&lt;/h2&gt;


```r
df.pg.clean &lt;- df.pg.raw %&gt;%
  dplyr::filter(eatdrink == 1) %&gt;% # 选择eatdrink为1的被试
  dplyr::select(age, starts_with("ALEX"), eatdrink, avoidance) %&gt;%
  dplyr::mutate(ALEX1 = case_when(ALEX1 == '1' ~ '5', # 反向计分
                                  ALEX1 == '2' ~ '4',
                                  ALEX1 == '3' ~ '3',
                                  ALEX1 == '4' ~ '2',
                                  ALEX1 == '5' ~ '1',
                                  TRUE ~ as.character(ALEX1))) %&gt;%
  dplyr::mutate(ALEX1 = as.numeric(ALEX1)) %&gt;%
  dplyr::mutate(ALEX_SUM = rowSums(select(., starts_with("ALEX"))), # 把所有ALEX的题目分数求和
                decade = case_when(age &lt;= 1969 ~ 60, # 把出生年份转换为年代
                                   age &gt;= 1970 &amp; age &lt;= 1979 ~ 70,
                                   age &gt;= 1980 &amp; age &lt;= 1989 ~ 80,
                                   age &gt;= 1990 &amp; age &lt;= 1999 ~ 90,
                                   TRUE ~ NA_real_)) %&gt;%
  dplyr::group_by(decade) %&gt;% # 按照年代将数据拆分
  dplyr::summarise(mean_ALEX = mean(ALEX_SUM)) %&gt;% # 计算每个年代的被试的平均的ALEX_SUM
  dplyr::ungroup() # 解除对数据的拆分
```

---
# &lt;h1 lang="en"&gt;dplyr::functions&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;把之前学到的函数一起使用&lt;/h2&gt;

<div class="datatables html-widget html-fill-item" id="htmlwidget-944b120d06e18c1b5cf7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-944b120d06e18c1b5cf7">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5"],[60,70,80,90,null],[36.98275862068966,37.17721518987342,36.72077922077922,40.90051903114187,39.71428571428572]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>decade<\/th>\n      <th>mean_ALEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"decade","targets":1},{"name":"mean_ALEX","targets":2}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
class: center, middle
&lt;span style="font-size: 60px;"&gt;5.3 数据预处理的进阶操作&lt;/span&gt; &lt;br&gt;

---
# &lt;h1 lang="en"&gt;tidyr&lt;/h1&gt;

**The goal of tidyr is to help you create tidy data. Tidy data is data where:** &lt;br&gt;

- Every column is variable. &lt;br&gt;
- Every row is an observation. &lt;br&gt;
- Every cell is a single value. &lt;br&gt;

&lt;img src="https://tidyr.tidyverse.org/logo.png" alt="dplyr" style="display: block; margin: 0 auto;"&gt;
---
# &lt;h1 lang="en"&gt;tidyr::functions&lt;/h1&gt;

- separate() 把一个变量的单元格内的字符串拆成两份，变成两个变量 &lt;br&gt;
  **更适合用于按固定分隔符分割字符串，如将“2022-02-25”分成“2022”、“02”和“25”三列** &lt;br&gt;
- extract() 类似于separate &lt;br&gt;
  **更适合用于从字符串中提取特定的信息，如将“John Smith”分成“John”和“Smith”两列** &lt;br&gt;
- unite() 把多个列（字符串）整合为一列 &lt;br&gt;

- pivot_longer() 把宽数据转化为长数据 &lt;br&gt;
- pivot_wider() 把长数据转化为宽数据 &lt;br&gt;   
  
- drop_na() 删除缺失值
---
class: center, middle
# &lt;h1 lang="zh-CN"&gt;接下来就要正式讲tidyr了&lt;/h1&gt;
&lt;img src="https://tidyr.tidyverse.org/logo.png" alt="dplyr" style="display: block; margin: 0 auto;"&gt;
&lt;br&gt;

---
# &lt;h1 lang="en"&gt;tidyr::separate&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;拆分单元格内字符串&lt;/h2&gt;


```r
df.clean.separate &lt;- df.mt.raw %&gt;%
  tidyr::separate(., col = Shape, into = c("Valence", "Identity"), 
                                  sep = "(?&lt;=moral|immoral)(?=Self|Other)") %&gt;%
  dplyr::select(Sub, Valence, Identity, everything())
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-b8c468247d09854d65ef" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b8c468247d09854d65ef">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[7302,7302,7302,7302,7302,7302,7302,7302,7302,7302],["immoral","moral","immoral","moral","immoral","immoral","moral","moral","moral","immoral"],["Self","Other","Other","Self","Self","Self","Other","Self","Other","Self"],["02-May-2018_14:23:06","02-May-2018_14:23:08","02-May-2018_14:23:10","02-May-2018_14:23:13","02-May-2018_14:23:15","02-May-2018_14:23:17","02-May-2018_14:23:19","02-May-2018_14:23:21","02-May-2018_14:23:24","02-May-2018_14:23:26"],["Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp"],[22,22,22,22,22,22,22,22,22,22],["female","female","female","female","female","female","female","female","female","female"],["R","R","R","R","R","R","R","R","R","R"],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,2,3,4,5,6,7,8,9,10],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf"],["mismatch","mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch"],["n","n","n","n","m","m","m","m","n","n"],["m","n","n",null,"m","m","m","m","n","n"],[0,1,1,-1,1,1,1,1,1,1],[0.7561,0.7043,0.9903,1.042,0.8207,0.7547,0.5429,0.9009,0.9550999999999999,0.6952]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sub<\/th>\n      <th>Valence<\/th>\n      <th>Identity<\/th>\n      <th>Date<\/th>\n      <th>Prac<\/th>\n      <th>Age<\/th>\n      <th>Sex<\/th>\n      <th>Hand<\/th>\n      <th>Block<\/th>\n      <th>Bin<\/th>\n      <th>Trial<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>CorrResp<\/th>\n      <th>Resp<\/th>\n      <th>ACC<\/th>\n      <th>RT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,6,9,10,11,16,17]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Sub","targets":1},{"name":"Valence","targets":2},{"name":"Identity","targets":3},{"name":"Date","targets":4},{"name":"Prac","targets":5},{"name":"Age","targets":6},{"name":"Sex","targets":7},{"name":"Hand","targets":8},{"name":"Block","targets":9},{"name":"Bin","targets":10},{"name":"Trial","targets":11},{"name":"Label","targets":12},{"name":"Match","targets":13},{"name":"CorrResp","targets":14},{"name":"Resp","targets":15},{"name":"ACC","targets":16},{"name":"RT","targets":17}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
---
# &lt;h1 lang="en"&gt;tidyr::extract&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;拆分单元格内字符串&lt;/h2&gt;


```r
df.clean.extract &lt;- df.mt.raw %&gt;% 
  tidyr::extract(Shape, into = c("Valence", "Identity"),
                        regex = "(moral|immoral)(Self|Other)", remove = FALSE) %&gt;% 
  dplyr::select(Sub, Valence, Identity, everything())
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-ff83d04d296730405b00" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ff83d04d296730405b00">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[7302,7302,7302,7302,7302,7302,7302,7302,7302,7302],["immoral","moral","immoral","moral","immoral","immoral","moral","moral","moral","immoral"],["Self","Other","Other","Self","Self","Self","Other","Self","Other","Self"],["02-May-2018_14:23:06","02-May-2018_14:23:08","02-May-2018_14:23:10","02-May-2018_14:23:13","02-May-2018_14:23:15","02-May-2018_14:23:17","02-May-2018_14:23:19","02-May-2018_14:23:21","02-May-2018_14:23:24","02-May-2018_14:23:26"],["Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp"],[22,22,22,22,22,22,22,22,22,22],["female","female","female","female","female","female","female","female","female","female"],["R","R","R","R","R","R","R","R","R","R"],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,2,3,4,5,6,7,8,9,10],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf"],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf"],["mismatch","mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch"],["n","n","n","n","m","m","m","m","n","n"],["m","n","n",null,"m","m","m","m","n","n"],[0,1,1,-1,1,1,1,1,1,1],[0.7561,0.7043,0.9903,1.042,0.8207,0.7547,0.5429,0.9009,0.9550999999999999,0.6952]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sub<\/th>\n      <th>Valence<\/th>\n      <th>Identity<\/th>\n      <th>Date<\/th>\n      <th>Prac<\/th>\n      <th>Age<\/th>\n      <th>Sex<\/th>\n      <th>Hand<\/th>\n      <th>Block<\/th>\n      <th>Bin<\/th>\n      <th>Trial<\/th>\n      <th>Shape<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>CorrResp<\/th>\n      <th>Resp<\/th>\n      <th>ACC<\/th>\n      <th>RT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,6,9,10,11,17,18]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Sub","targets":1},{"name":"Valence","targets":2},{"name":"Identity","targets":3},{"name":"Date","targets":4},{"name":"Prac","targets":5},{"name":"Age","targets":6},{"name":"Sex","targets":7},{"name":"Hand","targets":8},{"name":"Block","targets":9},{"name":"Bin","targets":10},{"name":"Trial","targets":11},{"name":"Shape","targets":12},{"name":"Label","targets":13},{"name":"Match","targets":14},{"name":"CorrResp","targets":15},{"name":"Resp","targets":16},{"name":"ACC","targets":17},{"name":"RT","targets":18}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;tidyr::unite&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;合并单元格的字符串&lt;/h2&gt;


```r
df.clean.unite &lt;- df.clean.separate %&gt;%
  tidyr::unite(Shape, Valence, Identity, sep = "") 
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-a369f34c0bb2af305e98" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a369f34c0bb2af305e98">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[7302,7302,7302,7302,7302,7302,7302,7302,7302,7302],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf"],["02-May-2018_14:23:06","02-May-2018_14:23:08","02-May-2018_14:23:10","02-May-2018_14:23:13","02-May-2018_14:23:15","02-May-2018_14:23:17","02-May-2018_14:23:19","02-May-2018_14:23:21","02-May-2018_14:23:24","02-May-2018_14:23:26"],["Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp"],[22,22,22,22,22,22,22,22,22,22],["female","female","female","female","female","female","female","female","female","female"],["R","R","R","R","R","R","R","R","R","R"],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,2,3,4,5,6,7,8,9,10],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf"],["mismatch","mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch"],["n","n","n","n","m","m","m","m","n","n"],["m","n","n",null,"m","m","m","m","n","n"],[0,1,1,-1,1,1,1,1,1,1],[0.7561,0.7043,0.9903,1.042,0.8207,0.7547,0.5429,0.9009,0.9550999999999999,0.6952]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sub<\/th>\n      <th>Shape<\/th>\n      <th>Date<\/th>\n      <th>Prac<\/th>\n      <th>Age<\/th>\n      <th>Sex<\/th>\n      <th>Hand<\/th>\n      <th>Block<\/th>\n      <th>Bin<\/th>\n      <th>Trial<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>CorrResp<\/th>\n      <th>Resp<\/th>\n      <th>ACC<\/th>\n      <th>RT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,5,8,9,10,15,16]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Sub","targets":1},{"name":"Shape","targets":2},{"name":"Date","targets":3},{"name":"Prac","targets":4},{"name":"Age","targets":5},{"name":"Sex","targets":6},{"name":"Hand","targets":7},{"name":"Block","targets":8},{"name":"Bin","targets":9},{"name":"Trial","targets":10},{"name":"Label","targets":11},{"name":"Match","targets":12},{"name":"CorrResp","targets":13},{"name":"Resp","targets":14},{"name":"ACC","targets":15},{"name":"RT","targets":16}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;tidyr::pivot_longer&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;长数据与宽数据的相互转换&lt;/h2&gt;


```r
df.clean.long &lt;- df.mt.raw %&gt;% 
  tidyr::pivot_longer(cols = c(RT, ACC),
                      names_to = "DV",
                      values_to = "Value") 
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-15b81393b8418bb98b04" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-15b81393b8418bb98b04">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48"],["02-May-2018_14:23:06","02-May-2018_14:23:06","02-May-2018_14:23:08","02-May-2018_14:23:08","02-May-2018_14:23:10","02-May-2018_14:23:10","02-May-2018_14:23:13","02-May-2018_14:23:13","02-May-2018_14:23:15","02-May-2018_14:23:15","02-May-2018_14:23:17","02-May-2018_14:23:17","02-May-2018_14:23:19","02-May-2018_14:23:19","02-May-2018_14:23:21","02-May-2018_14:23:21","02-May-2018_14:23:24","02-May-2018_14:23:24","02-May-2018_14:23:26","02-May-2018_14:23:26","02-May-2018_14:23:28","02-May-2018_14:23:28","02-May-2018_14:23:30","02-May-2018_14:23:30","02-May-2018_14:23:32","02-May-2018_14:23:32","02-May-2018_14:23:34","02-May-2018_14:23:34","02-May-2018_14:23:36","02-May-2018_14:23:36","02-May-2018_14:23:38","02-May-2018_14:23:38","02-May-2018_14:23:40","02-May-2018_14:23:40","02-May-2018_14:23:42","02-May-2018_14:23:42","02-May-2018_14:23:45","02-May-2018_14:23:45","02-May-2018_14:23:47","02-May-2018_14:23:47","02-May-2018_14:23:49","02-May-2018_14:23:49","02-May-2018_14:23:51","02-May-2018_14:23:51","02-May-2018_14:23:53","02-May-2018_14:23:53","02-May-2018_14:23:55","02-May-2018_14:23:55"],["Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp","Exp"],[7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302],[22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22],["female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female"],["R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24],["immoralSelf","immoralSelf","moralOther","moralOther","immoralOther","immoralOther","moralSelf","moralSelf","immoralSelf","immoralSelf","immoralSelf","immoralSelf","moralOther","moralOther","moralSelf","moralSelf","moralOther","moralOther","immoralSelf","immoralSelf","moralOther","moralOther","immoralOther","immoralOther","moralOther","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralSelf","moralSelf","moralSelf","moralSelf","moralSelf","immoralSelf","immoralSelf","moralOther","moralOther","immoralOther","immoralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralOther","immoralOther"],["immoralSelf","immoralSelf","moralOther","moralOther","immoralOther","immoralOther","moralSelf","moralSelf","immoralSelf","immoralSelf","immoralSelf","immoralSelf","moralOther","moralOther","moralSelf","moralSelf","moralOther","moralOther","immoralSelf","immoralSelf","moralOther","moralOther","immoralOther","immoralOther","moralOther","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralSelf","moralSelf","moralSelf","moralSelf","moralSelf","immoralSelf","immoralSelf","moralOther","moralOther","immoralOther","immoralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralOther","immoralOther"],["mismatch","mismatch","mismatch","mismatch","mismatch","mismatch","mismatch","mismatch","match","match","match","match","match","match","match","match","mismatch","mismatch","mismatch","mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch","match","match","mismatch","mismatch","mismatch","mismatch","match","match","match","match","match","match","mismatch","mismatch","match","match","match","match","mismatch","mismatch"],["n","n","n","n","n","n","n","n","m","m","m","m","m","m","m","m","n","n","n","n","n","n","m","m","m","m","n","n","m","m","n","n","n","n","m","m","m","m","m","m","n","n","m","m","m","m","n","n"],["m","m","n","n","n","n",null,null,"m","m","m","m","m","m","m","m","n","n","n","n","n","n","m","m","m","m","m","m","m","m","n","n","n","n","m","m","n","n","m","m","n","n","m","m","m","m","n","n"],["RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC","RT","ACC"],[0.7561,0,0.7043,1,0.9903,1,1.042,-1,0.8207,1,0.7547,1,0.5429,1,0.9009,1,0.9550999999999999,1,0.6952,1,0.7593,1,0.7135,1,0.5656,1,0.5357,0,0.8078,1,0.96,1,0.6661,1,0.6962,1,0.8803,0,0.5785,1,0.7845,1,0.8146,1,0.6548,1,0.8789,1]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Date<\/th>\n      <th>Prac<\/th>\n      <th>Sub<\/th>\n      <th>Age<\/th>\n      <th>Sex<\/th>\n      <th>Hand<\/th>\n      <th>Block<\/th>\n      <th>Bin<\/th>\n      <th>Trial<\/th>\n      <th>Shape<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>CorrResp<\/th>\n      <th>Resp<\/th>\n      <th>DV<\/th>\n      <th>Value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[3,4,7,8,9,16]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Date","targets":1},{"name":"Prac","targets":2},{"name":"Sub","targets":3},{"name":"Age","targets":4},{"name":"Sex","targets":5},{"name":"Hand","targets":6},{"name":"Block","targets":7},{"name":"Bin","targets":8},{"name":"Trial","targets":9},{"name":"Shape","targets":10},{"name":"Label","targets":11},{"name":"Match","targets":12},{"name":"CorrResp","targets":13},{"name":"Resp","targets":14},{"name":"DV","targets":15},{"name":"Value","targets":16}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;tidyr::pivot_wider&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;长数据与宽数据的相互转换&lt;/h2&gt;


```r
df.clean.wide &lt;- df.clean.long %&gt;% 
  dplyr::select(Sub, Trial, Shape, DV, Value) %&gt;%
  dplyr::group_by(Sub, Shape, DV) %&gt;%
  dplyr::summarise(mean_Value = mean(Value)) %&gt;%
  tidyr::pivot_wider(names_from = c("Shape", "DV"), values_from = "mean_Value", names_glue = "{Shape}_{DV}")
```

```
## `summarise()` has grouped output by 'Sub', 'Shape'. You can override using the
## `.groups` argument.
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-e5d4078646bf53e3ec35" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e5d4078646bf53e3ec35">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10"],[7302,7303,7304,7305,7306,7307,7308,7309,7310,7311],[0.8333333333333334,0.8333333333333334,0.5733333333333334,0.8733333333333333,0.8466666666666667,0.7466666666666667,0.92,0.8066666666666666,0.9399999999999999,0.74],[0.7150866666666666,0.7353655555555556,0.7756066666666667,0.6873306666666666,0.796008,0.7649899999999999,0.711802,0.6836013333333333,0.6363366666666667,0.5731106666666667],[0.8222222222222222,0.7444444444444445,0.7733333333333333,0.76,0.84,0.8466666666666667,0.6933333333333334,0.6533333333333333,0.9333333333333333,0.9133333333333333],[0.7343233333333333,0.75231,0.7326273333333333,0.6825273333333334,0.7793586666666666,0.6808613333333333,0.78936,0.7257066666666667,0.6546973333333334,0.4849913333333333],[0.9333333333333333,0.7555555555555555,0.6466666666666666,0.8133333333333334,0.9,0.8133333333333334,0.8133333333333334,0.66,0.9333333333333333,0.86],[0.6554488888888889,0.7141277777777778,0.7505353333333333,0.6588326666666666,0.6589273333333333,0.7113686666666666,0.7538633333333333,0.7271733333333333,0.578798,0.5512359999999999],[0.7555555555555555,0.7777777777777778,0.86,0.8066666666666666,0.82,0.84,0.9133333333333333,0.8066666666666666,0.9133333333333333,0.6866666666666666],[0.7332711111111111,0.6962200000000001,0.6195513333333333,0.6514086666666666,0.7807166666666666,0.7308346666666666,0.6707666666666666,0.6513313333333334,0.618042,0.561616]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sub<\/th>\n      <th>immoralOther_ACC<\/th>\n      <th>immoralOther_RT<\/th>\n      <th>immoralSelf_ACC<\/th>\n      <th>immoralSelf_RT<\/th>\n      <th>moralOther_ACC<\/th>\n      <th>moralOther_RT<\/th>\n      <th>moralSelf_ACC<\/th>\n      <th>moralSelf_RT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Sub","targets":1},{"name":"immoralOther_ACC","targets":2},{"name":"immoralOther_RT","targets":3},{"name":"immoralSelf_ACC","targets":4},{"name":"immoralSelf_RT","targets":5},{"name":"moralOther_ACC","targets":6},{"name":"moralOther_RT","targets":7},{"name":"moralSelf_ACC","targets":8},{"name":"moralSelf_RT","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;tidyr::drop_na&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;删除含有缺失值的行（被试，试次，实验条件...）&lt;/h2&gt;


```r
df.clean.drou_na &lt;- df.mt.raw %&gt;% 
  tidyr::drop_na()
```

```r
paste("原始数据集有", nrow(df.mt.raw), "行")
```

```
## [1] "原始数据集有 25920 行"
```

```r
paste("删除缺失值后有", nrow(df.clean.drou_na), "行")
```

```
## [1] "删除缺失值后有 25262 行"
```

```r
# 实际操作中，可能粗暴的删除所有含有缺失值的行并不妥
# 因此建议通过dplyr::的filter来筛选出合格的被试（行）
# 然后再用is.na()来检验是否还存在缺失值
any(is.na(df.mt.raw)); sum(is.na(df.mt.raw))
```

```
## [1] TRUE
```

```
## [1] 658
```

---
# &lt;h1 lang="en"&gt;dplyr &amp; tidyr::functions&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;把之前学到的函数一起使用&lt;/h2&gt;

Step1: 选择我们需要的变量   [select]&lt;br&gt;
&lt;br&gt;
Step2: 删除缺失值，选择符合标准的被试   [drop_na, filter]&lt;br&gt;
&lt;br&gt;
Step3: 分实验条件计算平均反应时和正确率   [group_by, summarise]&lt;br&gt;
&lt;br&gt;
Step4: 将Shape变量拆分为Valence和Identity，选取Match-Moral组    [extract, filter]&lt;br&gt;
&lt;br&gt;
Step5: 将长数据转化为宽数据，得到Self和Other情况下的efficiency    [pivot_wide]&lt;br&gt;
&lt;br&gt;
Step6: 计算实验条件为Match-Moral时efficiency的SPE   [mutate, select]&lt;br&gt;
&lt;br&gt;

---
# &lt;h1 lang="en"&gt;dplyr &amp; tidyr::functions&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;Step1: 选择我们需要的变量&lt;/h2&gt;


```r
df.mt.clean &lt;- df.mt.raw %&gt;%
  dplyr::select(Sub, Age, Sex, Hand, #人口统计学
                Block, Bin, Trial, # 试次
                Shape, Label, Match, # 刺激
                Resp, ACC, RT) # 反应结果
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-d7a7ce36713e276e6461" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d7a7ce36713e276e6461">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],[7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302],[22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22],["female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female"],["R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralOther","moralOther","moralSelf","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","moralOther","immoralOther","moralSelf","immoralOther","immoralOther"],["immoralSelf","moralOther","immoralOther","moralSelf","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralOther","moralOther","moralSelf","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","moralOther","immoralOther","moralSelf","immoralOther","immoralOther"],["mismatch","mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch","mismatch","match","match","mismatch","match","mismatch","mismatch","match","match","match","mismatch","match","match","mismatch"],["m","n","n",null,"m","m","m","m","n","n","n","m","m","m","m","n","n","m","n","m","n","m","m","n"],[0,1,1,-1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1],[0.7561,0.7043,0.9903,1.042,0.8207,0.7547,0.5429,0.9009,0.9550999999999999,0.6952,0.7593,0.7135,0.5656,0.5357,0.8078,0.96,0.6661,0.6962,0.8803,0.5785,0.7845,0.8146,0.6548,0.8789]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sub<\/th>\n      <th>Age<\/th>\n      <th>Sex<\/th>\n      <th>Hand<\/th>\n      <th>Block<\/th>\n      <th>Bin<\/th>\n      <th>Trial<\/th>\n      <th>Shape<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>Resp<\/th>\n      <th>ACC<\/th>\n      <th>RT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2,5,6,7,12,13]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Sub","targets":1},{"name":"Age","targets":2},{"name":"Sex","targets":3},{"name":"Hand","targets":4},{"name":"Block","targets":5},{"name":"Bin","targets":6},{"name":"Trial","targets":7},{"name":"Shape","targets":8},{"name":"Label","targets":9},{"name":"Match","targets":10},{"name":"Resp","targets":11},{"name":"ACC","targets":12},{"name":"RT","targets":13}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr &amp; tidyr::functions&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;Step2: 删除缺失值，选择符合标准的被试&lt;/h2&gt;


```r
df.mt.clean &lt;- df.mt.clean %&gt;%
  tidyr::drop_na() %&gt;% #删除缺失值
  dplyr::filter(.,Hand == "R", # 选择右利手被试
                  ACC == 0 | ACC == 1 , # 排除无效应答（ACC = -1 OR 2)
                  RT &gt;= 0.2 &amp; RT &lt;= 1.5)  # 选择RT属于[200,1500]
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-f566325090bf26532918" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f566325090bf26532918">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],[7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302,7302],[22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22],["female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female","female"],["R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],[1,2,3,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,1],["immoralSelf","moralOther","immoralOther","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralOther","moralOther","moralSelf","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","moralOther","immoralOther","moralSelf","immoralOther","immoralOther","moralSelf"],["immoralSelf","moralOther","immoralOther","immoralSelf","immoralSelf","moralOther","moralSelf","moralOther","immoralSelf","moralOther","immoralOther","moralOther","moralSelf","immoralOther","immoralSelf","moralSelf","moralSelf","immoralSelf","moralOther","immoralOther","moralSelf","immoralOther","immoralOther","moralSelf"],["mismatch","mismatch","mismatch","match","match","match","match","mismatch","mismatch","mismatch","match","match","mismatch","match","mismatch","mismatch","match","match","match","mismatch","match","match","mismatch","match"],["m","n","n","m","m","m","m","n","n","n","m","m","m","m","n","n","m","n","m","n","m","m","n","m"],[0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1],[0.7561,0.7043,0.9903,0.8207,0.7547,0.5429,0.9009,0.9550999999999999,0.6952,0.7593,0.7135,0.5656,0.5357,0.8078,0.96,0.6661,0.6962,0.8803,0.5785,0.7845,0.8146,0.6548,0.8789,0.7131]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sub<\/th>\n      <th>Age<\/th>\n      <th>Sex<\/th>\n      <th>Hand<\/th>\n      <th>Block<\/th>\n      <th>Bin<\/th>\n      <th>Trial<\/th>\n      <th>Shape<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>Resp<\/th>\n      <th>ACC<\/th>\n      <th>RT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2,5,6,7,12,13]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Sub","targets":1},{"name":"Age","targets":2},{"name":"Sex","targets":3},{"name":"Hand","targets":4},{"name":"Block","targets":5},{"name":"Bin","targets":6},{"name":"Trial","targets":7},{"name":"Shape","targets":8},{"name":"Label","targets":9},{"name":"Match","targets":10},{"name":"Resp","targets":11},{"name":"ACC","targets":12},{"name":"RT","targets":13}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr &amp; tidyr::functions&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;Step3: 分实验条件计算&lt;/h2&gt;


```r
df.mt.clean &lt;- df.mt.clean %&gt;%
  dplyr::group_by(Sub, Shape, Label, Match) %&gt;%
  dplyr::summarise(mean_ACC = mean(ACC),
                   mean_RT = mean(RT)) %&gt;%
  dplyr::ungroup() %&gt;%
  dplyr::mutate(efficiency = mean_RT/mean_ACC) 
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-f2d1b38311ecff9e45d7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f2d1b38311ecff9e45d7">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],[7302,7302,7302,7302,7302,7302,7302,7302,7303,7303,7303,7303,7303,7303,7303,7303,7304,7304,7304,7304,7304,7304,7304,7304],["immoralOther","immoralOther","immoralSelf","immoralSelf","moralOther","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralSelf","moralOther","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralSelf","moralOther","moralOther","moralSelf","moralSelf"],["immoralOther","immoralOther","immoralSelf","immoralSelf","moralOther","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralSelf","moralOther","moralOther","moralSelf","moralSelf","immoralOther","immoralOther","immoralSelf","immoralSelf","moralOther","moralOther","moralSelf","moralSelf"],["match","mismatch","match","mismatch","match","mismatch","match","mismatch","match","mismatch","match","mismatch","match","mismatch","match","mismatch","match","mismatch","match","mismatch","match","mismatch","match","mismatch"],[0.8888888888888888,0.9047619047619048,0.8636363636363636,0.8636363636363636,0.9555555555555556,0.9111111111111111,0.8863636363636364,0.7441860465116279,0.7777777777777778,0.8888888888888888,0.7111111111111111,0.7777777777777778,0.8863636363636364,0.6666666666666666,0.9333333333333333,0.6222222222222222,0.7183098591549296,0.6567164179104478,0.821917808219178,0.7397260273972602,0.8333333333333334,0.6056338028169014,0.9866666666666667,0.7162162162162162],[0.6717288888888889,0.7381904761904762,0.7123159090909091,0.7423454545454545,0.60298,0.7079177777777778,0.697540909090909,0.7482930232558139,0.7167022222222222,0.7540288888888889,0.7246755555555555,0.7799444444444444,0.7167772727272728,0.7042711111111111,0.6557266666666667,0.7367133333333333,0.7581492957746478,0.7614373134328358,0.706672602739726,0.7520465753424658,0.7493875,0.7360676056338028,0.552276,0.6864148648648649],[0.7556950000000001,0.8158947368421052,0.8247868421052632,0.8595578947368421,0.6310255813953488,0.7769829268292683,0.7869692307692308,1.00551875,0.9214742857142857,0.8482825000000001,1.019075,1.002785714285714,0.808671794871795,1.056406666666667,0.7025642857142858,1.184003571428571,1.055462745098039,1.159461363636364,0.859785,1.016655555555556,0.899265,1.215367441860465,0.5597391891891892,0.9583905660377359]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sub<\/th>\n      <th>Shape<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>mean_ACC<\/th>\n      <th>mean_RT<\/th>\n      <th>efficiency<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Sub","targets":1},{"name":"Shape","targets":2},{"name":"Label","targets":3},{"name":"Match","targets":4},{"name":"mean_ACC","targets":5},{"name":"mean_RT","targets":6},{"name":"efficiency","targets":7}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr &amp; tidyr::functions&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;Step4: 将Shape变量拆分&lt;/h2&gt;


```r
df.mt.clean &lt;- df.mt.clean %&gt;%
  tidyr::extract(Shape, into = c("Valence", "Identity"),
                        regex = "(moral|immoral)(Self|Other)", remove = FALSE) %&gt;%
  dplyr::filter(Match == "match" &amp; Valence == "moral") 
  # 自我优势效应一般讨论的是匹配条件下
  # 人们对自己相关的信息反应快于非自我相关的
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-2e6e9e111e5b29e48d29" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2e6e9e111e5b29e48d29">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],[7302,7302,7303,7303,7304,7304,7305,7305,7306,7306,7307,7307,7308,7308,7309,7309,7310,7310,7311,7311,7312,7312,7313,7313],["moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf"],["moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral","moral"],["Other","Self","Other","Self","Other","Self","Other","Self","Other","Self","Other","Self","Other","Self","Other","Self","Other","Self","Other","Self","Other","Self","Other","Self"],["moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf","moralOther","moralSelf"],["match","match","match","match","match","match","match","match","match","match","match","match","match","match","match","match","match","match","match","match","match","match","match","match"],[0.9555555555555556,0.8863636363636364,0.8863636363636364,0.9333333333333333,0.8333333333333334,0.9866666666666667,0.9333333333333333,0.9324324324324325,0.9866666666666667,0.7972972972972973,0.8266666666666667,0.8888888888888888,0.8918918918918919,0.9466666666666667,0.76,0.9459459459459459,0.96,0.96,0.92,0.8533333333333334,0.7361111111111112,0.9864864864864865,0.6338028169014085,0.410958904109589],[0.60298,0.697540909090909,0.7167772727272728,0.6557266666666667,0.7493875,0.552276,0.5991426666666667,0.588072972972973,0.5805133333333333,0.7772581081081081,0.703596,0.6617236111111111,0.7399135135135135,0.623512,0.6938013333333334,0.6045945945945946,0.5399080000000001,0.570092,0.5290586666666667,0.5445226666666667,0.7493319444444444,0.6192027027027027,0.5500957746478873,0.5352452054794521],[0.6310255813953488,0.7869692307692308,0.808671794871795,0.7025642857142858,0.899265,0.5597391891891892,0.6419385714285715,0.6306869565217391,0.5883581081081081,0.9748661016949154,0.8511241935483871,0.7444390625,0.8296,0.6586394366197182,0.9128964912280703,0.6391428571428572,0.5624041666666667,0.5938458333333334,0.5750637681159421,0.6381125,1.01796037735849,0.6276849315068493,0.8679288888888887,1.30243]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sub<\/th>\n      <th>Shape<\/th>\n      <th>Valence<\/th>\n      <th>Identity<\/th>\n      <th>Label<\/th>\n      <th>Match<\/th>\n      <th>mean_ACC<\/th>\n      <th>mean_RT<\/th>\n      <th>efficiency<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Sub","targets":1},{"name":"Shape","targets":2},{"name":"Valence","targets":3},{"name":"Identity","targets":4},{"name":"Label","targets":5},{"name":"Match","targets":6},{"name":"mean_ACC","targets":7},{"name":"mean_RT","targets":8},{"name":"efficiency","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr &amp; tidyr::functions&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;Step5: 将长数据转化为宽数据&lt;/h2&gt;


```r
df.mt.clean &lt;- df.mt.clean %&gt;%
  dplyr::select(Sub, Identity, efficiency) %&gt;%
  tidyr::pivot_wider(names_from = "Identity", values_from = "efficiency")
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-f895f2ac6ced80e73552" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f895f2ac6ced80e73552">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],[7302,7303,7304,7305,7306,7307,7308,7309,7310,7311,7312,7313,7314,7315,7316,7317,7318,7319,7321,7322,7323,7324,7325,7326],[0.6310255813953488,0.808671794871795,0.899265,0.6419385714285715,0.5883581081081081,0.8511241935483871,0.8296,0.9128964912280703,0.5624041666666667,0.5750637681159421,1.01796037735849,0.8679288888888887,0.7390728571428572,0.7513920634920634,0.9466232142857143,1.224395652173913,0.7831446153846153,0.7700041666666667,0.6653225352112676,0.6781656716417911,0.8948016666666666,1.046992727272727,0.8173474576271187,0.6113027777777778],[0.7869692307692308,0.7025642857142858,0.5597391891891892,0.6306869565217391,0.9748661016949154,0.7444390625,0.6586394366197182,0.6391428571428572,0.5938458333333334,0.6381125,0.6276849315068493,1.30243,0.8143089552238806,0.5015630136986301,0.6222581081081081,0.797659090909091,0.7447153846153846,0.7197430555555555,0.6761909090909091,0.9346303571428572,0.7185819444444445,0.8461206349206349,0.6643409090909091,0.6940514705882352]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sub<\/th>\n      <th>Other<\/th>\n      <th>Self<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Sub","targets":1},{"name":"Other","targets":2},{"name":"Self","targets":3}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
# &lt;h1 lang="en"&gt;dplyr &amp; tidyr::functions&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;Step6: 计算SPE&lt;/h2&gt;


```r
df.mt.clean &lt;- df.mt.clean %&gt;%
  dplyr::mutate(eff_moral_SPE = Self - Other) %&gt;%
  dplyr::select(Sub, eff_moral_SPE) 
```
<div class="datatables html-widget html-fill-item" id="htmlwidget-a6b03c04fa506dd171d7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a6b03c04fa506dd171d7">{"x":{"filter":"none","vertical":false,"fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],[7302,7303,7304,7305,7306,7307,7308,7309,7310,7311,7312,7313,7314,7315,7316,7317,7318,7319,7321,7322,7323,7324,7325,7326],[0.1559436493738819,-0.1061075091575092,-0.3395258108108108,-0.01125161490683235,0.3865079935868073,-0.1066851310483871,-0.1709605633802818,-0.273753634085213,0.0314416666666667,0.06304873188405791,-0.3902754458516411,0.4345011111111114,0.07523609808102338,-0.2498290497934333,-0.3243651061776062,-0.426736561264822,-0.03842923076923077,-0.0502611111111112,0.01086837387964146,0.2564646855010662,-0.1762197222222222,-0.2008720923520924,-0.1530065485362095,0.08274869281045749]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sub<\/th>\n      <th>eff_moral_SPE<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Sub","targets":1},{"name":"eff_moral_SPE","targets":2}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
## &lt;h2 lang="zh-CN"&gt;感受一下如果所有数据清洗的代码放在一起是什么样子&lt;/h2&gt;


```r
df.mt.clean &lt;- df.mt.raw %&gt;%
  dplyr::select(Sub, Age, Sex, Hand, #人口统计学
                Block, Bin, Trial, # 试次
                Shape, Label, Match, # 刺激
                Resp, ACC, RT, # 反应结果
                ) %&gt;% 
  tidyr::drop_na() %&gt;% #删除缺失值
  dplyr::filter(.,Hand == "R", # 选择右利手被试
                  ACC == 0 | ACC == 1 , # 排除无效应答（ACC = -1 OR 2)
                  RT &gt;= 0.2 &amp; RT &lt;= 1.5 # 选择RT属于[200,1500]
                ) %&gt;%
  dplyr::group_by(Sub, 
                  Shape, Label, Match) %&gt;%
  dplyr::summarise(mean_ACC = mean(ACC),
                   mean_RT = mean(RT)) %&gt;%
  dplyr::ungroup() %&gt;%
  dplyr::mutate(efficiency = mean_RT/mean_ACC) %&gt;%
  tidyr::extract(Shape, into = c("Valence", "Identity"),
                        regex = "(moral|immoral)(Self|Other)", remove = FALSE) %&gt;%
  dplyr::filter(Match == "match" &amp; Valence == "moral") %&gt;%
  dplyr::select(Sub, Identity, efficiency) %&gt;%
  tidyr::pivot_wider(names_from = "Identity", values_from = "efficiency") %&gt;%
  dplyr::mutate(eff_moral_SPE = Self - Other) %&gt;%
  dplyr::select(Sub, eff_moral_SPE) 
```

---
# &lt;h1 lang="zh-CN"&gt;课堂练习题&lt;/h1&gt;

计算不同Shape情况下（immoralself，moralself，immoralother，moralother）&lt;br&gt;
基于信号检测论match与mismatch之间的d值（match为信号，mismatch噪音）&lt;br&gt;
为了方便大家写代码。以下是计算信号检测论d值的公式 &lt;br&gt;


```r
dplyr::summarise(
      hit = length(ACC[Match == "match" &amp; ACC == 1]),
      fa = length(ACC[Match == "mismatch" &amp; ACC == 0]),
      miss = length(ACC[Match == "match" &amp; ACC == 0]),
      cr = length(ACC[Match == "mismatch" &amp; ACC == 1]),
      Dprime = qnorm(
        ifelse(hit / (hit + miss) &lt; 1,
               hit / (hit + miss),
               1 - 1 / (2 * (hit + miss))
              )
        ) 
             - qnorm(
        ifelse(fa / (fa + cr) &gt; 0,
              fa / (fa + cr),
              1 / (2 * (fa + cr))
              )
                    )
      ) 
```

---
# &lt;h1 lang="zh-CN"&gt;课堂练习题&lt;/h1&gt;
## &lt;h2 lang="zh-CN"&gt;思路&lt;/h2&gt;
Step1: 选择需要的变量 &lt;br&gt;
&lt;br&gt;
Step2: 基于Sub，Block，Bin和Shape分组 &lt;br&gt;
&lt;br&gt;
Step3: 使用计算公式 &lt;br&gt;
&lt;br&gt;
Step4: 删除击中、虚报、误报、正确拒绝 &lt;br&gt;
&lt;br&gt;
Step5: 按Sub和Shape分组 &lt;br&gt;
&lt;br&gt;
Step6: 长转宽，得到每个Shape情况下的信号检测论d值 &lt;br&gt;
&lt;br&gt;

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
