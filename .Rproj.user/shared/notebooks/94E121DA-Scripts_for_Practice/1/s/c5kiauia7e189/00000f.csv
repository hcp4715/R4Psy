"0","df_dprime <- df7 %>%"
"0","      # 分组"
"0","      dplyr::group_by(Sub, Shape) %>%"
"0","      dplyr::summarise("
"0","            hit = length(ACC[Match == ""match"" & ACC == 1]), "
"0","            fa = length(ACC[Match == ""mismatch"" & ACC == 0]),"
"0","            miss = length(ACC[Match == ""match"" & ACC == 0]),"
"0","            cr = length(ACC[Match == ""mismatch"" & ACC == 1]),"
"0","            # 计算 $d'$ 值, "
"0","            # 包括两个部分：hit对应的z值和fa对应的z值"
"0","            # 每个部分使用ifelse对极端值进行处理,采用上述文献中的简易方法"
"0","            Dprime = qnorm("
"0","                  ifelse(hit / (hit + miss) < 1,"
"0","                         hit / (hit + miss),"
"0","                         1 - 1 / (2 * (hit + miss))"
"0","                         )"
"0","                  ) "
"0","             - qnorm("
"0","                   ifelse(fa / (fa + cr) > 0,"
"0","                          fa / (fa + cr),"
"0","                          1 / (2 * (fa + cr))"
"0","                          )"
"0","                   )"
"0","            )%>%"
"0","      dplyr::ungroup()"
"2","`summarise()` has grouped output by 'Sub'. You can override using the `.groups` argument."
"0","print(df_dprime) #可以逐步打印结果以便检查"
