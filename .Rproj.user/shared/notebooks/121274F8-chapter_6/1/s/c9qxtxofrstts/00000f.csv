"0","# 用管道操作符合并以上代码"
"0","# 使用管道操作符时建议先单独查看变量的数据类型，转换完毕后在进行操作"
"0","# dplyr::glimpse(penguin_data)"
"0",""
"0","df2 <- df1 %>%"
"0","  dplyr::select(Temperature_t1, Temperature_t2, socialdiversity, Site, DEQ, romantic, ALEX1:ALEX16) %>%"
"0","  dplyr::filter(!is.na(Temperature_t1) & !is.na(Temperature_t2) & !is.na(DEQ)) %>%"
"0","  dplyr::mutate(Temperature = rowMeans(select(., starts_with(""Temperature""))),"
"0","                ALEX4 = case_when(TRUE ~ 6 - ALEX4),"
"0","                ALEX12 = case_when(TRUE ~ 6 - ALEX12),"
"0","                ALEX14 = case_when(TRUE ~ 6 - ALEX14),"
"0","                ALEX16 = case_when(TRUE ~ 6 - ALEX16),"
"0","                ALEX = rowSums(select(., starts_with(""ALEX"")))) %>%"
"0","  dplyr::group_by(Site) %>%"
"0","  dplyr::summarise(mean_Temperature = mean(Temperature)) %>%"
"0","  dplyr::ungroup()"
"0",""
"0","# 查看数据"
"0","df2"
