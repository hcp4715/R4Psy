"0","# 用管道操作符合并以上代码"
"0","df4 <- df3 %>%"
"0","  dplyr::select(Sub, Age, Sex, Hand, #人口统计学"
"0","                Block, Bin, Trial,   # 试次"
"0","                Shape, Label, Match, # 刺激"
"0","                Resp, ACC, RT) %>%  # 反应结果"
"0","  tidyr::drop_na() %>%               #删除缺失值"
"0","  dplyr::filter(Hand == ""R"",         # 选择右利手被试"
"0","                ACC == 0 | ACC == 1, # 排除无效应答（ACC = -1 OR 2)"
"0","                RT >= 0.2 & RT <= 1.5) %>%  # 选择RT属于[200,1500]"
"0","  dplyr::group_by(Sub,Shape, Label, Match) %>%"
"0","  dplyr::summarise(mean_ACC = mean(ACC), mean_RT = mean(RT)) %>%"
"0","  dplyr::ungroup() %>%"
"0","  tidyr::extract(Shape, into = c(""Valence"", ""Identity""),"
"0","              regex = ""(moral|immoral)(Self|Other)"", remove = FALSE) %>%"
"0","  dplyr::filter(Match == ""match"" & Valence == ""moral"") %>%"
"0","  dplyr::select(Sub, Identity, mean_RT) %>%"
"0","  tidyr::pivot_wider(names_from=""Identity"", values_from=""mean_RT"") %>%"
"0","  dplyr::mutate(moral_SPE=Self - Other)"
"0","```"
"2","Error: attempt to use zero-length variable name
"
